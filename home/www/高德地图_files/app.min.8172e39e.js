webpackJsonp([9],[function(a,b,c){a.exports=c(104)},,,,,,,,,function(a,b,c){(function(b,d,e,f){function g(a,b,c){var d=b.split(" ");if(1==d.length)return AMap.event.addListener(a,b,c);for(var e=0;e<d.length;e++)AMap.event.addListener(a,d[e],c)}function h(a){return a=new Number(a).toFixed(2),1e3>a?parseInt(a)+"米":Math.round(a/1e3*100)/100+"公里"}c(28),c(29);var i=c(13),j=c(7),k=c(52),l={directCity:["110000","310000","120000","500000"],mapLevel:!1,deepIsOpen:!1,addBasicPlugin:function(){themap.plugin(["AMap.Scale","AMap.MouseTool"],function(){var a=b("#themap");a.width(),themapHeight=a.height();var c=new AMap.Scale({});themap.addControl(c),b(".amap-toolbar").appendTo("#maptoolbox"),b(".amap-toolbar").css({bottom:"auto",right:"24px"});var e=new Date,f=e.getFullYear();a.find(".amap-copyright").html("©"+f+' 高德软件 <span id="mapCode">'+d.mapCode+'</span> |  <a href="http://lbs.amap.com/" target="_blank" trace="api">开放平台</a> |  <a href="http://map.amap.com/help/index.html?type=addpoi" target="_blank" trace="addpoi">商户标注</a> | <a href="http://map.amap.com/about/index.html" target="_blank" trace="about">关于我们</a> | <a href="http://map.amap.com/help/index.html" target="_blank" trace="feedback">意见反馈</a>').css("display","block")})},initMapEvent:function(){var a=this;g(themap,"dragstart",function(c){b(document).trigger("amap.drag.start"),a.closeDeepInfowindow(),d.mapchange=!0}),g(themap,"dragend",function(a){d.northeast=themap.getBounds().northeast}),g(themap,"moveend",function(b){d.northeast=themap.getBounds().northeast,a.setAdcode(),d.mapchange=!1}),g(themap,"zoomstart",function(a){b(document).trigger("amap.zoom.start"),d.mapchange=!0}),g(themap,"zoomend",function(a){d.listenMapMove=!1,d.mapchange=!1;var b=themap.getZoom();d.zoom=b})},setAdcode:function(){var a=this,b=themap.getBounds().getCenter();a.getRegeoData(b,function(a){var b=themap.getZoom(),c=a.country,e=a.cityadcode,f=a.provinceadcode;7>b&&""!=c?d.adcode="100000":b>=7&&10>b&&""!=c?d.adcode=f:b>=10&&""!=c?d.adcode=e:d.adcode="000000"})},initHotsopt:function(){var a=this,c=i;g(themap,"hotspotclick",function(c){e.trace({type:"event",category:"map",action:"click",label:"热点选点"});var d=c,g=d.id;a.getPoiInfoByid(g,function(c){if(c.length>0){var d=null;b.each(c,function(a,b){if("marker"==b.type){if(f.isEmpty(b.list))return;d=b.list[0],d.markerType="marker-hotspot",d.location=new AMap.LngLat(b.list[0].location.lng,b.list[0].location.lat)}}),a.addInfowindow({param:d})}})}),g(themap,"hotspotover",function(b){var d=b.name,e=b.lnglat;c.hotspotPrompt?(c.hotspotPrompt.setContent(a.setHotSpotPromptContent(d)),c.hotspotPrompt.setPosition(e),c.hotspotPrompt.setMap(themap)):a.addHotSpotPrompt({pos:e,name:d})}),g(themap,"hotspotout",function(b){a.removeHotSpotPrompt()})},addPlaceSearchLayer:function(a){var b=this,c=i,e=themap,f="placeSearchLayer";e.plugin(["AMap.PlaceSearchLayer"],function(){var h=new AMap.PlaceSearchLayer({map:e,keywords:a,zIndex:118});d.tileLayer[f]=h,g(h,"click",function(a){c.maPoiContent=a.content,b.openPlaceSearchInfowindow(0)}),g(h,"mouseover",function(a){if(c.maPoiPrompt){var d=a.content,e=a.lnglat;c.maPoiPrompt.setContent(b.setMaPoiPromptContent(d)),c.maPoiPrompt.setPosition(e),c.maPoiPrompt.setMap(themap)}else b.addMaPoiPrompt(a)}),g(h,"mouseout",function(){c.maPoiPrompt&&c.maPoiPrompt.setMap(null)})})},openPlaceSearchInfowindow:function(a){var c=this,d=i,e=d.maPoiContent,g=e.length,h=e[a].id;c.getPoiInfoByid(h,function(d){if(d.length>0){var e=null;b.each(d,function(b,c){"marker"==c.type&&(e=c.list[0],f.isEmpty(e)||(e.markerType="marker-ma",e.location=new AMap.LngLat(c.list[0].location.lng,c.list[0].location.lat),e.maindex=a,e.macount=g))}),c.addInfowindow({param:e})}})},clearPlaceSearchLayer:function(){var a=this;a.clearTileLayer(["placeSearchLayer"])},clearTileLayer:function(a){b.each(a,function(a,b){d.tileLayer[b]&&d.tileLayer[b].setMap(null)})},addContextMenu:function(){var a=this,c=i,e=themap,g="canvas-contextMenu",h=function(g){var h=new AMap.ContextMenu({isCustom:!0,content:g}),i=null,j=null;c.contextMenu=h,h.className="context-menu",AMap.event.addListener(e,"rightclick",function(g){d.mapToolLayer.ranging||(setTimeout(function(){"dir"!=d.state||f.isEmpty(d.direction)||b("#menuClearDir").removeClass("unable"),"bus"==d.dir.type||"walk"==d.dir.type?b("#menuVia").addClass("unable"):b("#menuVia").removeClass("unable")},400),a.getMarkerData(g.lnglat,function(a){var b=a.regeocode.addressComponent;i=b.city||b.district?b.city||b.province+b.district:"未知地点",j=i,i.length>6&&(j=i.substr(0,6)+"..."),h.open(e,g.lnglat),c.contextMenuPos=g.lnglat}))})};j.tplLoad({filename:g,data:{},callback:h})},isMapEmpty:function(){var a=themap.get("overlays");return!a||a.length<1?!0:!1},addMarker:function(a){var c=this,e=i,a=a||{},h=a.list,j=0;b.each(h,function(a,i){if(!f.isEmpty(i.location)){var k=i.markerType;if(1==h.length&&"marker-poi-geo"==k){var l=i.level;if(l)switch(l){case"GL_CITY":c.mapLevel=11;break;case"GL_PROVINCE":c.mapLevel=7,c.directCity.indexOf(i.adcode)>=0&&(c.mapLevel=11);break;case"GL_COUNTRY":c.mapLevel=4,i.location.lng="116.397473",i.location.lat="39.909375"}}else cityLevel=!1;var m={topWhenClick:!0,topWhenMouseOver:!0,position:new AMap.LngLat(i.location.lng,i.location.lat)};"6"==i.tType&&j++;var n=c.setMarkerOpt(k,i,a-j);if(n){m=f.extend(m,n);var o=new AMap.Marker(m);o.id=i.id,"marker-busStop"==k?(e.busStops[i.id]=o,e.busStopsDatas[i.id]=i):"marker-fav"==k?(e.favMarkers[i.id]=o,e.poiFavDatas[i.id]=i):"marker-fav-single"==k?e.favSingleMarker[i.id]=o:"marker-nearby"==k?e.nearbyCenter=o:(e.markers[i.id]=o,e.poiDatas[i.id]=i),g(o,"click",function(a){var c=a.target.id,f=e.poiDatas[c];if(f&&"marker-citySuggestion"==f.markerType){var g=f.adcode,h=f.keyword;d.fwd("/search?"+b.param({query:h,query_type:"TQUERY",city:g}))}else d.markerState.active.poiid=c}),g(o,"dragend",function(a){var b=a.target.getPosition(),c=a.target.id,f=e.poiDatas[c].type;d.redir={pos:b,type:f}})}}})},addSubmarker:function(a){var c=this,d=a.list;f.isEmpty(d)||b.each(d,function(a,b){var d=b.subPois;f.isEmpty(d)||c.addMarker({list:d})})},showSubmarker:function(a){},showPolygon:function(){},addTmpMarker:function(a){var b=this,c=i,d="marker-tmp",e={map:themap,zIndex:10,position:a};e=f.extend(e,b.setMarkerOpt(d));var h=new AMap.Marker(e);c.markerTmp=h,g(h,"click",function(){b.openWhereInfowindow({pos:a,type:d})})},addPlanMarker:function(a){var b=this,c=i,d=a.type,e=a.pos,g={map:themap,zIndex:10,position:e};g=f.extend(g,b.setMarkerOpt(d));var h=new AMap.Marker(g);c.markerPlan[d]=h},addSignMarker:function(a){},addFavMarker:function(a){var c=this;if(a){var e=[];b.each(a.info.data,function(a,c){var f=c.data;if("0"==c.type){var g={location:d.favapi.toLngLat(f.point_x,f.point_y),id:f.item_id,tType:"fav",contain:[f.custom_address,f.custom_phone_numbers]},h=b.extend(!0,{},f,g);e.push(h)}});var f=[];f.push({type:"marker",list:e}),c.addOverlays(f,"noset")}},addPolyline:function(a){var c=this,d=i,e=a.list;d.polylineDatas.length=e.length,b.each(e,function(a,g){var h=g,i=null,j=10,k=null,l=null,m=null,n=h.polyType,o=null,p=null,q=!1;if(h.path){switch(b.each(h.path,function(a,b){h.path[a]=new AMap.LngLat(b.lng,b.lat)}),n){case"poly-bus-bus":l="solid",i=f.isEmpty(h.eta)?"#"+h.color:"#1BAC2E",strokeOpacity=1,q=!0,k=themap,o=d.polylinePlan,p=d.polylineDatasPlan;break;case"poly-bus-subway":l="solid",i="#"+h.color,strokeOpacity=1,q=!0,k=themap,o=d.polylinePlan,p=d.polylineDatasPlan;break;case"poly-bus-walk":l="dashed",i="#898c8c",strokeOpacity=1,k=themap,o=d.polylinePlan,p=d.polylineDatasPlan;break;case"poly-bus-rail":l="solid",i="#1BAC2E",strokeOpacity=1,q=!0,k=themap,o=d.polylinePlan,p=d.polylineDatasPlan;break;case"poly-bus-taxi":l="solid",i="#2e99fd",strokeOpacity=1,q=!0,k=themap,o=d.polylinePlan,p=d.polylineDatasPlan;break;case"poly-drive":l="solid",i="#9933ff",strokeOpacity=1,k=null,o=d.polylinePlan,p=d.polylineDatasPlan;break;case"poly-walk":l="solid",i="#25c2f2",strokeOpacity=1,k=themap,o=d.polylinePlan,p=d.polylineDatasPlan;break;case"poly-bus":l="solid",i="#25c2f2",strokeOpacity=1,k=themap,o=d.polylineBus,p=d.polylineDatasBus;break;case"poly-fav-drive":l="solid",i="#9933ff",strokeOpacity=1,k=themap,o=d.polylinePlan,p=d.polylineDatasPlan;break;case"poly-road":l="solid",i="#0892FB",strokeOpacity=1,k=themap,o=d.polylineRoad,p=d.polylineDatasRoad;break;case"poly-district":l="dashed",i="#5341fd",strokeOpacity=1,k=themap,m=2,o=d.polylineDistrict,p=d.polylineDatasDistrict}var r={map:k,path:h.path,zIndex:j,strokeColor:i,strokeOpacity:strokeOpacity,strokeWeight:m||6,strokeStyle:l,strokeDasharray:[8,8],isOutline:q,outlineColor:"#fff"},s=new AMap.Polyline(r);"poly-road"==n?s.id="road-"+h.id+"-"+a:s.id=h.segid||h.id,o[s.id]=s,p[s.id]=h,p.length=e.length}"bus"==h.type&&h.eta&&!f.isEmpty(h.eta)&&c.addBusEta(h.eta.lnk)})},addBusEta:function(a){var c=i,d={0:"#1BAC2E",1:"#1BAC2E",2:"#FFC700",3:"#E94B37",4:"#A81212"};if(!f.isEmpty(a)){var e={map:themap,zIndex:11,strokeOpacity:1,strokeWeight:6,strokeStyle:"solid",outlineColor:"#fff"};b.each(a,function(a,b){e.path=b.path,e.strokeColor=d[b.v];var f=new AMap.Polyline(e);c.polylineBusEta.push(f)})}},addTmpPolyline:function(a){var b=i,c=51,d="#1c95db",e={map:themap,path:a.list[0].path,zIndex:c,strokeColor:d,strokeOpacity:.6,strokeWeight:6,strokeDasharray:[10,5]};b.polylineTmp&&b.polylineTmp.setMap(null);var f=new AMap.Polyline(e);b.polylineTmp=f},addRoutePolyline:function(a){var c=i,e=5,f="#1BAC2E",h=7,j="#FFF",k=a.list,l={map:themap,zIndex:e,strokeOpacity:.9,strokeWeight:7,strokeColor:f,strokeDasharray:[10,5]},m={map:themap,isOutline:!0,outlineColor:"#fff",zIndex:h,strokeOpacity:.3,strokeWeight:7,strokeColor:j,strokeDasharray:[10,5]};b.each(k,function(a,b){var e=b;if(e.path){l.path=e.path;var f=new AMap.Polyline(l);c.polylineRoute[b.index]=f,m.path=e.path;var h=new AMap.Polyline(m);h.id=b.index,c.polylineRouteTop[b.index]=h,g(h,"click",function(a){var b=a.target.id.toString();d.carState.activeindex=b})}})},addHighlightPolyline:function(a){var b=i,c=20,d="#f9263b",e={map:themap,path:a.path,zIndex:c,strokeColor:d,strokeOpacity:1,strokeWeight:6,strokeDasharray:[10,5]};b.polylineHighlight&&b.polylineHighlight.setMap(null);var f=new AMap.Polyline(e);return b.polylineHighlight=f,f},addPolygon:function(a){var c=i,d=a.list,e=/^(\d+\.\d+),(\d+\.\d+)$/;b.each(d,function(a,d){var g=new Array;f.isEmpty(d.bound)||b.each(d.bound,function(a,b){var c=b;e.test(c)&&(lng=c.split(",")[0],lat=c.split(",")[1],g.push(new AMap.LngLat(lng,lat)))});var h={map:themap,bubble:!0,path:g,strokeColor:"#0075e2",strokeOpacity:.75,strokeWeight:1,fillColor:"#40a7ff",fillOpacity:.25},i=new AMap.Polygon(h);c.polygon[d.id]=i,c.polygonDatas[d.id]=d})},getRadius:function(a,b,c){var d=i,e=d.nearbyDrager;if(null===e)c=c||1e3;else{var f=a.getPosition();c=c||f.distance(b)}return c},addNearByCenter:function(a){var b=this,c=i,d=document.createElement("div");d.className="center-marker",d.id="cemter-marker";var e={id:"nearyby_center",map:themap,zIndex:100,position:a,content:d,offset:{x:-15,y:-38}},f=new AMap.Marker(e);g(f,"click",function(){b.nearbyEnable()}),c.nearbyCenter=f},addNearByDrager:function(a){var c=this,e=i,f=e.nearbyCenter.getPosition();a=a||1e4;var j=f.offset(a,0),k=document.createElement("div");k.className="nearby_drager",k.id="nearby_drager";var l={id:"nearby_dragmarker",map:themap,zIndex:999,position:j,draggable:!0,content:k,offset:{x:-7,y:-8}},m=new AMap.Marker(l);g(m,"dragging",function(a){var d=f.lat,g=a.lnglat.lng;m.setPosition(new AMap.LngLat(g,d));var i=m.getPosition(),j=c.getRadius(e.nearbyCenter,i);e.nearbyCircle.setRadius(j),e.nearbyRadius.setPath([e.nearbyCenter.getPosition(),i]),e.nearbyPrompt.setPosition(i);var k=h(j);b(".distance").html(k)}),g(m,"dragend",function(a){var f=a.lnglat,g=c.getRadius(e.nearbyCenter,f),h=e.nearbyCenter.getPosition();d.fwd("/search?"+b.param({query:e.nearbyKeyword,query_type:"RQBXY",longitude:h.lng,latitude:h.lat,range:g,city:d.adcode}))}),e.nearbyDrager=m},addNearByDragPrompt:function(a,b){var c=i,d=h(b),e={id:"nearby_prompt",map:themap,position:a,zIndex:999,offset:{x:12,y:-12},content:'<div class="prompt-marker"><div class="distance">'+d+'</div><div class="close-circle-btn"></div></div>'};c.nearbyPrompt=new AMap.Marker(e)},addNearByCircle:function(a,b){var c=i,d=a,e={id:"nearby_circle",map:themap,center:d,radius:b,bubble:!0,strokeColor:"#2272de",strokeOpacity:.7,strokeWeight:1,fillColor:"#2272de",fillOpacity:.2};c.nearbyCircle=new AMap.Circle(e)},addNearByRadius:function(a,b){var c=i,d={id:"nearby_radius",map:themap,path:[a,b],strokeColor:"#2272de",strokeOpacity:1,strokeWeight:1,strokeStyle:"solid"};c.nearbyRadius=new AMap.Polyline(d)},addNearBy:function(a,b){var c=this,d=i;a=a||d.nearbyCenter.getPosition(),c.addNearByCenter(a),c.addNearByDrager(b);var e=d.nearbyDrager,f=e.getPosition(),g=d.nearbyCenter;b=c.getRadius(g,f,b),c.addNearByCircle(a,b),c.addNearByRadius(a,f),c.addNearByDragPrompt(f,b)},reAddNearBy:function(a,c){var d=i;a=a||d.nearbyCenter.getPosition(),c=c||1e3;var e=a.offset(c,0);d.nearbyCenter.setPosition(a),d.nearbyCircle.setCenter(a),d.nearbyCircle.setRadius(c),d.nearbyDrager.setPosition(e),d.nearbyRadius.setPath([a,e]),d.nearbyPrompt.setPosition(e);var f=h(c);b(".distance").html(f)},nearbyEnable:function(){var a=i;a.nearbyDrager.show(),a.nearbyPrompt.show(),a.nearbyCircle.show(),a.nearbyRadius.show()},nearbyDisable:function(){var a=i;a.nearbyDrager.hide(),a.nearbyPrompt.hide(),a.nearbyCircle.hide(),a.nearbyRadius.hide()},doNearby:function(a,b){var c=this,b=b||1e3;c.addNearBy(a,b)},addInfowindow:function(a){var c=this,e=i,f=a.id,g=null;if(f)g=e.poiDatas[f]||e.busStopsDatas[f]||e.polylineDatasPlan[f]||e.poiFavDatas[f];else{if(!a.param)return;g=a.param}var h=a.type||g&&g.markerType||g&&g.polyType,j=a.pos||g&&g.location&&new AMap.LngLat(g.location.lng,g.location.lat)||g&&g.start_location,l=function(a,f){var g=null;f&&(g=f);var i=c.setInfowindowOffset(h,g);if(!e.infowindow){var l={isCustom:!0,autoMove:!0,content:a,position:j};e.infowindow=new AMap.InfoWindow(l)}var m=e.infowindow;m.setContent(a),AMap.event.addListenerOnce(m,"open",function(){setTimeout(function(){if(k.initDeep(),"marker-poi"==h||"marker-hotspot"==h)var a=b(".infowindow_deep");else var a=b(".infowindow-wrap");a.velocity("transition.expandIn",{easing:"easeOutQuart",complete:function(){}}),c.avoidLeftTop(a)},20)}),m.setOffset(i),m.open(themap,j),d.hotspotOpen=!0};c.setInfowindowHtml({param:g,type:h,pos:j,callback:l})},getInfowindow:function(a,c){var d=b("#"+a).html(),e="canvas-poiInfowindow";j.tplLoad({filename:e,data:{html:d,id:a},callback:c})},setInfowindowOffset:function(a,b){var c=null;if(b){var d=b/2-23;return"marker-hotspot"==a&&(d=b/2-3),c=new AMap.Pixel(214,d)}switch(a){case"marker-poi":c=new AMap.Pixel(214,238);break;case"marker-sub":c=new AMap.Pixel(0,-22);break;case"marker-poi-geo":c=new AMap.Pixel(0,-38);break;case"marker-station":c=new AMap.Pixel(0,-45);break;case"marker-single":c=new AMap.Pixel(0,-45);break;case"marker-fav-single":c=new AMap.Pixel(0,-45);break;case"marker-fav":c=new AMap.Pixel(-4,-18);break;case"marker-tmp-sign":c=new AMap.Pixel(0,-45);break;case"marker-tmp":c=new AMap.Pixel(0,-45);break;case"marker-busStop":c=new AMap.Pixel(0,-14);break;case"marker-placeSearch":c=new AMap.Pixel(40,-53);break;case"marker-hotspot":c=new AMap.Pixel(0,-20);break;case"marker-ma":c=new AMap.Pixel(0,-10);break;case"marker-drive-from":case"marker-drive-to":case"marker-walk-from":case"marker-walk-to":case"marker-bus-from":case"marker-bus-to":c=new AMap.Pixel(0,-45);break;case"marker-bus-busStop":case"marker-bus-subwayStop":case"marker-bus-railwayStop":case"marker-bus-taxistop":c=new AMap.Pixel(0,-20);break;case"poly-drive":case"poly-walk":c=new AMap.Pixel(0,-20);break;case"marker-plan-poi":c=new AMap.Pixel(0,-90)}return c},setInfowindowHtml:function(a){var b=this,c=a.callback;b.setInfowindowData(a,function(a){a.tpl?c(a.tpl,a.height):j.tplLoad({filename:a.filename,data:a.data,callback:c})})},setInfowindowData:function(a,c){var e=this,f=i,g=a.param,h=a.type,j=(a.index,a.pos),l="",m=null;switch(h){case"marker-poi":case"marker-hotspot":var n=g.id,o=f.poiDatas[n]||g;m={id:n,name:o.name||"",address:o.address||"",tel:o.tel||"",pos:new AMap.LngLat(o.location.lng,o.location.lat),tType:o.tType},d.iwdata=m,k.creatDeepInfo(n,function(a,b){a&&(m.html=a,res={tpl:a,height:b},c(res),e.deepIsOpen=!0)});break;case"marker-sub":l="canvas-subPoiInfowindow",m={id:g.id,name:g.fullName||g.name||"",pos:new AMap.LngLat(g.location.lng,g.location.lat),address:g.address||"",tel:g.tel||"",tType:g.tType},d.iwdata=m,res={filename:l,data:m},c(res);break;case"marker-poi-geo":var n=g.id,p=b("#"+n),q=p.find(".poi-icons").children(),r="",s=p.html(),o=f.poiDatas[n];q.length>0&&(r="poi-icon"),l="canvas-poiInfowindow",m={html:s,id:n,name:o.name||"",address:o.address||"",tel:o.tel||"",icon:r,pos:new AMap.LngLat(o.location.lng,o.location.lat),tType:o.tType},d.iwdata=m,res={filename:l,data:m},c(res);break;case"marker-fav":var n=g.id,p=b("#"+n),s=p.html(),o=f.poiFavDatas[n];l="canvas-favinfowindow",m={html:s,id:n,name:o.name||"",address:o.address||"",tel:o.tel||"",pos:o.location,tType:o.tType},d.iwdata=m,res={filename:l,data:m},c(res);break;case"marker-tmp":l="canvas-whereInfowindow";var t=g.addressComponent,u=t.adcode,v=(t.city||t.province)+t.district+t.street,w=g.pois[0].name;m={id:"",adcode:u,name:v,pos:j,address:"",tel:"",nearpoi:w},d.iwdata=m,res={filename:l,data:m},c(res);break;case"marker-hotspot":l="canvas-hotspotInfowindow",m=g,d.iwdata=m,res={filename:l,data:{poiList:m}},c(res);break;case"marker-ma":l="canvas-maInfowindow",m=g,d.iwdata=m,res={filename:l,data:{poiList:m}},c(res);break;case"marker-busStop":l="canvas-busStopInfowindow";var v=g.name,n=g.id,a=(g.tType,{id:n,name:v});e.getBusStopData(a,function(a){var b=i.busStopsDatas[a.id];m={id:a.id,name:a.name,address:"",tel:"",lines:a.busline_list,tType:b.tType,pos:b.location},d.iwdata=m,res={filename:l,data:m},c(res)});break;case"poly-drive":var x=b("#planList .planTitle.current").attr("index")-0,n=g.id,y=b("."+n),p=null,s="";p=y.length>1?b("."+n).get(x):b("."+n).get(0),s=p.outerHTML;var z=f.polylineDatasPlan[n];l="canvas-stepInfowindow",m={html:s,id:n,cur:n.split("-")[1],steps:f.polylineDatasPlan.length,pos:z.start_location},d.iwdata=m,res={filename:l,data:m},c(res);break;case"poly-walk":var n=g.id,p=b("#"+n).clone()[0],s=p.outerHTML,z=f.polylineDatasPlan[n];l="canvas-stepInfowindow",m={html:s,id:n,cur:n.split("-")[1],steps:f.polylineDatasPlan.length,pos:z.start_location},d.iwdata=m,res={filename:l,data:m},c(res);break;case"marker-drive-from":case"marker-drive-to":case"marker-walk-from":case"marker-walk-to":var n=g.id,p=b("#"+n).clone()[0];s=p.outerHTML;var o=f.poiDatas[n];l="canvas-stepInfowindow",m={html:s,id:n,cur:h.split("-")[2],steps:f.polylineDatasPlan.length,pos:o.location},d.iwdata=m,res={filename:l,data:m},c(res);break;case"marker-bus-from":case"marker-bus-to":var n=g.id,p=b("#"+n).clone()[0],s=p.outerHTML,o=f.poiDatas[n];l="canvas-busfromto",m={html:s,name:{from:d.dir.from.name,to:d.dir.to.name},id:n,cur:h.split("-")[2],steps:f.polylineDatasPlan.length+1,pos:o.location},d.iwdata=m,res={filename:l,data:m},c(res);break;case"marker-bus-busStop":case"marker-bus-subwayStop":case"marker-bus-railwayStop":case"marker-bus-taxistop":var n=g.id,A=f.poiDatas[n];l="canvas-busStepInfowindow",m={id:n,stopdata:A,cur:n.split("-")[2],steps:f.polylineDatasPlan.length+1,pos:A.location},d.iwdata=m,res={filename:l,data:m},c(res)}},colseInfowindow:function(){var a=i,b=a.infowindow;b&&b.close()},closeDeepInfowindow:function(){var a=this,b=i;if(a.deepIsOpen){var c=b.infowindow;c&&(d.markerState.active.poiid=!1,c.close(),a.deepIsOpen=!1)}},avoidLeftTop:function(a){var b=430,c=70;if(a.offset()){var d=a.offset().left,e=a.offset().top,f=0,g=0;b>d&&(f=b-d+80),c>e&&(g=c),themap.panBy(f,g)}},addWhere:function(a){var b=this;if(a){var c="marker-tmp";b.addTmpMarker(a),b.openWhereInfowindow({pos:a,type:c})}},openWhereInfowindow:function(a){var b=this,c=a.pos,d=a.type;b.getMarkerData(c,function(a){a="OK"==a.info?a.regeocode:"抱歉！暂时未能获取信息",b.addInfowindow({param:a,type:d,pos:c})})},addPlanPlace:function(a){var c=this,e=a.type,f=a.pos;c.addPlanMarker(a),c.getMarkerData(f,function(g){var h=null;"OK"==g.info?h={rego:g.regeocode,type:"rego",pos:f}:a=null;var i=c.setPlanData(h);switch(e){case"marker-tmp-from":i.id="menufrom",d.dir.from=i;break;case"marker-tmp-to":i.id="menuto",d.dir.to=i;break;case"marker-tmp-via":d.dir.via=[],d.dir.via.push(i)}d.dir.from.name&&d.dir.from.lnglat&&d.dir.to.name&&d.dir.to.lnglat&&(c.clearAllOverlays(),d.fwd("/dir?"+b.param(d.dir)))})},setPlanData:function(a){var b=null,c=null,e=null,f=null,g=null,h=null;if(a){var i=a.type;if(i&&"rego"==i){var j=a.rego;if(j.roads&&j.roads[0]){var k=j.roads[0],l=j.addressComponent,m="";l&&(m=l.city||l.province+l.district),b=m+k.name,f=a.pos.lng+","+a.pos.lat,c=k.id,e=j.addressComponent.adcode||d.adcode,g=""}else b="未知道路",f=a.pos.lng+","+a.pos.lat,e=j.addressComponent.adcode||d.adcode;h={name:b,id:"",adcode:e,lnglat:f,modxy:g}}else h=null}else h=null;return h},setObjFitView:function(a){"search"===d.state?themap.setFitView(a):themap.setFitView(a,!1,[50,50,450,30])},setFitviewBeside:function(a){if(!f.isEmpty(a)){var c=themap.get("overlays"),e=c.concat();b.each(a,function(a,b){var c=e.indexOf(b);c>-1&&e.splice(c,1)}),"search"===d.state?themap.setFitView(e):themap.setFitView(e,!1,[50,50,450,30])}},addOverlays:function(a,c){var e=this,f=c||"set";if(a&&a.length>0){b.each(a,function(a,b){var c=b.type.toLowerCase();switch(c){case"marker":e.addMarker(b),e.addSubmarker(b);break;case"polyline":e.addPolyline(b);break;case"polygon":e.addPolygon(b);break;case"polyline-tmp":e.addTmpPolyline(b);break;case"polyline-route":e.addRoutePolyline(b)}});var g=themap.get("overlays"),h=g.concat();if("set"==f)if(d.pos.success){var i=[d.pos.iw,d.pos.circle,d.pos.marker];e.setFitviewBeside(i)}else e.setObjFitView(h);e.mapLevel&&(themap.setZoom(e.mapLevel),e.mapLevel=!1),b("#themap").css("visibility","initial")}},clearOverlays:function(a){for(var c=i,d=0;d<a.length;d++){var e=a[d];switch(e){case"marker":var f="",g=c.markers;for(f in g)g.hasOwnProperty(f)&&(g[f].setMap(null),g[f]=null,delete g[f]);var h=c.poiDatas;for(f in h)h.hasOwnProperty(f)&&(h[f]=null,delete h[f]);break;case"marker-fav":var f="",g=c.favMarkers;for(f in g)g.hasOwnProperty(f)&&(g[f].setMap(null),g[f]=null,delete g[f]);var h=c.poiFavDatas;for(f in h)h.hasOwnProperty(f)&&(h[f]=null,delete h[f]);break;case"marker-fav-single":var f="",g=mvce.M.favSingleMarkers;for(f in g)g.hasOwnProperty(f)&&(g[f].setMap(null),g[f]=null,delete g[f]);var h=mvce.M.favSingleData;for(f in h)h.hasOwnProperty(f)&&(h[f]=null,delete h[f]);break;case"marker-tmp":var j=c.markerTmp;j&&(j.setMap(null),j=null);break;case"marker-tmp-sign":var f="",k=mvce.M.tmpMarkers;for(f in k)k.hasOwnProperty(f)&&(k[f].setMap(null),k[f]=null,delete k[f]);break;case"marker-tmp-from":var l=c.markerPlan[e];l&&(l.setMap(null),l=null);break;case"marker-tmp-to":var l=c.markerPlan[e];l&&(l.setMap(null),l=null);break;case"marker-tmp-via":var l=c.markerPlan[e];l&&(l.setMap(null),l=null);break;case"marker-busStop":var m="",n=c.busStops;for(m in n)n.hasOwnProperty(m)&&(n[m].setMap(null),n[m]=null,delete n[m]);var o=c.busStopsDatas;for(m in o)o.hasOwnProperty(m)&&(o[m]=null,delete o[m]);break;case"marker-qr":var p=c.markerQr;p&&(p.setMap(null),p=null);break;case"infowindow":c.infowindow&&c.infowindow.close();break;case"poly":var q="",r=mvce.M.polys;for(q in r)r.hasOwnProperty(q)&&(r[q].setMap(null),r[q]=null,delete r[q]);var s=mvce.M.polyDatas;for(q in s)s.hasOwnProperty(q)&&(s[q]=null,delete s[q]);break;case"polyline-bus":var q="",r=c.polylineBus;for(q in r)r.hasOwnProperty(q)&&(r[q].setMap(null),r[q]=null,delete r[q]);var s=c.polylineDatasBus;for(q in s)s.hasOwnProperty(q)&&(s[q]=null,delete s[q]);break;case"polyline-road":var q="",r=c.polylineRoad;for(q in r)r.hasOwnProperty(q)&&(r[q].setMap(null),r[q]=null,delete r[q]);var s=c.polylineDatasRoad;for(q in s)s.hasOwnProperty(q)&&(s[q]=null,delete s[q]);break;case"polyline-district":var q="",r=c.polylineDistrict;for(q in r)r.hasOwnProperty(q)&&(r[q].setMap(null),r[q]=null,delete r[q]);var s=c.polylineDatasDistrict;for(q in s)s.hasOwnProperty(q)&&(s[q]=null,delete s[q]);break;case"polyline-plan":var q="",r=c.polylinePlan;for(q in r)r.hasOwnProperty(q)&&(r[q].setMap(null),r[q]=null,delete r[q]);var s=c.polylineDatasPlan;for(q in s)s.hasOwnProperty(q)&&(s[q]=null,delete s[q]);break;case"polyline-tmp":c.polylineTmp&&c.polylineTmp.setMap(null),c.polylineTmp=null,c.polylineTmp&&c.polylineTmp.hide();break;case"polyline-route":var t="",u=c.polylineRoute;for(t in u)u.hasOwnProperty(t)&&(u[t].setMap(null),u[t]=null,delete u[t]);break;case"polyline-eta":var v=c.polylineBusEta;b.each(v,function(a,b){b.setMap(null)}),v=[];break;case"nearby":c.nearbyCenter&&c.nearbyCenter.setMap(null),c.nearbyDrager&&c.nearbyDrager.setMap(null),c.nearbyCircle&&c.nearbyCircle.setMap(null),c.nearbyRadius&&c.nearbyRadius.setMap(null),c.nearbyPrompt&&c.nearbyPrompt.setMap(null),c.nearbyKeyword=null,c.nearbyCenter=null,c.nearbyDrager=null,c.nearbyCircle=null,c.nearbyRadius=null,c.nearbyPrompt=null;break;case"polygon":var w="",x=c.polygon;for(w in x)x.hasOwnProperty(w)&&(x[w].setMap(null),x[w]=null,delete x[w]);var y=c.polygonDatas;for(w in y)y.hasOwnProperty(w)&&(y[w]=null,delete y[w])}}},clearAllOverlays:function(a){var b=this,c=i,d=["marker","marker-tmp","marker-busStop","infowindow","polyline-bus","polyline-road","polyline-district","polyline-plan","nearby","polygon","marker-tmp-from","marker-tmp-to","marker-tmp-via","marker-fav","marker-qr","polyline-route","polyline-eta"];a||c.dragRoute&&c.dragRoute.destroy(),b.clearPlaceSearchLayer(),b.clearOverlays(d),b.clearDirQrcode()},clearDirQrcode:function(){$dirqr=b(".dir_qr"),$dirqr.html(""),$modal=b("#amap_panel_model"),$modal.html(""),d.autumnshow=!1},setMarkerOpt:function(a,c,d){var e=this,f=i,g=themap,h=null;if("marker-poi"==a)h={map:g,zIndex:12,content:e.creatMarkerContent(a,c,d),offset:{x:-9,y:-30}};else if("marker-sub"==a)h={map:g,zIndex:12,content:e.creatMarkerContent(a,c,d),offset:{x:-18,y:-18}};else if("marker-poi-geo"==a)h={map:g,zIndex:12,content:e.creatMarkerContent(a,c,d),offset:{x:-9,y:-30}};else if("marker-fav"==a)h={map:g,zIndex:10,content:e.creatMarkerContent(a,c,d),offset:{x:-14,y:-14}};else if("marker-station"==a)h={map:g,zIndex:10,content:e.creatMarkerContent(a,c,d),offset:{x:-12,y:-30}};else if("marker-busStop"==a)h={map:g,zIndex:11,content:e.creatMarkerContent(a,c,d),offset:{x:-6,y:-6}};else if("marker-bus-busStop"==a)h={map:g,zIndex:11,content:e.creatMarkerContent(a,c,d),offset:{x:-12,y:-12}};else if("marker-bus-subwayStop"==a)h={map:g,zIndex:11,content:e.creatMarkerContent(a,c,d),offset:{x:-12,y:-12}};else if("marker-bus-railwayStop"==a)h={map:g,zIndex:11,content:e.creatMarkerContent(a,c,d),offset:{x:-12,y:-12}};else if("marker-bus-taxistop"==a)h={map:g,zIndex:11,content:e.creatMarkerContent(a,c,d),offset:{x:-12,y:-12}};else if("marker-tmp"==a||"marker-single"==a||"marker-fav-single"==a)h={map:g,zIndex:10,content:e.creatMarkerContent(a),offset:{x:-11,y:-30}};else if("marker-tmp-sign"==a)h={map:g,zIndex:10,content:e.creatMarkerContent(a),offset:{x:b.browser.msie?-4:-6,y:b.browser.msie?-25:-27}};else if("marker-tmp-from"==a)h={map:g,zIndex:12,content:e.creatMarkerContent(a,c),offset:{x:-11,y:-37}};else if("marker-tmp-to"==a)h={map:g,zIndex:12,content:e.creatMarkerContent(a,c),offset:{x:-11,y:-37}};else if("marker-tmp-via"==a)h={map:g,zIndex:12,content:e.creatMarkerContent(a,c),offset:{x:-11,y:-37}};else if("marker-drive-from"==a)h={map:null,zIndex:12,content:e.creatMarkerContent(a,c),offset:{x:-11,y:-37}};else if("marker-drive-to"==a)h={map:null,zIndex:12,content:e.creatMarkerContent(a,c),offset:{x:-11,y:-37}};else if("marker-walk-from"==a)h={map:g,zIndex:12,content:e.creatMarkerContent(a,c),offset:{x:-11,y:-37},draggable:!0};else if("marker-walk-to"==a)h={map:g,zIndex:12,content:e.creatMarkerContent(a,c),offset:{x:-11,y:-37},draggable:!0};else if("marker-plan-poi"==a)h={map:g,zIndex:10,content:e.creatMarkerContent(a,c,d),offset:{x:-12,y:-30}};else if("marker-bus-from"==a)h={map:g,zIndex:12,content:e.creatMarkerContent(a,c,d),offset:{x:-11,y:-37},draggable:!0};else if("marker-bus-to"==a)h={map:g,zIndex:12,content:e.creatMarkerContent(a,c,d),offset:{x:-11,y:-37},draggable:!0};else if("marker-favdrive-from"==a)h={map:g,zIndex:12,content:e.creatMarkerContent(a,c,d),offset:{x:-11,y:-37},draggable:!0};else if("marker-favdrive-to"==a)h={map:g,zIndex:12,content:e.creatMarkerContent(a,c,d),offset:{x:-11,y:-37},draggable:!0};else if("marker-nearby"==a){var j=c.range||1e3;f.nearbyKeyword=c.keywords,e.doNearby(new AMap.LngLat(c.location.lng,c.location.lat),j)}else"marker-citySuggestion"==a&&(h={map:g,content:e.creatMarkerContent(a,c,d),offset:{x:-(14+7*(c.total+"").length)/2,y:-28}});return h},setPolylineOpt:function(a){},setPloygonOpt:function(a){},creatMarkerContent:function(a,c,d,e){var f=document.createElement("div");switch(a){case"marker-curpos":f.className=a,f.id="marker-curpos";break;case"marker-poi":f.className=a+" marker-normal marker-"+d,f.id="marker-"+c.id,f.title=c.name,b(f).on("mousemove",function(a){a.stopPropagation()});break;case"marker-sub":f.className=a+" marker-normal marker-sub-"+c.subtype,f.id="marker-"+c.id,f.title=c.name,b(f).on("mousemove",function(a){a.stopPropagation()});break;case"marker-poi-geo":f.className=a+" marker-geo",f.id="marker-"+c.id;break;case"marker-fav":f.className=a,f.id="marker-"+c.id;break;case"marker-station":f.className=a+" marker-normal marker-"+d,f.id="marker-"+c.id;break;case"marker-single":f.className=a,f.id="marker-single";break;case"marker-fav-single":f.className=a,f.id="marker-fav-single";break;case"marker-tmp":f.className=a,f.id="marker-tmp";break;case"marker-tmp-sign":f.className=a;break;case"marker-tmp-from":f.className=a+" marker-route";break;case"marker-tmp-via":f.className=a+" marker-route";break;case"marker-tmp-to":f.className=a+" marker-route";break;case"marker-busStop":f.className=a,f.id="marker-busStop-"+c.id;break;case"marker-drive-from":f.className=a+" marker-route",f.id=c.id;break;case"marker-drive-to":f.className=a+" marker-route",f.id=c.id;break;case"marker-walk-from":f.className=a+" marker-route",f.id=c.id;break;case"marker-walk-to":f.className=a+" marker-route",f.id=c.id;break;case"marker-bus-from":f.className=a+" marker-route markerbus-"+d,f.id=c.id;break;case"marker-bus-to":f.className=a+" marker-route markerbus-"+d,f.id=c.id;break;case"marker-plan-poi":f.className=a+" markerPlan-"+d,f.id="marker-"+c.id;break;case"marker-bus-busStop":f.className=a+" marker-stop markerbus-"+d,f.id=c.id;break;case"marker-bus-subwayStop":f.className=a+" marker-stop markerbus-"+d,f.id=c.id;break;case"marker-bus-railwayStop":f.className=a+" marker-stop markerbus-"+d,f.id=c.id;break;case"marker-bus-taxistop":f.className=a+" marker-stop markerbus-"+d,f.id=c.id;break;case"marker-favdrive-from":f.className=a+"marker-route",f.id=c.id;break;case"marker-favdrive-to":f.className=a+"marker-route",f.id=c.id;break;case"marker-citySuggestion":f.className=a,f.id=c.id,f.innerText=c.total,f.setAttribute("adcode",c.adcode),f.title=c.name+"共"+c.total+"个结果";var g=document.createElement("div");g.className=a+"-footer",f.appendChild(g)}if(e){var h=document.createElement("div");h.innerText=e,f.appendChild(h)}return f},getMarkerData:function(a,b){var c=themap;c.plugin(["AMap.Geocoder"],function(){var c=new AMap.Geocoder({radius:1e3,extensions:"all"});AMap.event.addListener(c,"complete",function(a){if("OK"==a.info){var c=a.regeocode;0==c.pois.length&&c.pois.push({name:"未知地点"}),0==c.roads.length&&c.roads.push({name:"未知道路"})}b(a)}),c.getAddress(a)})},getRegeoData:function(a,c){var e={longitude:a.lng,latitude:a.lat};d.get(d.service.regeo+b.param(e),function(a){var b=a.data;"1"==b.code?(b.poi_list&&0==b.poi_list.length&&b.poi_list.push({name:"未知地点"}),b.road_list&&0==b.road_list.length&&b.road_list.push({name:"未知道路"}),c(b)):c(b)})},getPoiInfoByid:function(a,c){
var e={id:a,query_type:"IDQ"};b.get(d.service.poiInfo+b.param(e),function(a){"1"==a.status?c(a.data):(console.info("search error:"),console.error(a))})},getBusStopData:function(a,c){var e={poiid:a.id,city:d.adcode||11e4,pagesize:10,pagenum:1},f=a.name;d.get(d.service.poiBusLine+b.param(e),function(b){"1"==b.status?(b.data.id=a.id,b.data.name=f,c(b.data)):(console.info("search error:"),console.error(b))})},getNearbyData:function(a,b,c,d){var e,f=themap;f.plugin(["AMap.PlaceSearch"],function(){e=new AMap.PlaceSearch({city:PCMAP.city.adcode,rankBy:"distance"}),AMap.event.addListener(e,"complete",d),e.searchNearBy(a,b,c)})},setHotSpotPromptContent:function(a){var b=document.createElement("div");b.className="marker-hot-prompt";var c=document.createElement("div");return c.className="hotspot-name",c.innerHTML=a,b.appendChild(c),b},addHotSpotPrompt:function(a){var b=this,c=i;if(a){var d=a.pos,e=a.name,f="marker-hotspot-prompt",g={id:"hotspot-prompt-marker",map:themap,position:d,zIndex:999,content:b.setHotSpotPromptContent(e),offset:{x:22,y:12}},h=new AMap.Marker(g);h.id=f,c.hotspotPrompt=h}},removeHotSpotPrompt:function(){var a=i;a.hotspotPrompt&&(a.hotspotPrompt.setMap(null),a.hotspotPrompt=null)},setMaPoiPromptContent:function(a){var b=document.createElement("div");b.className="marker-ma-prompt";var c=a.length;c>5&&(c=5);for(var d=0;c>d;d++){var e=document.createElement("div");e.className="ma-poi-name",e.innerHTML=a[d].name,b.appendChild(e)}if(c>5){var f=document.createElement("div");f.className="ma-poi-name-other",f.innerHTML="......",b.appendChild(f)}return b},addMaPoiPrompt:function(a){var b=this,c=i,d=a.content,e=a.lnglat,f="marker-ma-prompt",g={map:themap,zIndex:10,position:e,content:b.setMaPoiPromptContent(d),offset:{x:15,y:15}},h=new AMap.Marker(g);h.id=f,c.maPoiPrompt=h},highlightOverlays:function(a){var c=i,d=null,e="#themap .amap-marker";b("#marker-"+a).closest(e).hasClass("active")||(b(e).removeClass("highlight"),a&&(b("#marker-"+a).closest(e).addClass("highlight"),d=c.poiDatas[a]&&c.poiDatas[a].parentId,d&&b("#marker-"+d).closest(e).addClass("highlight")))},unHighlightOverlays:function(a){var c="#themap .amap-marker";b("#marker-"+a).closest(c).hasClass("active")||(a?b(c).removeClass("highlight"):b(c).removeClass("highlight"))},activeOverlays:function(a){var c=i,d=null,e="#themap .amap-marker";b(e).removeClass("active").removeClass("highlight"),a&&(b("#marker-"+a).closest(e).addClass("active"),d=c.poiDatas[a]&&c.poiDatas[a].parentId,d&&b("#marker-"+d).closest(e).addClass("active"))},unActiveOverlays:function(a){var c="#themap .amap-marker";a?b(c).removeClass("active"):b(c).removeClass("active")}};a.exports=l}).call(b,c(1),c(2),c(6),c(3))},,function(a,b,c){var d,e;!function(f){d=[c(1)],e=function(a){return function(){function b(a,b,c){return o({type:v.error,iconClass:p().iconClasses.error,message:a,optionsOverride:c,title:b})}function c(b,c){return b||(b=p()),r=a("#"+b.containerId),r.length?r:(c&&(r=l(b)),r)}function d(a,b,c){return o({type:v.info,iconClass:p().iconClasses.info,message:a,optionsOverride:c,title:b})}function e(a){s=a}function f(a,b,c){return o({type:v.success,iconClass:p().iconClasses.success,message:a,optionsOverride:c,title:b})}function g(a,b,c){return o({type:v.warning,iconClass:p().iconClasses.warning,message:a,optionsOverride:c,title:b})}function h(a,b){var d=p();r||c(d),k(a,d,b)||j(d)}function i(b){var d=p();return r||c(d),b&&0===a(":focus",b).length?void q(b):void(r.children().length&&r.remove())}function j(b){for(var c=r.children(),d=c.length-1;d>=0;d--)k(a(c[d]),b)}function k(b,c,d){var e=d&&d.force?d.force:!1;return b&&(e||0===a(":focus",b).length)?(b[c.hideMethod]({duration:c.hideDuration,easing:c.hideEasing,complete:function(){q(b)}}),!0):!1}function l(b){return r=a("<div/>").attr("id",b.containerId).addClass(b.positionClass).attr("aria-live","polite").attr("role","alert"),r.appendTo(a(b.target)),r}function m(){return{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-center",timeOut:1500,titleClass:"toast-title",messageClass:"toast-message",target:"body",closeHtml:'<button type="button">&times;</button>',newestOnTop:!0,preventDuplicates:!1,progressBar:!1}}function n(a){s&&s(a)}function o(b){function d(){g(),i(),j(),k(),l(),h()}function e(){A.hover(v,s),!x.onclick&&x.tapToDismiss&&A.click(o),x.closeButton&&E&&E.click(function(a){a.stopPropagation?a.stopPropagation():void 0!==a.cancelBubble&&a.cancelBubble!==!0&&(a.cancelBubble=!0),o(!0)}),x.onclick&&A.click(function(){x.onclick(),o()})}function f(){A.hide(),A[x.showMethod]({duration:x.showDuration,easing:x.showEasing,complete:x.onShown}),x.timeOut>0&&(z=setTimeout(o,x.timeOut),F.maxHideTime=parseFloat(x.timeOut),F.hideEta=(new Date).getTime()+F.maxHideTime,x.progressBar&&(F.intervalId=setInterval(w,10)))}function g(){b.iconClass&&A.addClass(x.toastClass).addClass(y)}function h(){x.newestOnTop?r.prepend(A):r.append(A)}function i(){b.title&&(B.append(b.title).addClass(x.titleClass),A.append(B))}function j(){b.message&&(C.append(b.message).addClass(x.messageClass),A.append(C))}function k(){x.closeButton&&(E.addClass("toast-close-button").attr("role","button"),A.prepend(E))}function l(){x.progressBar&&(D.addClass("toast-progress"),A.prepend(D))}function m(a,b){if(a.preventDuplicates){if(b.message===t)return!0;t=b.message}return!1}function o(b){return!a(":focus",A).length||b?(clearTimeout(F.intervalId),A[x.hideMethod]({duration:x.hideDuration,easing:x.hideEasing,complete:function(){q(A),x.onHidden&&"hidden"!==G.state&&x.onHidden(),G.state="hidden",G.endTime=new Date,n(G)}})):void 0}function s(){(x.timeOut>0||x.extendedTimeOut>0)&&(z=setTimeout(o,x.extendedTimeOut),F.maxHideTime=parseFloat(x.extendedTimeOut),F.hideEta=(new Date).getTime()+F.maxHideTime)}function v(){clearTimeout(z),F.hideEta=0,A.stop(!0,!0)[x.showMethod]({duration:x.showDuration,easing:x.showEasing})}function w(){var a=(F.hideEta-(new Date).getTime())/F.maxHideTime*100;D.width(a+"%")}var x=p(),y=b.iconClass||x.iconClass;if("undefined"!=typeof b.optionsOverride&&(x=a.extend(x,b.optionsOverride),y=b.optionsOverride.iconClass||y),!m(x,b)){u++,r=c(x,!0);var z=null,A=a("<div/>"),B=a("<div/>"),C=a("<div/>"),D=a("<div/>"),E=a(x.closeHtml),F={intervalId:null,hideEta:null,maxHideTime:null},G={toastId:u,state:"visible",startTime:new Date,options:x,map:b};return d(),f(),e(),n(G),x.debug&&console&&console.log(G),A}}function p(){return a.extend({},m(),w.options)}function q(a){r||(r=c()),a.is(":visible")||(a.remove(),a=null,0===r.children().length&&(r.remove(),t=void 0))}var r,s,t,u=0,v={error:"error",info:"info",success:"success",warning:"warning"},w={clear:h,remove:i,error:b,getContainer:c,info:d,options:{},subscribe:e,success:f,version:"2.1.1",warning:g};return w}()}.apply(b,d),!(void 0!==e&&(a.exports=e))}(c(115))},,function(a,b){var c={markers:{},markerTmp:null,markerPlan:{},markerFav:{},markerQr:null,hotspotPrompt:null,maPoiPrompt:null,polyline:{},polylineRoad:{},polylineDistrict:{},polylineBus:{},polylinePlan:{},polylineTmp:null,polylineRoute:{},polylineRouteTop:{},polylineRouteTmc:{},polylineBusEta:[],polylineHighlight:null,polygon:{},busStops:{},favMarkers:{},favSingleMarker:{},favDatas:{},poiDatas:{},poiFavDatas:{},busStopsDatas:{},busStopDeepDatas:{},polylineDatas:{},polylineDatasDistrict:{},polylineDatasRoad:{},polylineDatasBus:{},polylineDatasPlan:{},polygonDatas:{},infowindow:null,contextMenu:null,contextMenuPos:null,tileLayer:{},nearbyKeyword:null,nearbyCenter:null,nearbyDrager:null,nearbyCircle:null,nearbyRadius:null,nearbyPrompt:null,busType:{bus:"1",subway:"2"},tileLayer:{},roadNetLayer:null,rangingTool:null,promptMarker:null,maPoiContent:null,dragRoute:null,trans:null,walking:null,driveStart:null,driveEnd:null,viaPath:null,dirFromTo:["marker-drive-from","marker-drive-to","marker-bus-from","marker-bus-to","marker-walk-from","marker-walk-to"],action:{0:"直行",1:"左转",2:"右转",3:"向左前方行驶",4:"向右前方行驶",5:"向左后方行驶",6:"向右后方行驶",7:"左转调头",8:"直行",9:"靠左",10:"靠右",11:"进入环岛",12:"离开环岛",13:"减速行驶",14:"直行"},routeSign:{"直行":"advance","左转":"left","右转":"right","靠左":"keepleft","靠右":"keepright","向左前方行驶":"leftup","向左后方行驶":"leftdown","向右前方行驶":"rightup","向右后方行驶":"rightdown","左转调头":"leftback","右转调头":"rightback","进入环岛":"enterRing","离开环岛":"leaveRing","减速行驶":"slow","向左前方行走":"leftup","向左后方行走":"leftdown","向右前方行走":"rightup","向右后方行走":"rightdown","通过人行横道":"crosswalk","通过过街天桥":"overpass","通过地下通道":"underpass","通过广场":"squarepass"}};a.exports=c},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(a,b){__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(1)],__WEBPACK_AMD_DEFINE_RESULT__=function(c){return a.jBox=b(c)}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}(this,function(jQuery){var jBox=function(type,options){this.options={id:null,width:"auto",height:"auto",minWidth:null,maxHeight:null,minWidth:null,maxHeight:null,attach:null,trigger:"click",preventDefault:!1,title:null,content:null,getTitle:null,getContent:null,isolateScroll:!0,ajax:{url:null,data:"",reload:!1,getData:"data-ajax",setContent:!0,spinner:!0},target:null,position:{x:"center",y:"center"},outside:null,offset:0,attributes:{x:"left",y:"top"},adjustPosition:!1,adjustTracker:!1,adjustDistance:5,fixed:!1,reposition:!1,repositionOnOpen:!0,repositionOnContent:!0,pointer:!1,pointTo:"target",fade:180,animation:null,theme:"Default",addClass:"",overlay:!1,zIndex:1e4,delayOpen:0,delayClose:0,closeOnEsc:!1,closeOnClick:!1,closeOnMouseleave:!1,closeButton:!1,constructOnInit:!1,blockScroll:!1,appendTo:jQuery("body"),draggable:null,dragOver:!0,onInit:null,onBeforeInit:null,onAttach:null,onCreated:null,onOpen:null,onClose:null,onCloseComplete:null,confirmButton:"Submit",cancelButton:"Cancel",confirm:null,cancel:null,autoClose:7e3,color:null,stack:!0,audio:!1,volume:100,src:"href",gallery:"data-jbox-image",imageLabel:"title",imageFade:600,imageSize:"contain"},this.defaultOptions={Tooltip:{getContent:"title",trigger:"mouseenter",position:{x:"center",y:"top"},outside:"y",pointer:!0,adjustPosition:!0,reposition:!0},Mouse:{target:"mouse",position:{x:"right",y:"bottom"},offset:15,trigger:"mouseenter",adjustPosition:"flip"},Modal:{target:jQuery(window),fixed:!0,blockScroll:!0,closeOnEsc:!0,closeOnClick:"overlay",closeButton:!0,overlay:!0,animation:"zoomOut"},Confirm:{target:jQuery(window),fixed:!0,attach:jQuery("[data-confirm]"),getContent:"data-confirm",content:"Do you really want to do this?",minWidth:320,maxWidth:460,blockScroll:!0,closeOnEsc:!0,closeOnClick:"overlay",closeButton:!0,overlay:!0,animation:"zoomOut",preventDefault:!0,_onAttach:function(a){if(!this.options.confirm){var b=a.attr("onclick")?a.attr("onclick"):a.attr("href")?a.attr("target")?'window.open("'+a.attr("href")+'", "'+a.attr("target")+'");':'window.location.href = "'+a.attr("href")+'";':"";a.prop("onclick",null).data("jBox-Confirm-submit",b)}},_onCreated:function(){this.footer=jQuery('<div class="jBox-Confirm-footer"/>'),jQuery('<div class="jBox-Confirm-button jBox-Confirm-button-cancel"/>').html(this.options.cancelButton).click(function(){this.options.cancel&&this.options.cancel(),this.close()}.bind(this)).appendTo(this.footer),this.submitButton=jQuery('<div class="jBox-Confirm-button jBox-Confirm-button-submit"/>').html(this.options.confirmButton).appendTo(this.footer),this.footer.appendTo(this.container)},_onOpen:function(){this.submitButton.off("click.jBox-Confirm"+this.id).on("click.jBox-Confirm"+this.id,function(){this.options.confirm?this.options.confirm():eval(this.source.data("jBox-Confirm-submit")),this.close()}.bind(this))}},Notice:{target:jQuery(window),fixed:!0,position:{x:20,y:20},attributes:{x:"right",y:"top"},animation:"zoomIn",closeOnClick:"box",_onInit:function(){this.open(),this.options.delayClose=this.options.autoClose,this.options.delayClose&&this.close()},_onCreated:function(){this.options.color&&this.wrapper.addClass("jBox-Notice-color jBox-Notice-"+this.options.color),this.wrapper.data("jBox-Notice-position",this.options.attributes.x+"-"+this.options.attributes.y)},_onOpen:function(){jQuery.each(jQuery(".jBox-Notice"),function(a,b){return b=jQuery(b),b.attr("id")!=this.id&&b.data("jBox-Notice-position")==this.options.attributes.x+"-"+this.options.attributes.y?this.options.stack?void b.css("margin-"+this.options.attributes.y,parseInt(b.css("margin-"+this.options.attributes.y))+this.wrapper.outerHeight()+10):void b.data("jBox").close({ignoreDelay:!0}):void 0}.bind(this)),this.options.audio&&this.audio({url:this.options.audio,valume:this.options.volume})},_onCloseComplete:function(){this.destroy()}},Image:{target:jQuery(window),fixed:!0,blockScroll:!0,closeOnEsc:!0,closeOnClick:"overlay",closeButton:!0,overlay:!0,animation:"zoomOut",width:800,height:533,attach:jQuery("[data-jbox-image]"),preventDefault:!0,_onInit:function(){this.images=this.currentImage={},this.imageZIndex=1,this.attachedElements&&jQuery.each(this.attachedElements,function(a,b){if(b=jQuery(b),!b.data("jBox-image-gallery")){var c=b.attr(this.options.gallery)||"default";!this.images[c]&&(this.images[c]=[]),this.images[c].push({src:b.attr(this.options.src),label:b.attr(this.options.imageLabel)||""}),"title"==this.options.imageLabel&&b.removeAttr("title"),b.data("jBox-image-gallery",c),b.data("jBox-image-id",this.images[c].length-1)}}.bind(this));var a=function(a,b,c,d){if(!jQuery("#jBox-image-"+a+"-"+b).length){var e=jQuery("<div/>",{id:"jBox-image-"+a+"-"+b,"class":"jBox-image-container"}).css({backgroundImage:"url("+this.images[a][b].src+")",backgroundSize:this.options.imageSize,opacity:d?1:0,zIndex:c?0:this.imageZIndex++}).appendTo(this.content);jQuery("<div/>",{id:"jBox-image-label-"+a+"-"+b,"class":"jBox-image-label"+(d?" active":"")}).html(this.images[a][b].label).appendTo(this.imageLabel),!d&&!c&&e.animate({opacity:1},this.options.imageFade)}}.bind(this),b=function(a,b){jQuery(".jBox-image-label.active").removeClass("active"),jQuery("#jBox-image-label-"+a+"-"+b).addClass("active")};this.showImage=function(c){if("open"!=c){var d=this.currentImage.gallery,e=this.currentImage.id+(1*("prev"==c)?-1:1);e=e>this.images[d].length-1?0:0>e?this.images[d].length-1:e}else{var d=this.source.data("jBox-image-gallery"),e=this.source.data("jBox-image-id");jQuery(".jBox-image-pointer-prev, .jBox-image-pointer-next").css({display:this.images[d].length>1?"block":"none"})}this.currentImage={gallery:d,id:e},jQuery("#jBox-image-"+d+"-"+e).length?(jQuery("#jBox-image-"+d+"-"+e).css({zIndex:this.imageZIndex++,opacity:0}).animate({opacity:1},"open"==c?0:this.options.imageFade),b(d,e)):(this.wrapper.addClass("jBox-loading"),jQuery('<img src="'+this.images[d][e].src+'">').load(function(){a(d,e,!1),b(d,e),this.wrapper.removeClass("jBox-loading")}.bind(this)));var f=e+1;f=f>this.images[d].length-1?0:0>f?this.images[d].length-1:f,!jQuery("#jBox-image-"+d+"-"+f).length&&jQuery('<img src="'+this.images[d][f].src+'">').load(function(){a(d,f,!0)})}},_onCreated:function(){this.imageLabel=jQuery("<div/>",{id:"jBox-image-label"}).appendTo(this.wrapper),this.wrapper.append(jQuery("<div/>",{"class":"jBox-image-pointer-prev",click:function(){this.showImage("prev")}.bind(this)})).append(jQuery("<div/>",{"class":"jBox-image-pointer-next",click:function(){this.showImage("next")}.bind(this)}))},_onOpen:function(){jQuery("body").addClass("jBox-image-open"),jQuery(document).on("keyup.jBox-"+this.id,function(a){37==a.keyCode&&this.showImage("prev"),39==a.keyCode&&this.showImage("next")}.bind(this)),this.showImage("open")},_onClose:function(){jQuery("body").removeClass("jBox-image-open"),jQuery(document).off("keyup.jBox-"+this.id)},_onCloseComplete:function(){this.wrapper.find(".jBox-image-container").css("opacity",0)}}},"string"==jQuery.type(type)&&(this.type=type,type=this.defaultOptions[type]?this.defaultOptions[type]:window["jBox"+type+"Options"]),this.options=jQuery.extend(!0,this.options,type,options),this._fireEvent=function(a,b){this.options["_"+a]&&this.options["_"+a].bind(this)(b),this.options[a]&&this.options[a].bind(this)(b)},this._fireEvent("onBeforeInit"),null===this.options.id&&(this.options.id="jBoxID"+jBox._getUniqueID()),this.id=this.options.id,("center"==this.options.position.x&&"x"==this.options.outside||"center"==this.options.position.y&&"y"==this.options.outside)&&(this.options.outside=!1),(!this.options.outside||"xy"==this.options.outside)&&(this.options.pointer=!1),"object"!=jQuery.type(this.options.offset)&&(this.options.offset={x:this.options.offset,y:this.options.offset}),this.options.offset.x||(this.options.offset.x=0),this.options.offset.y||(this.options.offset.y=0),"object"!=jQuery.type(this.options.adjustDistance)?this.options.adjustDistance={top:this.options.adjustDistance,right:this.options.adjustDistance,bottom:this.options.adjustDistance,left:this.options.adjustDistance}:this.options.adjustDistance=jQuery.extend({top:5,left:5,right:5,bottom:5},this.options.adjustDistance),this.align=this.options.outside&&"xy"!=this.options.outside?this.options.position[this.options.outside]:"center"!=this.options.position.y&&"number"!=jQuery.type(this.options.position.y)?this.options.position.x:"center"!=this.options.position.x&&"number"!=jQuery.type(this.options.position.x)?this.options.position.y:this.options.attributes.x,this.options.outside&&"xy"!=this.options.outside&&(this.outside=this.options.position[this.options.outside]);var userAgent=navigator.userAgent.toLowerCase();return this.IE8=-1!=userAgent.indexOf("msie")&&8==parseInt(userAgent.split("msie")[1]),this.prefix=-1!=userAgent.indexOf("webkit")?"-webkit-":"",this._getOpp=function(a){return{left:"right",right:"left",top:"bottom",bottom:"top",x:"y",y:"x"}[a]},this._getXY=function(a){return{left:"x",right:"x",top:"y",bottom:"y",center:"x"}[a]},this._getTL=function(a){return{left:"left",right:"left",top:"top",bottom:"top",center:"left",x:"left",y:"top"}[a]},this._supportsSVG=function(){return document.createElement("svg").getAttributeNS},this._createSVG=function(a,b){var c=document.createElementNS("http://www.w3.org/2000/svg",a);return jQuery.each(b,function(a,b){c.setAttribute(b[0],b[1]||"")}),c},this._appendSVG=function(a,b){return b.appendChild(a)},this._isolateScroll=function(a){a&&jQuery(a).length&&a.on("DOMMouseScroll.jBoxIsolatedScroll mousewheel.jBoxIsolatedScroll",function(b){var c=b.wheelDelta||b.originalEvent&&b.originalEvent.wheelDelta||-b.detail,d=this.scrollTop+a.outerHeight()-this.scrollHeight>=0,e=this.scrollTop<=0;(0>c&&d||c>0&&e)&&b.preventDefault()})},this._create=function(){if(!this.wrapper){if(this.wrapper=jQuery("<div/>",{id:this.id,"class":"jBox-wrapper"+(this.type?" jBox-"+this.type:"")+(this.options.theme?" jBox-"+this.options.theme:"")+(this.options.addClass?" "+this.options.addClass:"")+(this.IE8?" jBox-IE8":"")}).css({position:this.options.fixed?"fixed":"absolute",display:"none",opacity:0,zIndex:this.options.zIndex}).data("jBox",this),this.options.closeOnMouseleave&&this.wrapper.mouseleave(function(a){!this.source||!(a.relatedTarget==this.source[0]||-1!==jQuery.inArray(this.source[0],jQuery(a.relatedTarget).parents("*")))&&this.close()}.bind(this)),"box"==this.options.closeOnClick&&this.wrapper.on("touchend click",function(){this.close({ignoreDelay:!0})}.bind(this)),this.container=jQuery("<div/>",{"class":"jBox-container"}).appendTo(this.wrapper),this.content=jQuery("<div/>",{"class":"jBox-content"}).css({width:this.options.width,height:this.options.height,minWidth:this.options.minWidth,minHeight:this.options.minHeight,maxWidth:this.options.maxWidth,maxHeight:this.options.maxHeight}).appendTo(this.container),this.options.isolateScroll&&this._isolateScroll(this.content),this.options.closeButton){if(this.closeButton=jQuery("<div/>",{"class":"jBox-closeButton jBox-noDrag"}).on("touchend click",function(a){this.isOpen&&this.close({ignoreDelay:!0})}.bind(this)),this._supportsSVG()){var a=this._createSVG("svg",[["viewBox","0 0 24 24"]]);this._appendSVG(this._createSVG("path",[["d","M22.2,4c0,0,0.5,0.6,0,1.1l-6.8,6.8l6.9,6.9c0.5,0.5,0,1.1,0,1.1L20,22.3c0,0-0.6,0.5-1.1,0L12,15.4l-6.9,6.9c-0.5,0.5-1.1,0-1.1,0L1.7,20c0,0-0.5-0.6,0-1.1L8.6,12L1.7,5.1C1.2,4.6,1.7,4,1.7,4L4,1.7c0,0,0.6-0.5,1.1,0L12,8.5l6.8-6.8c0.5-0.5,1.1,0,1.1,0L22.2,4z"]]),a),this.closeButton.append(a)}else this.wrapper.addClass("jBox-nosvg");("box"==this.options.closeButton||this.options.closeButton===!0&&!this.options.overlay&&!this.options.title)&&(this.wrapper.addClass("jBox-closeButton-box"),this.closeButton.appendTo(this.container))}if(this.wrapper.appendTo(this.options.appendTo),this.options.pointer){if(this.pointer={position:"target"!=this.options.pointTo?this.options.pointTo:this._getOpp(this.outside),xy:"target"!=this.options.pointTo?this._getXY(this.options.pointTo):this._getXY(this.outside),align:"center",offset:0},this.pointer.element=jQuery("<div/>",{"class":"jBox-pointer jBox-pointer-"+this.pointer.position}).appendTo(this.wrapper),this.pointer.dimensions={x:this.pointer.element.outerWidth(),y:this.pointer.element.outerHeight()},"string"==jQuery.type(this.options.pointer)){var b=this.options.pointer.split(":");b[0]&&(this.pointer.align=b[0]),b[1]&&(this.pointer.offset=parseInt(b[1]))}this.pointer.alignAttribute="x"==this.pointer.xy?"bottom"==this.pointer.align?"bottom":"top":"right"==this.pointer.align?"right":"left",this.wrapper.css("padding-"+this.pointer.position,this.pointer.dimensions[this.pointer.xy]),this.pointer.element.css(this.pointer.alignAttribute,"center"==this.pointer.align?"50%":0).css("margin-"+this.pointer.alignAttribute,this.pointer.offset),this.pointer.margin={},this.pointer.margin["margin-"+this.pointer.alignAttribute]=this.pointer.offset,"center"==this.pointer.align&&this.pointer.element.css(this.prefix+"transform","translate("+("y"==this.pointer.xy?this.pointer.dimensions.x*-.5+"px":0)+", "+("x"==this.pointer.xy?this.pointer.dimensions.y*-.5+"px":0)+")"),this.pointer.element.css("x"==this.pointer.xy?"width":"height",parseInt(this.pointer.dimensions[this.pointer.xy])+parseInt(this.container.css("border-"+this.pointer.alignAttribute+"-width"))),this.wrapper.addClass("jBox-pointerPosition-"+this.pointer.position)}if(this.setContent(this.options.content,!0),this.setTitle(this.options.title,!0),this.options.draggable){var c="title"==this.options.draggable?this.titleContainer:this.options.draggable.length>0?this.options.draggable:this.options.draggable.selector?jQuery(this.options.draggable.selector):this.wrapper;c.addClass("jBox-draggable").on("mousedown",function(a){if(2!=a.button&&!jQuery(a.target).hasClass("jBox-noDrag")&&!jQuery(a.target).parents(".jBox-noDrag").length){this.options.dragOver&&this.wrapper.css("zIndex")<=jBox.zIndexMax&&(jBox.zIndexMax+=1,this.wrapper.css("zIndex",jBox.zIndexMax));var b=this.wrapper.outerHeight(),c=this.wrapper.outerWidth(),d=this.wrapper.offset().top+b-a.pageY,e=this.wrapper.offset().left+c-a.pageX;jQuery(document).on("mousemove.jBox-draggable-"+this.id,function(a){this.wrapper.offset({top:a.pageY+d-b,left:a.pageX+e-c})}.bind(this)),a.preventDefault()}}.bind(this)).on("mouseup",function(){jQuery(document).off("mousemove.jBox-draggable-"+this.id)}.bind(this)),jBox.zIndexMax=jBox.zIndexMax?Math.max(jBox.zIndexMax,this.options.zIndex):this.options.zIndex}this._fireEvent("onCreated")}},this.options.constructOnInit&&this._create(),this.options.attach&&this.attach(),this._positionMouse=function(a){this.pos={left:a.pageX,top:a.pageY};var b=function(a,b){return"center"==this.options.position[b]?void(this.pos[a]-=Math.ceil(this.dimensions[b]/2)):(this.pos[a]+=a==this.options.position[b]?-1*this.dimensions[b]-this.options.offset[b]:this.options.offset[b],this.pos[a])}.bind(this);this.wrapper.css({left:b("left","x"),top:b("top","y")}),this.targetDimensions={x:0,y:0,left:a.pageX,top:a.pageY},this._adjustPosition()},this._attachEvents=function(){if(this.options.closeOnEsc&&jQuery(document).on("keyup.jBox-"+this.id,function(a){27==a.keyCode&&this.close({ignoreDelay:!0})}.bind(this)),(this.options.closeOnClick===!0||"body"==this.options.closeOnClick)&&jQuery(document).on("touchend.jBox-"+this.id+" click.jBox-"+this.id,function(a){this.blockBodyClick||"body"==this.options.closeOnClick&&(a.target==this.wrapper[0]||this.wrapper.has(a.target).length)||this.close({ignoreDelay:!0})}.bind(this)),(this.options.adjustPosition&&this.options.adjustTracker||this.options.reposition)&&!this.fixed&&this.outside){var a,b=0,c=150,d=function(){var d=(new Date).getTime();a||(d-b>c&&(this.options.reposition&&this.position(),this.options.adjustTracker&&this._adjustPosition(),b=d),a=setTimeout(function(){a=null,b=(new Date).getTime(),this.options.reposition&&this.position(),this.options.adjustTracker&&this._adjustPosition()}.bind(this),c))}.bind(this);this.options.adjustTracker&&"resize"!=this.options.adjustTracker&&jQuery(window).on("scroll.jBox-"+this.id,function(a){d()}.bind(this)),(this.options.adjustTracker&&"scroll"!=this.options.adjustTracker||this.options.reposition)&&jQuery(window).on("resize.jBox-"+this.id,function(a){d()}.bind(this))}"mouse"==this.options.target&&jQuery("body").on("mousemove.jBox-"+this.id,function(a){this._positionMouse(a)}.bind(this))},this._detachEvents=function(){this.options.closeOnEsc&&jQuery(document).off("keyup.jBox-"+this.id),(this.options.closeOnClick===!0||"body"==this.options.closeOnClick)&&jQuery(document).off("touchend.jBox-"+this.id+" click.jBox-"+this.id),(this.options.adjustPosition&&this.options.adjustTracker||this.options.reposition)&&(jQuery(window).off("scroll.jBox-"+this.id),jQuery(window).off("resize.jBox-"+this.id)),"mouse"==this.options.target&&jQuery("body").off("mousemove.jBox-"+this.id)},this._addOverlay=function(){this.overlay||(this.overlay=jQuery("#jBox-overlay").length?jQuery("#jBox-overlay").css({zIndex:Math.min(jQuery("#jBox-overlay").css("z-index"),this.options.zIndex-1)}):jQuery("<div/>",{id:"jBox-overlay"}).css({display:"none",opacity:0,zIndex:this.options.zIndex-1}).appendTo(jQuery("body")),("overlay"==this.options.closeButton||this.options.closeButton===!0)&&(jQuery("#jBox-overlay .jBox-closeButton").length>0?jQuery("#jBox-overlay .jBox-closeButton").on("touchend click",function(){this.isOpen&&this.close({ignoreDelay:!0})}.bind(this)):this.overlay.append(this.closeButton)),"overlay"==this.options.closeOnClick&&this.overlay.on("touchend click",function(){this.isOpen&&this.close({ignoreDelay:!0})}.bind(this)));var a=this.overlay.data("jBox")||{};a["jBox-"+this.id]=!0,this.overlay.data("jBox",a),"block"!=this.overlay.css("display")&&(this.options.fade?this.overlay.stop()&&this.overlay.animate({opacity:1},{queue:!1,duration:this.options.fade,start:function(){this.overlay.css({display:"block"})}.bind(this)}):this.overlay.css({display:"block",opacity:1}))},this._removeOverlay=function(){if(this.overlay){var a=this.overlay.data("jBox");delete a["jBox-"+this.id],this.overlay.data("jBox",a),jQuery.isEmptyObject(a)&&(this.options.fade?this.overlay.stop()&&this.overlay.animate({opacity:0},{queue:!1,duration:this.options.fade,complete:function(){this.overlay.css({display:"none"})}.bind(this)}):this.overlay.css({display:"none",opacity:0}))}},this._generateCSS=function(){if(!this.IE8){"object"!=jQuery.type(this.options.animation)&&(this.options.animation={pulse:{open:"pulse",close:"zoomOut"},zoomIn:{open:"zoomIn",close:"zoomIn"},zoomOut:{open:"zoomOut",close:"zoomOut"},move:{open:"move",close:"move"},slide:{open:"slide",close:"slide"},flip:{open:"flip",close:"flip"},tada:{open:"tada",close:"zoomOut"}}[this.options.animation]),this.options.animation.open&&(this.options.animation.open=this.options.animation.open.split(":")),this.options.animation.close&&(this.options.animation.close=this.options.animation.close.split(":")),this.options.animation.openDirection=this.options.animation.open?this.options.animation.open[1]:null,this.options.animation.closeDirection=this.options.animation.close?this.options.animation.close[1]:null,this.options.animation.open&&(this.options.animation.open=this.options.animation.open[0]),this.options.animation.close&&(this.options.animation.close=this.options.animation.close[0]),this.options.animation.open&&(this.options.animation.open+="Open"),this.options.animation.close&&(this.options.animation.close+="Close");var a={pulse:{duration:350,css:[["0%","scale(1)"],["50%","scale(1.1)"],["100%","scale(1)"]]},zoomInOpen:{duration:this.options.fade||180,css:[["0%","scale(0.9)"],["100%","scale(1)"]]},zoomInClose:{duration:this.options.fade||180,css:[["0%","scale(1)"],["100%","scale(0.9)"]]},zoomOutOpen:{duration:this.options.fade||180,css:[["0%","scale(1.1)"],["100%","scale(1)"]]},zoomOutClose:{duration:this.options.fade||180,css:[["0%","scale(1)"],["100%","scale(1.1)"]]},moveOpen:{duration:this.options.fade||180,positions:{top:{"0%":-12},right:{"0%":12},bottom:{"0%":12},left:{"0%":-12}},css:[["0%","translate%XY(%Vpx)"],["100%","translate%XY(0px)"]]},moveClose:{duration:this.options.fade||180,timing:"ease-in",positions:{top:{"100%":-12},right:{"100%":12},bottom:{"100%":12},left:{"100%":-12}},css:[["0%","translate%XY(0px)"],["100%","translate%XY(%Vpx)"]]},slideOpen:{duration:400,positions:{top:{"0%":-400},right:{"0%":400},bottom:{"0%":400},left:{"0%":-400}},css:[["0%","translate%XY(%Vpx)"],["100%","translate%XY(0px)"]]},slideClose:{duration:400,timing:"ease-in",positions:{top:{"100%":-400},right:{"100%":400},bottom:{"100%":400},left:{"100%":-400}},css:[["0%","translate%XY(0px)"],["100%","translate%XY(%Vpx)"]]},flipOpen:{duration:600,css:[["0%","perspective(400px) rotateX(90deg)"],["40%","perspective(400px) rotateX(-15deg)"],["70%","perspective(400px) rotateX(15deg)"],["100%","perspective(400px) rotateX(0deg)"]]},flipClose:{duration:this.options.fade||300,css:[["0%","perspective(400px) rotateX(0deg)"],["100%","perspective(400px) rotateX(90deg)"]]},tada:{duration:800,css:[["0%","scale(1)"],["10%, 20%","scale(0.9) rotate(-3deg)"],["30%, 50%, 70%, 90%","scale(1.1) rotate(3deg)"],["40%, 60%, 80%","scale(1.1) rotate(-3deg)"],["100%","scale(1) rotate(0)"]]}};jQuery.each(["pulse","tada"],function(b,c){a[c+"Open"]=a[c+"Close"]=a[c]});var b=function(b,c){return keyframe_css="@"+this.prefix+"keyframes jBox-animation-"+this.options.animation[b]+"-"+b+(c?"-"+c:"")+" {",jQuery.each(a[this.options.animation[b]].css,function(d,e){var f=c?e[1].replace("%XY",this._getXY(c).toUpperCase()):e[1];a[this.options.animation[b]].positions&&(f=f.replace("%V",a[this.options.animation[b]].positions[c][e[0]])),keyframe_css+=e[0]+" {"+this.prefix+"transform:"+f+";}"}.bind(this)),keyframe_css+="}",keyframe_css+=".jBox-animation-"+this.options.animation[b]+"-"+b+(c?"-"+c:"")+" {",keyframe_css+=this.prefix+"animation-duration: "+a[this.options.animation[b]].duration+"ms;",keyframe_css+=this.prefix+"animation-name: jBox-animation-"+this.options.animation[b]+"-"+b+(c?"-"+c:"")+";",keyframe_css+=a[this.options.animation[b]].timing?this.prefix+"animation-timing-function: "+a[this.options.animation[b]].timing+";":"",keyframe_css+="}",keyframe_css}.bind(this),c="";jQuery.each(["open","close"],function(d,e){return this.options.animation[e]&&a[this.options.animation[e]]&&("close"!=e||this.options.fade)?void(a[this.options.animation[e]].positions?jQuery.each(["top","right","bottom","left"],function(a,d){c+=b(e,d)}):c+=b(e)):""}.bind(this)),jQuery("<style/>").append(c).appendTo(jQuery("head"))}},this._blockBodyClick=function(){this.blockBodyClick=!0,setTimeout(function(){this.blockBodyClick=!1}.bind(this),10)},this.options.animation&&this._generateCSS(),this._animate=function(a){if(!this.IE8){if(a||(a=this.isOpen?"open":"close"),!this.options.fade&&"close"==a)return null;var b=this.options.animation[a+"Direction"]||("center"!=this.align?this.align:this.options.attributes.x);
this.flipped&&this._getXY(b)==this._getXY(this.align)&&(b=this._getOpp(b));var c="jBox-animation-"+this.options.animation[a]+"-"+a+" jBox-animation-"+this.options.animation[a]+"-"+a+"-"+b;this.wrapper.addClass(c);var d=1e3*parseFloat(this.wrapper.css(this.prefix+"animation-duration"));"close"==a&&(d=Math.min(d,this.options.fade)),setTimeout(function(){this.wrapper.removeClass(c)}.bind(this),d)}},this._abortAnimation=function(){if(!this.IE8){var a="jBox-animation",b=this.wrapper.attr("class").split(" ").filter(function(b){return 0!==b.lastIndexOf(a,0)});this.wrapper.attr("class",b.join(" "))}},this._adjustPosition=function(){if(!this.options.adjustPosition)return null;this.positionAdjusted&&(this.wrapper.css(this.pos),this.pointer&&this.wrapper.css("padding",0).css("padding-"+this._getOpp(this.outside),this.pointer.dimensions[this._getXY(this.outside)]).removeClass("jBox-pointerPosition-"+this._getOpp(this.pointer.position)).addClass("jBox-pointerPosition-"+this.pointer.position),this.pointer&&this.pointer.element.attr("class","jBox-pointer jBox-pointer-"+this._getOpp(this.outside)).css(this.pointer.margin),this.positionAdjusted=!1,this.flipped=!1);var a=jQuery(window),b={x:a.width(),y:a.height(),top:this.options.fixed&&this.target.data("jBox-fixed")?0:a.scrollTop(),left:this.options.fixed&&this.target.data("jBox-fixed")?0:a.scrollLeft()};b.bottom=b.top+b.y,b.right=b.left+b.x;var c=b.top>this.pos.top-(this.options.adjustDistance.top||0),d=b.right<this.pos.left+this.dimensions.x+(this.options.adjustDistance.right||0),e=b.bottom<this.pos.top+this.dimensions.y+(this.options.adjustDistance.bottom||0),f=b.left>this.pos.left-(this.options.adjustDistance.left||0),g=f?"left":d?"right":null,h=c?"top":e?"bottom":null,i=g||h;if(i){"move"==this.options.adjustPosition||g!=this.outside&&h!=this.outside||("mouse"==this.target&&(this.outside="right"),("top"==this.outside||"left"==this.outside?b[this._getXY(this.outside)]-(this.targetDimensions[this._getTL(this.outside)]-b[this._getTL(this.outside)])-this.targetDimensions[this._getXY(this.outside)]+this.options.offset[this._getXY(this.outside)]:this.targetDimensions[this._getTL(this.outside)]-b[this._getTL(this.outside)]-this.options.offset[this._getXY(this.outside)])>this.dimensions[this._getXY(this.outside)]+parseInt(this.options.adjustDistance[this._getOpp(this.outside)])&&(this.wrapper.css(this._getTL(this.outside),this.pos[this._getTL(this.outside)]+(this.dimensions[this._getXY(this.outside)]+this.options.offset[this._getXY(this.outside)]*("top"==this.outside||"left"==this.outside?-2:2)+this.targetDimensions[this._getXY(this.outside)])*("top"==this.outside||"left"==this.outside?1:-1)),this.pointer&&this.wrapper.removeClass("jBox-pointerPosition-"+this.pointer.position).addClass("jBox-pointerPosition-"+this._getOpp(this.pointer.position)).css("padding",0).css("padding-"+this.outside,this.pointer.dimensions[this._getXY(this.outside)]),this.pointer&&this.pointer.element.attr("class","jBox-pointer jBox-pointer-"+this.outside),this.positionAdjusted=!0,this.flipped=!0));var j="x"==this._getXY(this.outside)?h:g;if(this.pointer&&"flip"!=this.options.adjustPosition&&this._getXY(j)==this._getOpp(this._getXY(this.outside))){if("center"==this.pointer.align)var k=this.dimensions[this._getXY(j)]/2-this.pointer.dimensions[this._getOpp(this.pointer.xy)]/2-parseInt(this.pointer.element.css("margin-"+this.pointer.alignAttribute))*(j!=this._getTL(j)?-1:1);else var k=j==this.pointer.alignAttribute?parseInt(this.pointer.element.css("margin-"+this.pointer.alignAttribute)):this.dimensions[this._getXY(j)]-parseInt(this.pointer.element.css("margin-"+this.pointer.alignAttribute))-this.pointer.dimensions[this._getXY(j)];spaceDiff=j==this._getTL(j)?b[this._getTL(j)]-this.pos[this._getTL(j)]+this.options.adjustDistance[j]:-1*(b[this._getOpp(this._getTL(j))]-this.pos[this._getTL(j)]-this.options.adjustDistance[j]-this.dimensions[this._getXY(j)]),j==this._getOpp(this._getTL(j))&&this.pos[this._getTL(j)]-spaceDiff<b[this._getTL(j)]+this.options.adjustDistance[this._getTL(j)]&&(spaceDiff-=b[this._getTL(j)]+this.options.adjustDistance[this._getTL(j)]-(this.pos[this._getTL(j)]-spaceDiff)),spaceDiff=Math.min(spaceDiff,k),spaceDiff<=k&&spaceDiff>0&&(this.pointer.element.css("margin-"+this.pointer.alignAttribute,parseInt(this.pointer.element.css("margin-"+this.pointer.alignAttribute))-spaceDiff*(j!=this.pointer.alignAttribute?-1:1)),this.wrapper.css(this._getTL(j),this.pos[this._getTL(j)]+spaceDiff*(j!=this._getTL(j)?-1:1)),this.positionAdjusted=!0)}}},this._fireEvent("onInit"),this};return jBox.prototype.attach=function(a,b){return a||(a=jQuery(this.options.attach.selector||this.options.attach)),b||(b=this.options.trigger),a&&a.length&&jQuery.each(a,function(a,c){c=jQuery(c),c.data("jBox-attached-"+this.id)||("title"==this.options.getContent&&void 0!=c.attr("title")&&c.data("jBox-getContent",c.attr("title")).removeAttr("title"),this.attachedElements||(this.attachedElements=[]),this.attachedElements.push(c[0]),c.on(b+".jBox-attach-"+this.id,function(a){if(this.timer&&clearTimeout(this.timer),"mouseenter"!=b||!this.isOpen||this.source[0]!=c[0]){if(this.isOpen&&this.source&&this.source[0]!=c[0])var d=!0;this.source=c,!this.options.target&&(this.target=c),"click"==b&&this.options.preventDefault&&a.preventDefault(),this["click"!=b||d?"open":"toggle"]()}}.bind(this)),"mouseenter"==this.options.trigger&&c.on("mouseleave",function(a){(!this.options.closeOnMouseleave||a.relatedTarget!=this.wrapper[0]&&!jQuery(a.relatedTarget).parents("#"+this.id).length)&&this.close()}.bind(this)),c.data("jBox-attached-"+this.id,b),this._fireEvent("onAttach",c))}.bind(this)),this},jBox.prototype.detach=function(a){return a||(a=this.attachedElements||[]),a&&a.length&&jQuery.each(a,function(a,b){b=jQuery(b),b.data("jBox-attached-"+this.id)&&(b.off(b.data("jBox-attached-"+this.id)+".jBox-attach-"+this.id),b.data("jBox-attached-"+this.id,null)),this.attachedElements=jQuery.grep(this.attachedElements,function(a){return a!=b[0]})}.bind(this)),this},jBox.prototype.setTitle=function(a,b){!this.wrapper&&this._create();var c=this.wrapper.height(),d=this.wrapper.width();return null==a||void 0==a?this:(this.title||(this.titleContainer=jQuery("<div/>",{"class":"jBox-title"}),this.title=jQuery("<div/>").appendTo(this.titleContainer),this.wrapper.addClass("jBox-hasTitle"),("title"==this.options.closeButton||this.options.closeButton===!0&&!this.options.overlay)&&(this.wrapper.addClass("jBox-closeButton-title"),this.closeButton.appendTo(this.titleContainer)),this.titleContainer.insertBefore(this.content)),this.title.html(a),!b&&this.options.repositionOnContent&&(c!=this.wrapper.height()||d!=this.wrapper.width())&&this.position(),this)},jBox.prototype.setContent=function(a,b){if(null==a)return this;!this.wrapper&&this._create();var c=this.wrapper.height(),d=this.wrapper.width(),e=jQuery("body").height(),f=jQuery("body").width();switch(this.content.children("[data-jbox-content-appended]").appendTo("body").css({display:"none"}),jQuery.type(a)){case"string":this.content.html(a);break;case"object":this.content.html(""),a.attr("data-jbox-content-appended",1).appendTo(this.content).css({display:"block"})}var g={x:f-jQuery("body").width(),y:e-jQuery("body").height()};return!b&&this.options.repositionOnContent&&(c!=this.wrapper.height()||d!=this.wrapper.width())&&this.position({adjustOffset:g}),this},jBox.prototype.setDimensions=function(a,b,c){!this.wrapper&&this._create(),this.content.css(a,b),(void 0==c||c)&&this.position()},jBox.prototype.setWidth=function(a,b){this.setDimensions("width",a,b)},jBox.prototype.setHeight=function(a,b){this.setDimensions("height",a,b)},jBox.prototype.position=function(a,b){if(a||(a={}),this.target=a.target||this.target||this.options.target||jQuery(window),!b&&this.wrapper.css({top:-12e3,left:-12e3}),this.dimensions={x:this.wrapper.outerWidth(),y:this.wrapper.outerHeight()},"mouse"!=this.target){if("center"==this.options.position.x&&"center"==this.options.position.y)return this.wrapper.css({left:"50%",top:"50%",marginLeft:this.dimensions.x*-.5+this.options.offset.x,marginTop:this.dimensions.y*-.5+this.options.offset.y}),this;var c=this.target.offset();!this.target.data("jBox-fixed")&&this.target.data("jBox-fixed",this.target[0]!=jQuery(window)[0]&&("fixed"==this.target.css("position")||this.target.parents().filter(function(){return"fixed"==jQuery(this).css("position")}).length>0)?"fixed":"static"),"fixed"==this.target.data("jBox-fixed")&&this.options.fixed&&(c.top=c.top-jQuery(window).scrollTop(),c.left=c.left-jQuery(window).scrollLeft()),this.targetDimensions={x:this.target.outerWidth(),y:this.target.outerHeight(),top:c?c.top:0,left:c?c.left:0},this.pos={};var d=function(a){if(-1==jQuery.inArray(this.options.position[a],["top","right","bottom","left","center"]))return void(this.pos[this.options.attributes[a]]=this.options.position[a]);var b=this.options.attributes[a]="x"==a?"left":"top";return this.pos[b]=this.targetDimensions[b],"center"==this.options.position[a]?void(this.pos[b]+=Math.ceil((this.targetDimensions[a]-this.dimensions[a])/2)):(b!=this.options.position[a]&&(this.pos[b]+=this.targetDimensions[a]-this.dimensions[a]),void((this.options.outside==a||"xy"==this.options.outside)&&(this.pos[b]+=this.dimensions[a]*(b!=this.options.position[a]?1:-1))))}.bind(this);if(d("x"),d("y"),this.options.pointer&&"number"!=jQuery.type(this.options.position.x)&&"number"!=jQuery.type(this.options.position.y)){var e=0;switch(this.pointer.align){case"center":"center"!=this.options.position[this._getOpp(this.options.outside)]&&(e+=this.dimensions[this._getOpp(this.options.outside)]/2);break;default:switch(this.options.position[this._getOpp(this.options.outside)]){case"center":e+=(this.dimensions[this._getOpp(this.options.outside)]/2-this.pointer.dimensions[this._getOpp(this.options.outside)]/2)*(this.pointer.align==this._getTL(this.pointer.align)?1:-1);break;default:e+=this.pointer.align!=this.options.position[this._getOpp(this.options.outside)]?this.dimensions[this._getOpp(this.options.outside)]*(-1!==jQuery.inArray(this.pointer.align,["top","left"])?1:-1)+this.pointer.dimensions[this._getOpp(this.options.outside)]/2*(-1!==jQuery.inArray(this.pointer.align,["top","left"])?-1:1):this.pointer.dimensions[this._getOpp(this.options.outside)]/2*(-1!==jQuery.inArray(this.pointer.align,["top","left"])?1:-1)}}e*=this.options.position[this._getOpp(this.options.outside)]==this.pointer.alignAttribute?-1:1,e+=this.pointer.offset*(this.pointer.align==this._getOpp(this._getTL(this.pointer.align))?1:-1),this.pos[this._getTL(this._getOpp(this.pointer.xy))]+=e}return a.adjustOffset&&a.adjustOffset.x&&(this.pos[this.options.attributes.x]+=parseInt(a.adjustOffset.x)*("left"==this.options.attributes.x?1:-1)),a.adjustOffset&&a.adjustOffset.y&&(this.pos[this.options.attributes.y]+=parseInt(a.adjustOffset.y)*("top"==this.options.attributes.y?1:-1)),this.pos[this.options.attributes.x]+=this.options.offset.x,this.pos[this.options.attributes.y]+=this.options.offset.y,this.wrapper.css(this.pos),this._adjustPosition(),this}},jBox.prototype.open=function(a){if(a||(a={}),this.isDestroyed)return!1;if(!this.wrapper&&this._create(),this.timer&&clearTimeout(this.timer),this._blockBodyClick(),this.isDisabled)return this;var b=function(){this.source&&this.options.getTitle&&(this.source.attr(this.options.getTitle)&&this.setTitle(this.source.attr(this.options.getTitle)),!0),this.source&&this.options.getContent&&(this.source.data("jBox-getContent")?this.setContent(this.source.data("jBox-getContent"),!0):this.source.attr(this.options.getContent)?this.setContent(this.source.attr(this.options.getContent),!0):null),this._fireEvent("onOpen"),(this.options.ajax&&this.options.ajax.url&&(!this.ajaxLoaded||this.options.ajax.reload)||a.ajax&&a.ajax.url)&&this.ajax(a.ajax||null),(!this.positionedOnOpen||this.options.repositionOnOpen)&&this.position({target:a.target})&&(this.positionedOnOpen=!0),this.isClosing&&this._abortAnimation(),this.isOpen||(this.isOpen=!0,this._attachEvents(),this.options.blockScroll&&jQuery("body").addClass("jBox-blockScroll-"+this.id),this.options.overlay&&this._addOverlay(),this.options.animation&&!this.isClosing&&this._animate("open"),this.options.fade?this.wrapper.stop().animate({opacity:1},{queue:!1,duration:this.options.fade,start:function(){this.isOpening=!0,this.wrapper.css({display:"block"})}.bind(this),always:function(){this.isOpening=!1}.bind(this)}):this.wrapper.css({display:"block",opacity:1}))}.bind(this);return!this.options.delayOpen||this.isOpen||this.isClosing||a.ignoreDelay?b():this.timer=setTimeout(b,this.options.delayOpen),this},jBox.prototype.close=function(a){if(a||(a={}),this.isDestroyed)return!1;if(this.timer&&clearTimeout(this.timer),this._blockBodyClick(),this.isDisabled)return this;var b=function(){this._fireEvent("onClose"),this.isOpen&&(this.isOpen=!1,this._detachEvents(),this.options.blockScroll&&jQuery("body").removeClass("jBox-blockScroll-"+this.id),this.options.overlay&&this._removeOverlay(),this.options.animation&&!this.isOpening&&this._animate("close"),this.options.fade?this.wrapper.stop().animate({opacity:0},{queue:!1,duration:this.options.fade,start:function(){this.isClosing=!0}.bind(this),complete:function(){this.wrapper.css({display:"none"}),this.options.onCloseComplete&&this.options.onCloseComplete.bind(this)(),this.options._onCloseComplete&&this.options._onCloseComplete.bind(this)()}.bind(this),always:function(){this.isClosing=!1}.bind(this)}):(this.wrapper.css({display:"none",opacity:0}),this.options._onCloseComplete&&this.options._onCloseComplete.bind(this)()))}.bind(this);return a.ignoreDelay?b():this.timer=setTimeout(b,Math.max(this.options.delayClose,10)),this},jBox.prototype.toggle=function(a){return this[this.isOpen?"close":"open"](a),this},jBox.prototype.disable=function(){return this.isDisabled=!0,this},jBox.prototype.enable=function(){return this.isDisabled=!1,this},jBox.prototype.ajax=function(a){a||(a={}),this.options.ajax.getData&&!a.data&&this.source&&void 0!=this.source.attr(this.options.ajax.getData)&&(a.data=this.source.attr(this.options.ajax.getData)||"");var b=jQuery.extend(!0,{},this.options.ajax);this.ajaxRequest&&this.ajaxRequest.abort();var c=a.beforeSend||b.beforeSend||function(){},d=a.complete||b.complete||function(){},e=jQuery.extend(!0,b,a);return e.beforeSend=function(){e.spinner&&(this.wrapper.addClass("jBox-loading"),this.spinner=jQuery(e.spinner!==!0?e.spinner:'<div class="jBox-spinner"></div>').appendTo(this.container)),c.bind(this)()}.bind(this),e.complete=function(a){this.wrapper.removeClass("jBox-loading"),this.spinner&&this.spinner.remove(),e.setContent&&this.setContent(a.responseText),this.ajaxLoaded=!0,d.bind(this)(a)}.bind(this),this.ajaxRequest=jQuery.ajax(e),this},jBox.prototype.audio=function(a){if(a||(a={}),jBox._audio||(jBox._audio={}),!a.url||this.IE8)return this;if(!jBox._audio[a.url]){var b=jQuery("<audio/>");jQuery("<source/>",{src:a.url+".mp3"}).appendTo(b),jQuery("<source/>",{src:a.url+".ogg"}).appendTo(b),jBox._audio[a.url]=b[0]}jBox._audio[a.url].volume=Math.min(void 0!=a.volume?a.volume:(void 0!=this.options.volume?this.options.volume:100)/100,1),jBox._audio[a.url].pause();try{jBox._audio[a.url].currentTime=0}catch(c){}return jBox._audio[a.url].play(),this},jBox.prototype.destroy=function(){return this.detach().close({ignoreDelay:!0}),this.wrapper&&this.wrapper.remove(),this.isDestroyed=!0,this},jBox._getUniqueID=function(){var a=1;return function(){return a++}}(),jQuery.fn.jBox=function(a,b){return a||(a={}),b||(b={}),new jBox(a,jQuery.extend(b,{attach:this}))},Function.prototype.bind||(Function.prototype.bind=function(a){var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d&&a?this:a,b.concat(Array.prototype.slice.call(arguments)))};return d.prototype=this.prototype,e.prototype=new d,e}),jBox})},,,,,,,,,,function(a,b,c){(function(b,c,d){var e={carpolicy:{5:"推荐方案",4:"躲避拥堵",2:"距离最近",1:"避免收费"},buspolicy:{0:"较快捷",3:"步行少",2:"换乘少",5:"无地铁"},dirtype:{car:"drive",bus:"bus",walk:"walk"},poi:function(a){var c=this,d={};d={type:"poi",data:a,place:c.setPlace()};var e=c.getUser();d.tel=e.tel,d.email=e.email;var f="/help/index.html",g="?";for(key in d){var h=d[key];""!=h&&(b.isString(h)||(h=JSON.stringify(h)),f+=g+key+"="+encodeURIComponent(h),g="&")}return f},bus:function(a){},road:function(a){},dir:function(a){var e=this,f={},g=(c.direction,c.dir);if(g){var h=g.type;if(f={type:"line",data:{start:g.from.name,dest:g.to.name,points:g.from.lnglat+"|"+g.to.lnglat,type:e.carpolicy[g.policy]},method:e.dirtype[h],place:e.setPlace()},"car"==h&&(f.data.type=e.carpolicy[g.policy]),"bus"==h){f.data.type=e.buspolicy[g.policy];var i=null;a?(1==a.length?i=a.name:d.each(a,function(a,b){i?i+=" - "+b.name:i=b.name}),f.data.name=i):f.data.name="未知"}}else f={place:e.setPlace()};var j=e.getUser();f.tel=j.tel,f.email=j.email;var k="/help/index.html",l="?";for(key in f){var m=f[key];""!=m&&(b.isString(m)||(m=JSON.stringify(m)),k+=l+key+"="+encodeURIComponent(m),l="&")}return k},loc:function(a){},setPlace:function(){var a=themap.getZoom(),b=themap.getCenter();return{center:{lng:b.lng,lat:b.lat},level:a}},getUser:function(){var a=c.userinfo,b="",d="";return a&&(b=a.mobile1||a.mobile2||a.mobile3||"",d=a.email||""),{tel:b,email:d}}};a.exports=e}).call(b,c(3),c(2),c(1))},function(a,b,c){(function(b,d,e){c(113);var f=c(82)(),g=b("#amapBox");g.append(f);var h=g.find(".loading"),i=g.find(".tab-c");b(".amap-copyright").on("click","a",function(){var a=b(this).attr("trace");console.log(a),d.trace({type:"event",category:"panel",action:"click",label:a})});var j=i.pcTab({relateType:"index",changeCb:function(a,b){var c=b.tab,d=c.data("type")||"",f=e.current.split("?")[0];f!==d&&h.show()}});a.exports={elem:g,select:function(a){return j.select(a),this},hideLoading:function(){return h.hide(),this},show:function(){return g.show(),this},hide:function(){return g.hide(),this}}}).call(b,c(1),c(6),c(5))},,,function(a,b,c){var d,e;(function(f){!function(a){function b(a){var b=a.length,d=c.type(a);return"function"===d||c.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===d||0===b||"number"==typeof b&&b>0&&b-1 in a}if(!a.jQuery){var c=function(a,b){return new c.fn.init(a,b)};c.isWindow=function(a){return null!=a&&a==a.window},c.type=function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?e[g.call(a)]||"object":typeof a},c.isArray=Array.isArray||function(a){return"array"===c.type(a)},c.isPlainObject=function(a){var b;if(!a||"object"!==c.type(a)||a.nodeType||c.isWindow(a))return!1;try{if(a.constructor&&!f.call(a,"constructor")&&!f.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(d){return!1}for(b in a);return void 0===b||f.call(a,b)},c.each=function(a,c,d){var e,f=0,g=a.length,h=b(a);if(d){if(h)for(;g>f&&(e=c.apply(a[f],d),e!==!1);f++);else for(f in a)if(e=c.apply(a[f],d),e===!1)break}else if(h)for(;g>f&&(e=c.call(a[f],f,a[f]),e!==!1);f++);else for(f in a)if(e=c.call(a[f],f,a[f]),e===!1)break;return a},c.data=function(a,b,e){if(void 0===e){var f=a[c.expando],g=f&&d[f];if(void 0===b)return g;if(g&&b in g)return g[b]}else if(void 0!==b){var f=a[c.expando]||(a[c.expando]=++c.uuid);return d[f]=d[f]||{},d[f][b]=e,e}},c.removeData=function(a,b){var e=a[c.expando],f=e&&d[e];f&&c.each(b,function(a,b){delete f[b]})},c.extend=function(){var a,b,d,e,f,g,h=arguments[0]||{},i=1,j=arguments.length,k=!1;for("boolean"==typeof h&&(k=h,h=arguments[i]||{},i++),"object"!=typeof h&&"function"!==c.type(h)&&(h={}),i===j&&(h=this,i--);j>i;i++)if(null!=(f=arguments[i]))for(e in f)a=h[e],d=f[e],h!==d&&(k&&d&&(c.isPlainObject(d)||(b=c.isArray(d)))?(b?(b=!1,g=a&&c.isArray(a)?a:[]):g=a&&c.isPlainObject(a)?a:{},h[e]=c.extend(k,g,d)):void 0!==d&&(h[e]=d));return h},c.queue=function(a,d,e){function f(a,c){var d=c||[];return null!=a&&(b(Object(a))?!function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;)a[e++]=b[d++];if(c!==c)for(;void 0!==b[d];)a[e++]=b[d++];return a.length=e,a}(d,"string"==typeof a?[a]:a):[].push.call(d,a)),d}if(a){d=(d||"fx")+"queue";var g=c.data(a,d);return e?(!g||c.isArray(e)?g=c.data(a,d,f(e)):g.push(e),g):g||[]}},c.dequeue=function(a,b){c.each(a.nodeType?[a]:a,function(a,d){b=b||"fx";var e=c.queue(d,b),f=e.shift();"inprogress"===f&&(f=e.shift()),f&&("fx"===b&&e.unshift("inprogress"),f.call(d,function(){c.dequeue(d,b)}))})},c.fn=c.prototype={init:function(a){if(a.nodeType)return this[0]=a,this;throw new Error("Not a DOM node.")},offset:function(){var b=this[0].getBoundingClientRect?this[0].getBoundingClientRect():{top:0,left:0};return{top:b.top+(a.pageYOffset||document.scrollTop||0)-(document.clientTop||0),left:b.left+(a.pageXOffset||document.scrollLeft||0)-(document.clientLeft||0)}},position:function(){function a(){for(var a=this.offsetParent||document;a&&"html"===!a.nodeType.toLowerCase&&"static"===a.style.position;)a=a.offsetParent;return a||document}var b=this[0],a=a.apply(b),d=this.offset(),e=/^(?:body|html)$/i.test(a.nodeName)?{top:0,left:0}:c(a).offset();return d.top-=parseFloat(b.style.marginTop)||0,d.left-=parseFloat(b.style.marginLeft)||0,a.style&&(e.top+=parseFloat(a.style.borderTopWidth)||0,e.left+=parseFloat(a.style.borderLeftWidth)||0),{top:d.top-e.top,left:d.left-e.left}}};var d={};c.expando="velocity"+(new Date).getTime(),c.uuid=0;for(var e={},f=e.hasOwnProperty,g=e.toString,h="Boolean Number String Function Array Date RegExp Object Error".split(" "),i=0;i<h.length;i++)e["[object "+h[i]+"]"]=h[i].toLowerCase();c.fn.init.prototype=c.fn,a.Velocity={Utilities:c}}}(window),function(f){"object"==typeof a&&"object"==typeof a.exports?a.exports=f():(d=f,e="function"==typeof d?d.call(b,c,b,a):d,!(void 0!==e&&(a.exports=e)))}(function(){return function(a,b,c,d){function e(a){for(var b=-1,c=a?a.length:0,d=[];++b<c;){var e=a[b];e&&d.push(e)}return d}function g(a){return q.isWrapped(a)?a=[].slice.call(a):q.isNode(a)&&(a=[a]),a}function h(a){var b=n.data(a,"velocity");return null===b?d:b}function i(a){return function(b){return Math.round(b*a)*(1/a)}}function j(a,c,d,e){function f(a,b){return 1-3*b+3*a}function g(a,b){return 3*b-6*a}function h(a){return 3*a}function i(a,b,c){return((f(b,c)*a+g(b,c))*a+h(b))*a}function j(a,b,c){return 3*f(b,c)*a*a+2*g(b,c)*a+h(b)}function k(b,c){for(var e=0;p>e;++e){var f=j(c,a,d);if(0===f)return c;var g=i(c,a,d)-b;c-=g/f}return c}function l(){for(var b=0;t>b;++b)x[b]=i(b*u,a,d)}function m(b,c,e){var f,g,h=0;do g=c+(e-c)/2,f=i(g,a,d)-b,f>0?e=g:c=g;while(Math.abs(f)>r&&++h<s);return g}function n(b){for(var c=0,e=1,f=t-1;e!=f&&x[e]<=b;++e)c+=u;--e;var g=(b-x[e])/(x[e+1]-x[e]),h=c+g*u,i=j(h,a,d);return i>=q?k(b,h):0==i?h:m(b,c,c+u)}function o(){y=!0,(a!=c||d!=e)&&l()}var p=4,q=.001,r=1e-7,s=10,t=11,u=1/(t-1),v="Float32Array"in b;if(4!==arguments.length)return!1;for(var w=0;4>w;++w)if("number"!=typeof arguments[w]||isNaN(arguments[w])||!isFinite(arguments[w]))return!1;a=Math.min(a,1),d=Math.min(d,1),a=Math.max(a,0),d=Math.max(d,0);var x=v?new Float32Array(t):new Array(t),y=!1,z=function(b){return y||o(),a===c&&d===e?b:0===b?0:1===b?1:i(n(b),c,e)};z.getControlPoints=function(){return[{x:a,y:c},{x:d,y:e}]};var A="generateBezier("+[a,c,d,e]+")";return z.toString=function(){return A},z}function k(a,b){var c=a;return q.isString(a)?u.Easings[a]||(c=!1):c=q.isArray(a)&&1===a.length?i.apply(null,a):q.isArray(a)&&2===a.length?v.apply(null,a.concat([b])):q.isArray(a)&&4===a.length?j.apply(null,a):!1,c===!1&&(c=u.Easings[u.defaults.easing]?u.defaults.easing:t),c}function l(a){if(a){var b=(new Date).getTime(),c=u.State.calls.length;c>1e4&&(u.State.calls=e(u.State.calls));for(var f=0;c>f;f++)if(u.State.calls[f]){var g=u.State.calls[f],i=g[0],j=g[2],k=g[3],o=!!k,p=null;k||(k=u.State.calls[f][3]=b-16);for(var r=Math.min((b-k)/j.duration,1),s=0,t=i.length;t>s;s++){var v=i[s],x=v.element;if(h(x)){var z=!1;if(j.display!==d&&null!==j.display&&"none"!==j.display){if("flex"===j.display){var A=["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex"];n.each(A,function(a,b){w.setPropertyValue(x,"display",b)})}w.setPropertyValue(x,"display",j.display)}j.visibility!==d&&"hidden"!==j.visibility&&w.setPropertyValue(x,"visibility",j.visibility);for(var B in v)if("element"!==B){var C,D=v[B],E=q.isString(D.easing)?u.Easings[D.easing]:D.easing;if(1===r)C=D.endValue;else{var F=D.endValue-D.startValue;if(C=D.startValue+F*E(r,j,F),!o&&C===D.currentValue)continue}if(D.currentValue=C,"tween"===B)p=C;else{if(w.Hooks.registered[B]){var G=w.Hooks.getRoot(B),H=h(x).rootPropertyValueCache[G];H&&(D.rootPropertyValue=H)}var I=w.setPropertyValue(x,B,D.currentValue+(0===parseFloat(C)?"":D.unitType),D.rootPropertyValue,D.scrollData);w.Hooks.registered[B]&&(h(x).rootPropertyValueCache[G]=w.Normalizations.registered[G]?w.Normalizations.registered[G]("extract",null,I[1]):I[1]),"transform"===I[0]&&(z=!0)}}j.mobileHA&&h(x).transformCache.translate3d===d&&(h(x).transformCache.translate3d="(0px, 0px, 0px)",z=!0),z&&w.flushTransformCache(x)}}j.display!==d&&"none"!==j.display&&(u.State.calls[f][2].display=!1),j.visibility!==d&&"hidden"!==j.visibility&&(u.State.calls[f][2].visibility=!1),j.progress&&j.progress.call(g[1],g[1],r,Math.max(0,k+j.duration-b),k,p),1===r&&m(f)}}u.State.isTicking&&y(l)}function m(a,b){if(!u.State.calls[a])return!1;for(var c=u.State.calls[a][0],e=u.State.calls[a][1],f=u.State.calls[a][2],g=u.State.calls[a][4],i=!1,j=0,k=c.length;k>j;j++){var l=c[j].element;if(b||f.loop||("none"===f.display&&w.setPropertyValue(l,"display",f.display),"hidden"===f.visibility&&w.setPropertyValue(l,"visibility",f.visibility)),f.loop!==!0&&(n.queue(l)[1]===d||!/\.velocityQueueEntryFlag/i.test(n.queue(l)[1]))&&h(l)){h(l).isAnimating=!1,h(l).rootPropertyValueCache={};var m=!1;n.each(w.Lists.transforms3D,function(a,b){var c=/^scale/.test(b)?1:0,e=h(l).transformCache[b];h(l).transformCache[b]!==d&&new RegExp("^\\("+c+"[^.]").test(e)&&(m=!0,delete h(l).transformCache[b])}),f.mobileHA&&(m=!0,delete h(l).transformCache.translate3d),m&&w.flushTransformCache(l),w.Values.removeClass(l,"velocity-animating")}if(!b&&f.complete&&!f.loop&&j===k-1)try{f.complete.call(e,e)}catch(o){setTimeout(function(){throw o},1)}g&&f.loop!==!0&&g(e),h(l)&&f.loop===!0&&!b&&(n.each(h(l).tweensContainer,function(a,b){/^rotate/.test(a)&&360===parseFloat(b.endValue)&&(b.endValue=0,b.startValue=360),/^backgroundPosition/.test(a)&&100===parseFloat(b.endValue)&&"%"===b.unitType&&(b.endValue=0,b.startValue=100)}),u(l,"reverse",{loop:!0,delay:f.delay})),f.queue!==!1&&n.dequeue(l,f.queue)}u.State.calls[a]=!1;for(var p=0,q=u.State.calls.length;q>p;p++)if(u.State.calls[p]!==!1){i=!0;break}i===!1&&(u.State.isTicking=!1,delete u.State.calls,u.State.calls=[])}var n,o=function(){if(c.documentMode)return c.documentMode;for(var a=7;a>4;a--){var b=c.createElement("div");if(b.innerHTML="<!--[if IE "+a+"]><span></span><![endif]-->",b.getElementsByTagName("span").length)return b=null,a}return d}(),p=function(){var a=0;return b.webkitRequestAnimationFrame||b.mozRequestAnimationFrame||function(b){var c,d=(new Date).getTime();return c=Math.max(0,16-(d-a)),a=d+c,setTimeout(function(){b(d+c)},c)}}(),q={isString:function(a){return"string"==typeof a},isArray:Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},isFunction:function(a){return"[object Function]"===Object.prototype.toString.call(a)},isNode:function(a){return a&&a.nodeType},isNodeList:function(a){return"object"==typeof a&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(Object.prototype.toString.call(a))&&a.length!==d&&(0===a.length||"object"==typeof a[0]&&a[0].nodeType>0)},isWrapped:function(a){return a&&(a.jquery||b.Zepto&&b.Zepto.zepto.isZ(a))},isSVG:function(a){return b.SVGElement&&a instanceof b.SVGElement},isEmptyObject:function(a){for(var b in a)return!1;return!0}},r=!1;if(a.fn&&a.fn.jquery?(n=a,r=!0):n=b.Velocity.Utilities,8>=o&&!r)throw new Error("Velocity: IE8 and below require jQuery to be loaded before Velocity.");if(7>=o)return void(f.fn.velocity=f.fn.animate);var s=400,t="swing",u={State:{isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isAndroid:/Android/i.test(navigator.userAgent),isGingerbread:/Android 2\.3\.[3-7]/i.test(navigator.userAgent),isChrome:b.chrome,isFirefox:/Firefox/i.test(navigator.userAgent),prefixElement:c.createElement("div"),prefixMatches:{},scrollAnchor:null,scrollPropertyLeft:null,scrollPropertyTop:null,isTicking:!1,calls:[]},CSS:{},Utilities:n,Redirects:{},Easings:{},Promise:b.Promise,defaults:{queue:"",duration:s,easing:t,begin:d,complete:d,progress:d,display:d,visibility:d,loop:!1,delay:!1,mobileHA:!0,_cacheValues:!0},init:function(a){n.data(a,"velocity",{isSVG:q.isSVG(a),isAnimating:!1,computedStyle:null,tweensContainer:null,rootPropertyValueCache:{},transformCache:{}})},hook:null,mock:!1,version:{major:1,minor:2,patch:2},debug:!1};b.pageYOffset!==d?(u.State.scrollAnchor=b,u.State.scrollPropertyLeft="pageXOffset",u.State.scrollPropertyTop="pageYOffset"):(u.State.scrollAnchor=c.documentElement||c.body.parentNode||c.body,u.State.scrollPropertyLeft="scrollLeft",u.State.scrollPropertyTop="scrollTop");var v=function(){function a(a){return-a.tension*a.x-a.friction*a.v}function b(b,c,d){var e={x:b.x+d.dx*c,v:b.v+d.dv*c,tension:b.tension,friction:b.friction};return{dx:e.v,dv:a(e)}}function c(c,d){var e={dx:c.v,dv:a(c)},f=b(c,.5*d,e),g=b(c,.5*d,f),h=b(c,d,g),i=1/6*(e.dx+2*(f.dx+g.dx)+h.dx),j=1/6*(e.dv+2*(f.dv+g.dv)+h.dv);return c.x=c.x+i*d,c.v=c.v+j*d,c}return function d(a,b,e){var f,g,h,i={x:-1,v:0,tension:null,friction:null},j=[0],k=0,l=1e-4,m=.016;for(a=parseFloat(a)||500,b=parseFloat(b)||20,e=e||null,i.tension=a,i.friction=b,f=null!==e,f?(k=d(a,b),g=k/e*m):g=m;h=c(h||i,g),j.push(1+h.x),k+=16,Math.abs(h.x)>l&&Math.abs(h.v)>l;);return f?function(a){return j[a*(j.length-1)|0]}:k}}();u.Easings={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},spring:function(a){return 1-Math.cos(4.5*a*Math.PI)*Math.exp(6*-a)}},n.each([["ease",[.25,.1,.25,1]],["ease-in",[.42,0,1,1]],["ease-out",[0,0,.58,1]],["ease-in-out",[.42,0,.58,1]],["easeInSine",[.47,0,.745,.715]],["easeOutSine",[.39,.575,.565,1]],["easeInOutSine",[.445,.05,.55,.95]],["easeInQuad",[.55,.085,.68,.53]],["easeOutQuad",[.25,.46,.45,.94]],["easeInOutQuad",[.455,.03,.515,.955]],["easeInCubic",[.55,.055,.675,.19]],["easeOutCubic",[.215,.61,.355,1]],["easeInOutCubic",[.645,.045,.355,1]],["easeInQuart",[.895,.03,.685,.22]],["easeOutQuart",[.165,.84,.44,1]],["easeInOutQuart",[.77,0,.175,1]],["easeInQuint",[.755,.05,.855,.06]],["easeOutQuint",[.23,1,.32,1]],["easeInOutQuint",[.86,0,.07,1]],["easeInExpo",[.95,.05,.795,.035]],["easeOutExpo",[.19,1,.22,1]],["easeInOutExpo",[1,0,0,1]],["easeInCirc",[.6,.04,.98,.335]],["easeOutCirc",[.075,.82,.165,1]],["easeInOutCirc",[.785,.135,.15,.86]]],function(a,b){u.Easings[b[0]]=j.apply(null,b[1])});var w=u.CSS={RegEx:{isHex:/^#([A-f\d]{3}){1,2}$/i,valueUnwrap:/^[A-z]+\((.*)\)$/i,wrappedValueAlreadyExtracted:/[0-9.]+ [0-9.]+ [0-9.]+( [0-9.]+)?/,valueSplit:/([A-z]+\(.+\))|(([A-z0-9#-.]+?)(?=\s|$))/gi},Lists:{colors:["fill","stroke","stopColor","color","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","outlineColor"],transformsBase:["translateX","translateY","scale","scaleX","scaleY","skewX","skewY","rotateZ"],transforms3D:["transformPerspective","translateZ","scaleZ","rotateX","rotateY"]},Hooks:{templates:{textShadow:["Color X Y Blur","black 0px 0px 0px"],boxShadow:["Color X Y Blur Spread","black 0px 0px 0px 0px"],clip:["Top Right Bottom Left","0px 0px 0px 0px"],backgroundPosition:["X Y","0% 0%"],transformOrigin:["X Y Z","50% 50% 0px"],perspectiveOrigin:["X Y","50% 50%"]},registered:{},register:function(){for(var a=0;a<w.Lists.colors.length;a++){var b="color"===w.Lists.colors[a]?"0 0 0 1":"255 255 255 1";w.Hooks.templates[w.Lists.colors[a]]=["Red Green Blue Alpha",b]}var c,d,e;if(o)for(c in w.Hooks.templates){d=w.Hooks.templates[c],e=d[0].split(" ");var f=d[1].match(w.RegEx.valueSplit);
"Color"===e[0]&&(e.push(e.shift()),f.push(f.shift()),w.Hooks.templates[c]=[e.join(" "),f.join(" ")])}for(c in w.Hooks.templates){d=w.Hooks.templates[c],e=d[0].split(" ");for(var a in e){var g=c+e[a],h=a;w.Hooks.registered[g]=[c,h]}}},getRoot:function(a){var b=w.Hooks.registered[a];return b?b[0]:a},cleanRootPropertyValue:function(a,b){return w.RegEx.valueUnwrap.test(b)&&(b=b.match(w.RegEx.valueUnwrap)[1]),w.Values.isCSSNullValue(b)&&(b=w.Hooks.templates[a][1]),b},extractValue:function(a,b){var c=w.Hooks.registered[a];if(c){var d=c[0],e=c[1];return b=w.Hooks.cleanRootPropertyValue(d,b),b.toString().match(w.RegEx.valueSplit)[e]}return b},injectValue:function(a,b,c){var d=w.Hooks.registered[a];if(d){var e,f,g=d[0],h=d[1];return c=w.Hooks.cleanRootPropertyValue(g,c),e=c.toString().match(w.RegEx.valueSplit),e[h]=b,f=e.join(" ")}return c}},Normalizations:{registered:{clip:function(a,b,c){switch(a){case"name":return"clip";case"extract":var d;return w.RegEx.wrappedValueAlreadyExtracted.test(c)?d=c:(d=c.toString().match(w.RegEx.valueUnwrap),d=d?d[1].replace(/,(\s+)?/g," "):c),d;case"inject":return"rect("+c+")"}},blur:function(a,b,c){switch(a){case"name":return u.State.isFirefox?"filter":"-webkit-filter";case"extract":var d=parseFloat(c);if(!d&&0!==d){var e=c.toString().match(/blur\(([0-9]+[A-z]+)\)/i);d=e?e[1]:0}return d;case"inject":return parseFloat(c)?"blur("+c+")":"none"}},opacity:function(a,b,c){if(8>=o)switch(a){case"name":return"filter";case"extract":var d=c.toString().match(/alpha\(opacity=(.*)\)/i);return c=d?d[1]/100:1;case"inject":return b.style.zoom=1,parseFloat(c)>=1?"":"alpha(opacity="+parseInt(100*parseFloat(c),10)+")"}else switch(a){case"name":return"opacity";case"extract":return c;case"inject":return c}}},register:function(){9>=o||u.State.isGingerbread||(w.Lists.transformsBase=w.Lists.transformsBase.concat(w.Lists.transforms3D));for(var a=0;a<w.Lists.transformsBase.length;a++)!function(){var b=w.Lists.transformsBase[a];w.Normalizations.registered[b]=function(a,c,e){switch(a){case"name":return"transform";case"extract":return h(c)===d||h(c).transformCache[b]===d?/^scale/i.test(b)?1:0:h(c).transformCache[b].replace(/[()]/g,"");case"inject":var f=!1;switch(b.substr(0,b.length-1)){case"translate":f=!/(%|px|em|rem|vw|vh|\d)$/i.test(e);break;case"scal":case"scale":u.State.isAndroid&&h(c).transformCache[b]===d&&1>e&&(e=1),f=!/(\d)$/i.test(e);break;case"skew":f=!/(deg|\d)$/i.test(e);break;case"rotate":f=!/(deg|\d)$/i.test(e)}return f||(h(c).transformCache[b]="("+e+")"),h(c).transformCache[b]}}}();for(var a=0;a<w.Lists.colors.length;a++)!function(){var b=w.Lists.colors[a];w.Normalizations.registered[b]=function(a,c,e){switch(a){case"name":return b;case"extract":var f;if(w.RegEx.wrappedValueAlreadyExtracted.test(e))f=e;else{var g,h={black:"rgb(0, 0, 0)",blue:"rgb(0, 0, 255)",gray:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",red:"rgb(255, 0, 0)",white:"rgb(255, 255, 255)"};/^[A-z]+$/i.test(e)?g=h[e]!==d?h[e]:h.black:w.RegEx.isHex.test(e)?g="rgb("+w.Values.hexToRgb(e).join(" ")+")":/^rgba?\(/i.test(e)||(g=h.black),f=(g||e).toString().match(w.RegEx.valueUnwrap)[1].replace(/,(\s+)?/g," ")}return 8>=o||3!==f.split(" ").length||(f+=" 1"),f;case"inject":return 8>=o?4===e.split(" ").length&&(e=e.split(/\s+/).slice(0,3).join(" ")):3===e.split(" ").length&&(e+=" 1"),(8>=o?"rgb":"rgba")+"("+e.replace(/\s+/g,",").replace(/\.(\d)+(?=,)/g,"")+")"}}}()}},Names:{camelCase:function(a){return a.replace(/-(\w)/g,function(a,b){return b.toUpperCase()})},SVGAttribute:function(a){var b="width|height|x|y|cx|cy|r|rx|ry|x1|x2|y1|y2";return(o||u.State.isAndroid&&!u.State.isChrome)&&(b+="|transform"),new RegExp("^("+b+")$","i").test(a)},prefixCheck:function(a){if(u.State.prefixMatches[a])return[u.State.prefixMatches[a],!0];for(var b=["","Webkit","Moz","ms","O"],c=0,d=b.length;d>c;c++){var e;if(e=0===c?a:b[c]+a.replace(/^\w/,function(a){return a.toUpperCase()}),q.isString(u.State.prefixElement.style[e]))return u.State.prefixMatches[a]=e,[e,!0]}return[a,!1]}},Values:{hexToRgb:function(a){var b,c=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,d=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i;return a=a.replace(c,function(a,b,c,d){return b+b+c+c+d+d}),b=d.exec(a),b?[parseInt(b[1],16),parseInt(b[2],16),parseInt(b[3],16)]:[0,0,0]},isCSSNullValue:function(a){return 0==a||/^(none|auto|transparent|(rgba\(0, ?0, ?0, ?0\)))$/i.test(a)},getUnitType:function(a){return/^(rotate|skew)/i.test(a)?"deg":/(^(scale|scaleX|scaleY|scaleZ|alpha|flexGrow|flexHeight|zIndex|fontWeight)$)|((opacity|red|green|blue|alpha)$)/i.test(a)?"":"px"},getDisplayType:function(a){var b=a&&a.tagName.toString().toLowerCase();return/^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|var|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i.test(b)?"inline":/^(li)$/i.test(b)?"list-item":/^(tr)$/i.test(b)?"table-row":/^(table)$/i.test(b)?"table":/^(tbody)$/i.test(b)?"table-row-group":"block"},addClass:function(a,b){a.classList?a.classList.add(b):a.className+=(a.className.length?" ":"")+b},removeClass:function(a,b){a.classList?a.classList.remove(b):a.className=a.className.toString().replace(new RegExp("(^|\\s)"+b.split(" ").join("|")+"(\\s|$)","gi")," ")}},getPropertyValue:function(a,c,e,f){function g(a,c){function e(){j&&w.setPropertyValue(a,"display","none")}var i=0;if(8>=o)i=n.css(a,c);else{var j=!1;if(/^(width|height)$/.test(c)&&0===w.getPropertyValue(a,"display")&&(j=!0,w.setPropertyValue(a,"display",w.Values.getDisplayType(a))),!f){if("height"===c&&"border-box"!==w.getPropertyValue(a,"boxSizing").toString().toLowerCase()){var k=a.offsetHeight-(parseFloat(w.getPropertyValue(a,"borderTopWidth"))||0)-(parseFloat(w.getPropertyValue(a,"borderBottomWidth"))||0)-(parseFloat(w.getPropertyValue(a,"paddingTop"))||0)-(parseFloat(w.getPropertyValue(a,"paddingBottom"))||0);return e(),k}if("width"===c&&"border-box"!==w.getPropertyValue(a,"boxSizing").toString().toLowerCase()){var l=a.offsetWidth-(parseFloat(w.getPropertyValue(a,"borderLeftWidth"))||0)-(parseFloat(w.getPropertyValue(a,"borderRightWidth"))||0)-(parseFloat(w.getPropertyValue(a,"paddingLeft"))||0)-(parseFloat(w.getPropertyValue(a,"paddingRight"))||0);return e(),l}}var m;m=h(a)===d?b.getComputedStyle(a,null):h(a).computedStyle?h(a).computedStyle:h(a).computedStyle=b.getComputedStyle(a,null),"borderColor"===c&&(c="borderTopColor"),i=9===o&&"filter"===c?m.getPropertyValue(c):m[c],(""===i||null===i)&&(i=a.style[c]),e()}if("auto"===i&&/^(top|right|bottom|left)$/i.test(c)){var p=g(a,"position");("fixed"===p||"absolute"===p&&/top|left/i.test(c))&&(i=n(a).position()[c]+"px")}return i}var i;if(w.Hooks.registered[c]){var j=c,k=w.Hooks.getRoot(j);e===d&&(e=w.getPropertyValue(a,w.Names.prefixCheck(k)[0])),w.Normalizations.registered[k]&&(e=w.Normalizations.registered[k]("extract",a,e)),i=w.Hooks.extractValue(j,e)}else if(w.Normalizations.registered[c]){var l,m;l=w.Normalizations.registered[c]("name",a),"transform"!==l&&(m=g(a,w.Names.prefixCheck(l)[0]),w.Values.isCSSNullValue(m)&&w.Hooks.templates[c]&&(m=w.Hooks.templates[c][1])),i=w.Normalizations.registered[c]("extract",a,m)}if(!/^[\d-]/.test(i))if(h(a)&&h(a).isSVG&&w.Names.SVGAttribute(c))if(/^(height|width)$/i.test(c))try{i=a.getBBox()[c]}catch(p){i=0}else i=a.getAttribute(c);else i=g(a,w.Names.prefixCheck(c)[0]);return w.Values.isCSSNullValue(i)&&(i=0),u.debug>=2&&console.log("Get "+c+": "+i),i},setPropertyValue:function(a,c,d,e,f){var g=c;if("scroll"===c)f.container?f.container["scroll"+f.direction]=d:"Left"===f.direction?b.scrollTo(d,f.alternateValue):b.scrollTo(f.alternateValue,d);else if(w.Normalizations.registered[c]&&"transform"===w.Normalizations.registered[c]("name",a))w.Normalizations.registered[c]("inject",a,d),g="transform",d=h(a).transformCache[c];else{if(w.Hooks.registered[c]){var i=c,j=w.Hooks.getRoot(c);e=e||w.getPropertyValue(a,j),d=w.Hooks.injectValue(i,d,e),c=j}if(w.Normalizations.registered[c]&&(d=w.Normalizations.registered[c]("inject",a,d),c=w.Normalizations.registered[c]("name",a)),g=w.Names.prefixCheck(c)[0],8>=o)try{a.style[g]=d}catch(k){u.debug&&console.log("Browser does not support ["+d+"] for ["+g+"]")}else h(a)&&h(a).isSVG&&w.Names.SVGAttribute(c)?a.setAttribute(c,d):a.style[g]=d;u.debug>=2&&console.log("Set "+c+" ("+g+"): "+d)}return[g,d]},flushTransformCache:function(a){function b(b){return parseFloat(w.getPropertyValue(a,b))}var c="";if((o||u.State.isAndroid&&!u.State.isChrome)&&h(a).isSVG){var d={translate:[b("translateX"),b("translateY")],skewX:[b("skewX")],skewY:[b("skewY")],scale:1!==b("scale")?[b("scale"),b("scale")]:[b("scaleX"),b("scaleY")],rotate:[b("rotateZ"),0,0]};n.each(h(a).transformCache,function(a){/^translate/i.test(a)?a="translate":/^scale/i.test(a)?a="scale":/^rotate/i.test(a)&&(a="rotate"),d[a]&&(c+=a+"("+d[a].join(" ")+") ",delete d[a])})}else{var e,f;n.each(h(a).transformCache,function(b){return e=h(a).transformCache[b],"transformPerspective"===b?(f=e,!0):(9===o&&"rotateZ"===b&&(b="rotate"),void(c+=b+e+" "))}),f&&(c="perspective"+f+" "+c)}w.setPropertyValue(a,"transform",c)}};w.Hooks.register(),w.Normalizations.register(),u.hook=function(a,b,c){var e=d;return a=g(a),n.each(a,function(a,f){if(h(f)===d&&u.init(f),c===d)e===d&&(e=u.CSS.getPropertyValue(f,b));else{var g=u.CSS.setPropertyValue(f,b,c);"transform"===g[0]&&u.CSS.flushTransformCache(f),e=g}}),e};var x=function(){function a(){return f?B.promise||null:i}function e(){function a(){function a(a,b){var c=d,e=d,h=d;return q.isArray(a)?(c=a[0],!q.isArray(a[1])&&/^[\d-]/.test(a[1])||q.isFunction(a[1])||w.RegEx.isHex.test(a[1])?h=a[1]:(q.isString(a[1])&&!w.RegEx.isHex.test(a[1])||q.isArray(a[1]))&&(e=b?a[1]:k(a[1],g.duration),a[2]!==d&&(h=a[2]))):c=a,b||(e=e||g.easing),q.isFunction(c)&&(c=c.call(f,y,v)),q.isFunction(h)&&(h=h.call(f,y,v)),[c||0,e,h]}function j(a,b){var c,d;return d=(b||"0").toString().toLowerCase().replace(/[%A-z]+$/,function(a){return c=a,""}),c||(c=w.Values.getUnitType(a)),[d,c]}function m(){var a={myParent:f.parentNode||c.body,position:w.getPropertyValue(f,"position"),fontSize:w.getPropertyValue(f,"fontSize")},d=a.position===I.lastPosition&&a.myParent===I.lastParent,e=a.fontSize===I.lastFontSize;I.lastParent=a.myParent,I.lastPosition=a.position,I.lastFontSize=a.fontSize;var g=100,i={};if(e&&d)i.emToPx=I.lastEmToPx,i.percentToPxWidth=I.lastPercentToPxWidth,i.percentToPxHeight=I.lastPercentToPxHeight;else{var j=h(f).isSVG?c.createElementNS("http://www.w3.org/2000/svg","rect"):c.createElement("div");u.init(j),a.myParent.appendChild(j),n.each(["overflow","overflowX","overflowY"],function(a,b){u.CSS.setPropertyValue(j,b,"hidden")}),u.CSS.setPropertyValue(j,"position",a.position),u.CSS.setPropertyValue(j,"fontSize",a.fontSize),u.CSS.setPropertyValue(j,"boxSizing","content-box"),n.each(["minWidth","maxWidth","width","minHeight","maxHeight","height"],function(a,b){u.CSS.setPropertyValue(j,b,g+"%")}),u.CSS.setPropertyValue(j,"paddingLeft",g+"em"),i.percentToPxWidth=I.lastPercentToPxWidth=(parseFloat(w.getPropertyValue(j,"width",null,!0))||1)/g,i.percentToPxHeight=I.lastPercentToPxHeight=(parseFloat(w.getPropertyValue(j,"height",null,!0))||1)/g,i.emToPx=I.lastEmToPx=(parseFloat(w.getPropertyValue(j,"paddingLeft"))||1)/g,a.myParent.removeChild(j)}return null===I.remToPx&&(I.remToPx=parseFloat(w.getPropertyValue(c.body,"fontSize"))||16),null===I.vwToPx&&(I.vwToPx=parseFloat(b.innerWidth)/100,I.vhToPx=parseFloat(b.innerHeight)/100),i.remToPx=I.remToPx,i.vwToPx=I.vwToPx,i.vhToPx=I.vhToPx,u.debug>=1&&console.log("Unit ratios: "+JSON.stringify(i),f),i}if(g.begin&&0===y)try{g.begin.call(o,o)}catch(s){setTimeout(function(){throw s},1)}if("scroll"===C){var t,x,z,A=/^x$/i.test(g.axis)?"Left":"Top",D=parseFloat(g.offset)||0;g.container?q.isWrapped(g.container)||q.isNode(g.container)?(g.container=g.container[0]||g.container,t=g.container["scroll"+A],z=t+n(f).position()[A.toLowerCase()]+D):g.container=null:(t=u.State.scrollAnchor[u.State["scrollProperty"+A]],x=u.State.scrollAnchor[u.State["scrollProperty"+("Left"===A?"Top":"Left")]],z=n(f).offset()[A.toLowerCase()]+D),i={scroll:{rootPropertyValue:!1,startValue:t,currentValue:t,endValue:z,unitType:"",easing:g.easing,scrollData:{container:g.container,direction:A,alternateValue:x}},element:f},u.debug&&console.log("tweensContainer (scroll): ",i.scroll,f)}else if("reverse"===C){if(!h(f).tweensContainer)return void n.dequeue(f,g.queue);"none"===h(f).opts.display&&(h(f).opts.display="auto"),"hidden"===h(f).opts.visibility&&(h(f).opts.visibility="visible"),h(f).opts.loop=!1,h(f).opts.begin=null,h(f).opts.complete=null,r.easing||delete g.easing,r.duration||delete g.duration,g=n.extend({},h(f).opts,g);var E=n.extend(!0,{},h(f).tweensContainer);for(var F in E)if("element"!==F){var G=E[F].startValue;E[F].startValue=E[F].currentValue=E[F].endValue,E[F].endValue=G,q.isEmptyObject(r)||(E[F].easing=g.easing),u.debug&&console.log("reverse tweensContainer ("+F+"): "+JSON.stringify(E[F]),f)}i=E}else if("start"===C){var E;h(f).tweensContainer&&h(f).isAnimating===!0&&(E=h(f).tweensContainer),n.each(p,function(b,c){if(RegExp("^"+w.Lists.colors.join("$|^")+"$").test(b)){var e=a(c,!0),f=e[0],g=e[1],h=e[2];if(w.RegEx.isHex.test(f)){for(var i=["Red","Green","Blue"],j=w.Values.hexToRgb(f),k=h?w.Values.hexToRgb(h):d,l=0;l<i.length;l++){var m=[j[l]];g&&m.push(g),k!==d&&m.push(k[l]),p[b+i[l]]=m}delete p[b]}}});for(var H in p){var K=a(p[H]),L=K[0],M=K[1],N=K[2];H=w.Names.camelCase(H);var O=w.Hooks.getRoot(H),P=!1;if(h(f).isSVG||"tween"===O||w.Names.prefixCheck(O)[1]!==!1||w.Normalizations.registered[O]!==d){(g.display!==d&&null!==g.display&&"none"!==g.display||g.visibility!==d&&"hidden"!==g.visibility)&&/opacity|filter/.test(H)&&!N&&0!==L&&(N=0),g._cacheValues&&E&&E[H]?(N===d&&(N=E[H].endValue+E[H].unitType),P=h(f).rootPropertyValueCache[O]):w.Hooks.registered[H]?N===d?(P=w.getPropertyValue(f,O),N=w.getPropertyValue(f,H,P)):P=w.Hooks.templates[O][1]:N===d&&(N=w.getPropertyValue(f,H));var Q,R,S,T=!1;if(Q=j(H,N),N=Q[0],S=Q[1],Q=j(H,L),L=Q[0].replace(/^([+-\/*])=/,function(a,b){return T=b,""}),R=Q[1],N=parseFloat(N)||0,L=parseFloat(L)||0,"%"===R&&(/^(fontSize|lineHeight)$/.test(H)?(L/=100,R="em"):/^scale/.test(H)?(L/=100,R=""):/(Red|Green|Blue)$/i.test(H)&&(L=L/100*255,R="")),/[\/*]/.test(T))R=S;else if(S!==R&&0!==N)if(0===L)R=S;else{e=e||m();var U=/margin|padding|left|right|width|text|word|letter/i.test(H)||/X$/.test(H)||"x"===H?"x":"y";switch(S){case"%":N*="x"===U?e.percentToPxWidth:e.percentToPxHeight;break;case"px":break;default:N*=e[S+"ToPx"]}switch(R){case"%":N*=1/("x"===U?e.percentToPxWidth:e.percentToPxHeight);break;case"px":break;default:N*=1/e[R+"ToPx"]}}switch(T){case"+":L=N+L;break;case"-":L=N-L;break;case"*":L=N*L;break;case"/":L=N/L}i[H]={rootPropertyValue:P,startValue:N,currentValue:N,endValue:L,unitType:R,easing:M},u.debug&&console.log("tweensContainer ("+H+"): "+JSON.stringify(i[H]),f)}else u.debug&&console.log("Skipping ["+O+"] due to a lack of browser support.")}i.element=f}i.element&&(w.Values.addClass(f,"velocity-animating"),J.push(i),""===g.queue&&(h(f).tweensContainer=i,h(f).opts=g),h(f).isAnimating=!0,y===v-1?(u.State.calls.push([J,o,g,null,B.resolver]),u.State.isTicking===!1&&(u.State.isTicking=!0,l())):y++)}var e,f=this,g=n.extend({},u.defaults,r),i={};switch(h(f)===d&&u.init(f),parseFloat(g.delay)&&g.queue!==!1&&n.queue(f,g.queue,function(a){u.velocityQueueEntryFlag=!0,h(f).delayTimer={setTimeout:setTimeout(a,parseFloat(g.delay)),next:a}}),g.duration.toString().toLowerCase()){case"fast":g.duration=200;break;case"normal":g.duration=s;break;case"slow":g.duration=600;break;default:g.duration=parseFloat(g.duration)||1}u.mock!==!1&&(u.mock===!0?g.duration=g.delay=1:(g.duration*=parseFloat(u.mock)||1,g.delay*=parseFloat(u.mock)||1)),g.easing=k(g.easing,g.duration),g.begin&&!q.isFunction(g.begin)&&(g.begin=null),g.progress&&!q.isFunction(g.progress)&&(g.progress=null),g.complete&&!q.isFunction(g.complete)&&(g.complete=null),g.display!==d&&null!==g.display&&(g.display=g.display.toString().toLowerCase(),"auto"===g.display&&(g.display=u.CSS.Values.getDisplayType(f))),g.visibility!==d&&null!==g.visibility&&(g.visibility=g.visibility.toString().toLowerCase()),g.mobileHA=g.mobileHA&&u.State.isMobile&&!u.State.isGingerbread,g.queue===!1?g.delay?setTimeout(a,g.delay):a():n.queue(f,g.queue,function(b,c){return c===!0?(B.promise&&B.resolver(o),!0):(u.velocityQueueEntryFlag=!0,void a(b))}),""!==g.queue&&"fx"!==g.queue||"inprogress"===n.queue(f)[0]||n.dequeue(f)}var f,i,j,o,p,r,t=arguments[0]&&(arguments[0].p||n.isPlainObject(arguments[0].properties)&&!arguments[0].properties.names||q.isString(arguments[0].properties));if(q.isWrapped(this)?(f=!1,j=0,o=this,i=this):(f=!0,j=1,o=t?arguments[0].elements||arguments[0].e:arguments[0]),o=g(o)){t?(p=arguments[0].properties||arguments[0].p,r=arguments[0].options||arguments[0].o):(p=arguments[j],r=arguments[j+1]);var v=o.length,y=0;if(!/^(stop|finish|finishAll)$/i.test(p)&&!n.isPlainObject(r)){var z=j+1;r={};for(var A=z;A<arguments.length;A++)q.isArray(arguments[A])||!/^(fast|normal|slow)$/i.test(arguments[A])&&!/^\d/.test(arguments[A])?q.isString(arguments[A])||q.isArray(arguments[A])?r.easing=arguments[A]:q.isFunction(arguments[A])&&(r.complete=arguments[A]):r.duration=arguments[A]}var B={promise:null,resolver:null,rejecter:null};f&&u.Promise&&(B.promise=new u.Promise(function(a,b){B.resolver=a,B.rejecter=b}));var C;switch(p){case"scroll":C="scroll";break;case"reverse":C="reverse";break;case"finish":case"finishAll":case"stop":n.each(o,function(a,b){h(b)&&h(b).delayTimer&&(clearTimeout(h(b).delayTimer.setTimeout),h(b).delayTimer.next&&h(b).delayTimer.next(),delete h(b).delayTimer),"finishAll"!==p||r!==!0&&!q.isString(r)||(n.each(n.queue(b,q.isString(r)?r:""),function(a,b){q.isFunction(b)&&b()}),n.queue(b,q.isString(r)?r:"",[]))});var D=[];return n.each(u.State.calls,function(a,b){b&&n.each(b[1],function(c,e){var f=r===d?"":r;return f===!0||b[2].queue===f||r===d&&b[2].queue===!1?void n.each(o,function(c,d){d===e&&((r===!0||q.isString(r))&&(n.each(n.queue(d,q.isString(r)?r:""),function(a,b){q.isFunction(b)&&b(null,!0)}),n.queue(d,q.isString(r)?r:"",[])),"stop"===p?(h(d)&&h(d).tweensContainer&&f!==!1&&n.each(h(d).tweensContainer,function(a,b){b.endValue=b.currentValue}),D.push(a)):("finish"===p||"finishAll"===p)&&(b[2].duration=1))}):!0})}),"stop"===p&&(n.each(D,function(a,b){m(b,!0)}),B.promise&&B.resolver(o)),a();default:if(!n.isPlainObject(p)||q.isEmptyObject(p)){if(q.isString(p)&&u.Redirects[p]){var E=n.extend({},r),F=E.duration,G=E.delay||0;return E.backwards===!0&&(o=n.extend(!0,[],o).reverse()),n.each(o,function(a,b){parseFloat(E.stagger)?E.delay=G+parseFloat(E.stagger)*a:q.isFunction(E.stagger)&&(E.delay=G+E.stagger.call(b,a,v)),E.drag&&(E.duration=parseFloat(F)||(/^(callout|transition)/.test(p)?1e3:s),E.duration=Math.max(E.duration*(E.backwards?1-a/v:(a+1)/v),.75*E.duration,200)),u.Redirects[p].call(b,b,E||{},a,v,o,B.promise?B:d)}),a()}var H="Velocity: First argument ("+p+") was not a property map, a known action, or a registered redirect. Aborting.";return B.promise?B.rejecter(new Error(H)):console.log(H),a()}C="start"}var I={lastParent:null,lastPosition:null,lastFontSize:null,lastPercentToPxWidth:null,lastPercentToPxHeight:null,lastEmToPx:null,remToPx:null,vwToPx:null,vhToPx:null},J=[];n.each(o,function(a,b){q.isNode(b)&&e.call(b)});var K,E=n.extend({},u.defaults,r);if(E.loop=parseInt(E.loop),K=2*E.loop-1,E.loop)for(var L=0;K>L;L++){var M={delay:E.delay,progress:E.progress};L===K-1&&(M.display=E.display,M.visibility=E.visibility,M.complete=E.complete),x(o,"reverse",M)}return a()}};u=n.extend(x,u),u.animate=x;var y=b.requestAnimationFrame||p;return u.State.isMobile||c.hidden===d||c.addEventListener("visibilitychange",function(){c.hidden?(y=function(a){return setTimeout(function(){a(!0)},16)},l()):y=b.requestAnimationFrame||p}),a.Velocity=u,a!==b&&(a.fn.velocity=x,a.fn.velocity.defaults=u.defaults),n.each(["Down","Up"],function(a,b){u.Redirects["slide"+b]=function(a,c,e,f,g,h){var i=n.extend({},c),j=i.begin,k=i.complete,l={height:"",marginTop:"",marginBottom:"",paddingTop:"",paddingBottom:""},m={};i.display===d&&(i.display="Down"===b?"inline"===u.CSS.Values.getDisplayType(a)?"inline-block":"block":"none"),i.begin=function(){j&&j.call(g,g);for(var c in l){m[c]=a.style[c];var d=u.CSS.getPropertyValue(a,c);l[c]="Down"===b?[d,0]:[0,d]}m.overflow=a.style.overflow,a.style.overflow="hidden"},i.complete=function(){for(var b in m)a.style[b]=m[b];k&&k.call(g,g),h&&h.resolver(g)},u(a,l,i)}}),n.each(["In","Out"],function(a,b){u.Redirects["fade"+b]=function(a,c,e,f,g,h){var i=n.extend({},c),j={opacity:"In"===b?1:0},k=i.complete;i.complete=e!==f-1?i.begin=null:function(){k&&k.call(g,g),h&&h.resolver(g)},i.display===d&&(i.display="In"===b?"auto":"none"),u(this,j,i)}}),u}(window.jQuery||window.Zepto||window,window,document)})}).call(b,c(1))},function(a,b,c){!function(b){a.exports=b()}(function(){return function(a,b,c,d){function e(a,b){var c=[];return a&&b?(g.each([a,b],function(a,b){var d=[];g.each(b,function(a,b){for(;b.toString().length<5;)b="0"+b;d.push(b)}),c.push(d.join(""))}),parseFloat(c[0])>parseFloat(c[1])):!1}if(!a.Velocity||!a.Velocity.Utilities)return void(b.console&&console.log("Velocity UI Pack: Velocity must be loaded first. Aborting."));var f=a.Velocity,g=f.Utilities,h=f.version,i={major:1,minor:1,patch:0};if(e(i,h)){var j="Velocity UI Pack: You need to update Velocity (jquery.velocity.js) to a newer version. Visit http://github.com/julianshapiro/velocity.";throw alert(j),new Error(j)}f.RegisterEffect=f.RegisterUI=function(a,b){function c(a,b,c,d){var e,h=0;g.each(a.nodeType?[a]:a,function(a,b){d&&(c+=a*d),e=b.parentNode,g.each(["height","paddingTop","paddingBottom","marginTop","marginBottom"],function(a,c){h+=parseFloat(f.CSS.getPropertyValue(b,c))})}),f.animate(e,{height:("In"===b?"+":"-")+"="+h},{queue:!1,easing:"ease-in-out",duration:c*("In"===b?.6:1)})}return f.Redirects[a]=function(e,h,i,j,k,l){function m(){h.display!==d&&"none"!==h.display||!/Out$/.test(a)||g.each(k.nodeType?[k]:k,function(a,b){f.CSS.setPropertyValue(b,"display","none")}),h.complete&&h.complete.call(k,k),l&&l.resolver(k||e)}var n=i===j-1;"function"==typeof b.defaultDuration?b.defaultDuration=b.defaultDuration.call(k,k):b.defaultDuration=parseFloat(b.defaultDuration);for(var o=0;o<b.calls.length;o++){var p=b.calls[o],q=p[0],r=h.duration||b.defaultDuration||1e3,s=p[1],t=p[2]||{},u={};if(u.duration=r*(s||1),u.queue=h.queue||"",u.easing=t.easing||"ease",u.delay=parseFloat(t.delay)||0,u._cacheValues=t._cacheValues||!0,0===o){if(u.delay+=parseFloat(h.delay)||0,0===i&&(u.begin=function(){h.begin&&h.begin.call(k,k);var b=a.match(/(In|Out)$/);b&&"In"===b[0]&&q.opacity!==d&&g.each(k.nodeType?[k]:k,function(a,b){f.CSS.setPropertyValue(b,"opacity",0)}),h.animateParentHeight&&b&&c(k,b[0],r+u.delay,h.stagger)}),null!==h.display)if(h.display!==d&&"none"!==h.display)u.display=h.display;else if(/In$/.test(a)){var v=f.CSS.Values.getDisplayType(e);u.display="inline"===v?"inline-block":v}h.visibility&&"hidden"!==h.visibility&&(u.visibility=h.visibility)}o===b.calls.length-1&&(u.complete=function(){if(b.reset){for(var a in b.reset){var c=b.reset[a];f.CSS.Hooks.registered[a]!==d||"string"!=typeof c&&"number"!=typeof c||(b.reset[a]=[b.reset[a],b.reset[a]])}var g={duration:0,queue:!1};n&&(g.complete=m),f.animate(e,b.reset,g)}else n&&m()},"hidden"===h.visibility&&(u.visibility=h.visibility)),f.animate(e,q,u)}},f},f.RegisterEffect.packagedEffects={"callout.bounce":{defaultDuration:550,calls:[[{translateY:-30},.25],[{translateY:0},.125],[{translateY:-15},.125],[{translateY:0},.25]]},"callout.shake":{defaultDuration:800,calls:[[{translateX:-11},.125],[{translateX:11},.125],[{translateX:-11},.125],[{translateX:11},.125],[{translateX:-11},.125],[{translateX:11},.125],[{translateX:-11},.125],[{translateX:0},.125]]},"callout.moveReset":{defaultDuration:100,calls:[[{translateX:0,translateY:0}]]},"callout.moveLT":{defaultDuration:3500,calls:[[{translateX:-40,translateY:-15}]]},"callout.moveLB":{defaultDuration:3500,calls:[[{translateX:-40,translateY:15}]]},"callout.moveRT":{defaultDuration:3500,calls:[[{translateX:40,translateY:-15}]]},"callout.moveRB":{defaultDuration:3500,calls:[[{translateX:40,translateY:15}]]},"callout.flash":{defaultDuration:1100,calls:[[{opacity:[0,"easeInOutQuad",1]},.25],[{opacity:[1,"easeInOutQuad"]},.25],[{opacity:[0,"easeInOutQuad"]},.25],[{opacity:[1,"easeInOutQuad"]},.25]]},"callout.pulse":{defaultDuration:825,calls:[[{scaleX:1.1,scaleY:1.1},.5,{easing:"easeInExpo"}],[{scaleX:1,scaleY:1},.5]]},"callout.swing":{defaultDuration:2800,calls:[[{rotateZ:15},.2],[{rotateZ:-10},.2],[{rotateZ:5},.2],[{rotateZ:-5},.2],[{rotateZ:0},.2]]},"callout.tada":{defaultDuration:1e3,calls:[[{scaleX:.9,scaleY:.9,rotateZ:-3},.1],[{scaleX:1.1,scaleY:1.1,rotateZ:3},.1],[{scaleX:1.1,scaleY:1.1,rotateZ:-3},.1],["reverse",.125],["reverse",.125],["reverse",.125],["reverse",.125],["reverse",.125],[{scaleX:1,scaleY:1,rotateZ:0},.2]]},"transition.fadeIn":{defaultDuration:500,calls:[[{opacity:[1,0]}]]},"transition.fadeOut":{defaultDuration:500,calls:[[{opacity:[0,1]}]]},"transition.flipXIn":{defaultDuration:700,calls:[[{opacity:[1,0],transformPerspective:[800,800],rotateY:[0,-55]}]],reset:{transformPerspective:0}},"transition.flipXOut":{defaultDuration:700,calls:[[{opacity:[0,1],transformPerspective:[800,800],rotateY:55}]],reset:{transformPerspective:0,rotateY:0}},"transition.flipYIn":{defaultDuration:800,calls:[[{opacity:[1,0],transformPerspective:[800,800],rotateX:[0,-45]}]],reset:{transformPerspective:0}},"transition.flipYOut":{defaultDuration:800,calls:[[{opacity:[0,1],transformPerspective:[800,800],rotateX:25}]],reset:{transformPerspective:0,rotateX:0}},"transition.flipBounceXIn":{defaultDuration:900,calls:[[{opacity:[.725,0],transformPerspective:[400,400],rotateY:[-10,90]},.5],[{opacity:.8,rotateY:10},.25],[{opacity:1,rotateY:0},.25]],reset:{transformPerspective:0}},"transition.flipBounceXOut":{defaultDuration:800,calls:[[{opacity:[.9,1],transformPerspective:[400,400],rotateY:-10},.5],[{opacity:0,rotateY:90},.5]],reset:{transformPerspective:0,rotateY:0}},"transition.flipBounceYIn":{defaultDuration:850,calls:[[{opacity:[.725,0],transformPerspective:[400,400],rotateX:[-10,90]},.5],[{opacity:.8,rotateX:10},.25],[{opacity:1,rotateX:0},.25]],reset:{transformPerspective:0}},"transition.flipBounceYOut":{defaultDuration:800,calls:[[{opacity:[.9,1],transformPerspective:[400,400],rotateX:-15},.5],[{opacity:0,rotateX:90},.5]],reset:{transformPerspective:0,rotateX:0}},"transition.swoopIn":{defaultDuration:850,calls:[[{opacity:[1,0],transformOriginX:["100%","50%"],transformOriginY:["100%","100%"],scaleX:[1,0],scaleY:[1,0],translateX:[0,-700],translateZ:0}]],reset:{transformOriginX:"50%",transformOriginY:"50%"}},"transition.swoopOut":{defaultDuration:850,calls:[[{opacity:[0,1],transformOriginX:["50%","100%"],transformOriginY:["100%","100%"],scaleX:0,scaleY:0,translateX:-700,translateZ:0}]],reset:{transformOriginX:"50%",transformOriginY:"50%",scaleX:1,scaleY:1,translateX:0}},"transition.whirlIn":{defaultDuration:850,calls:[[{opacity:[1,0],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:[1,0],scaleY:[1,0],rotateY:[0,160]},1,{easing:"easeInOutSine"}]]},"transition.whirlOut":{defaultDuration:750,calls:[[{opacity:[0,"easeInOutQuint",1],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:0,scaleY:0,rotateY:160},1,{easing:"swing"}]],reset:{scaleX:1,scaleY:1,rotateY:0}},"transition.shrinkIn":{defaultDuration:750,calls:[[{opacity:[1,0],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:[1,1.5],scaleY:[1,1.5],translateZ:0}]]},"transition.shrinkOut":{defaultDuration:600,calls:[[{opacity:[0,1],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:1.3,scaleY:1.3,translateZ:0}]],reset:{scaleX:1,scaleY:1}},"transition.expandIn":{defaultDuration:250,calls:[[{opacity:[1,0],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:[1,.525],scaleY:[1,.525],translateZ:0}]]},"transition.expandOut":{defaultDuration:700,calls:[[{opacity:[0,1],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:.5,scaleY:.5,translateZ:0}]],reset:{scaleX:1,scaleY:1}},"transition.bounceIn":{defaultDuration:800,calls:[[{opacity:[1,0],scaleX:[1.05,.3],scaleY:[1.05,.3]},.4],[{scaleX:.9,scaleY:.9,translateZ:0},.2],[{scaleX:1,scaleY:1},.5]]},"transition.bounceOut":{defaultDuration:800,calls:[[{scaleX:.95,scaleY:.95},.35],[{scaleX:1.1,scaleY:1.1,translateZ:0},.35],[{opacity:[0,1],scaleX:.3,scaleY:.3},.3]],reset:{scaleX:1,scaleY:1}},"transition.bounceUpIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateY:[-30,1e3]},.6,{easing:"easeOutCirc"}],[{translateY:10},.2],[{translateY:0},.2]]},"transition.bounceUpOut":{defaultDuration:1e3,calls:[[{translateY:20},.2],[{opacity:[0,"easeInCirc",1],translateY:-1e3},.8]],reset:{translateY:0}},"transition.bounceDownIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateY:[30,-1e3]},.6,{easing:"easeOutCirc"}],[{translateY:-10},.2],[{translateY:0},.2]]},"transition.bounceDownOut":{defaultDuration:1e3,calls:[[{translateY:-20},.2],[{opacity:[0,"easeInCirc",1],translateY:1e3},.8]],reset:{translateY:0}},"transition.bounceLeftIn":{defaultDuration:750,calls:[[{opacity:[1,0],translateX:[30,-1250]},.6,{easing:"easeOutCirc"}],[{translateX:-10},.2],[{translateX:0},.2]]},"transition.bounceLeftOut":{defaultDuration:750,calls:[[{translateX:30},.2],[{opacity:[0,"easeInCirc",1],translateX:-1250},.8]],reset:{translateX:0}},"transition.bounceRightIn":{defaultDuration:750,calls:[[{opacity:[1,0],translateX:[-30,1250]},.6,{easing:"easeOutCirc"}],[{translateX:10},.2],[{translateX:0},.2]]},"transition.bounceRightOut":{defaultDuration:750,calls:[[{translateX:-30},.2],[{opacity:[0,"easeInCirc",1],translateX:1250},.8]],reset:{translateX:0}},"transition.slideUpIn":{defaultDuration:900,calls:[[{opacity:[1,0],translateY:[0,20],translateZ:0}]]},"transition.slideUpOut":{defaultDuration:900,calls:[[{opacity:[0,1],translateY:-20,translateZ:0}]],reset:{translateY:0}},"transition.slideDownIn":{defaultDuration:900,calls:[[{opacity:[1,0],translateY:[0,-20],translateZ:0}]]},"transition.slideDownOut":{defaultDuration:900,calls:[[{opacity:[0,1],translateY:20,translateZ:0}]],reset:{translateY:0}},"transition.slideLeftIn":{defaultDuration:1e3,calls:[[{opacity:[1,0],translateX:[0,-20],translateZ:0}]]},"transition.slideLeftOut":{defaultDuration:1050,calls:[[{opacity:[0,1],translateX:-20,translateZ:0}]],reset:{translateX:0}},"transition.slideRightIn":{defaultDuration:1e3,calls:[[{opacity:[1,0],translateX:[0,20],translateZ:0}]]},"transition.slideRightOut":{defaultDuration:1050,calls:[[{opacity:[0,1],translateX:20,translateZ:0}]],reset:{translateX:0}},"transition.slideUpBigIn":{defaultDuration:850,calls:[[{opacity:[1,0],translateY:[0,75],translateZ:0}]]},"transition.slideUpBigOut":{defaultDuration:800,calls:[[{opacity:[0,1],translateY:-75,translateZ:0}]],reset:{translateY:0}},"transition.slideDownBigIn":{defaultDuration:850,calls:[[{opacity:[1,0],translateY:[0,-75],translateZ:0}]]},"transition.slideDownBigOut":{defaultDuration:800,calls:[[{opacity:[0,1],translateY:75,translateZ:0}]],reset:{translateY:0}},"transition.slideLeftBigIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateX:[0,-75],translateZ:0}]]},"transition.slideLeftBigOut":{defaultDuration:750,calls:[[{opacity:[0,1],translateX:-75,translateZ:0}]],reset:{translateX:0}},"transition.slideRightBigIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateX:[0,75],translateZ:0}]]},"transition.slideRightBigOut":{defaultDuration:750,calls:[[{opacity:[0,1],translateX:75,translateZ:0}]],reset:{translateX:0}},"transition.perspectiveUpIn":{defaultDuration:800,calls:[[{opacity:[1,0],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:["100%","100%"],rotateX:[0,-180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveUpOut":{defaultDuration:850,calls:[[{opacity:[0,1],transformPerspective:[800,800],
transformOriginX:[0,0],transformOriginY:["100%","100%"],rotateX:-180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateX:0}},"transition.perspectiveDownIn":{defaultDuration:800,calls:[[{opacity:[1,0],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:[0,0],rotateX:[0,180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveDownOut":{defaultDuration:850,calls:[[{opacity:[0,1],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:[0,0],rotateX:180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateX:0}},"transition.perspectiveLeftIn":{defaultDuration:950,calls:[[{opacity:[1,0],transformPerspective:[2e3,2e3],transformOriginX:[0,0],transformOriginY:[0,0],rotateY:[0,-180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveLeftOut":{defaultDuration:950,calls:[[{opacity:[0,1],transformPerspective:[2e3,2e3],transformOriginX:[0,0],transformOriginY:[0,0],rotateY:-180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateY:0}},"transition.perspectiveRightIn":{defaultDuration:950,calls:[[{opacity:[1,0],transformPerspective:[2e3,2e3],transformOriginX:["100%","100%"],transformOriginY:[0,0],rotateY:[0,180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveRightOut":{defaultDuration:950,calls:[[{opacity:[0,1],transformPerspective:[2e3,2e3],transformOriginX:["100%","100%"],transformOriginY:[0,0],rotateY:180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateY:0}}};for(var k in f.RegisterEffect.packagedEffects)f.RegisterEffect(k,f.RegisterEffect.packagedEffects[k]);f.RunSequence=function(a){var b=g.extend(!0,[],a);b.length>1&&(g.each(b.reverse(),function(a,c){var d=b[a+1];if(d){var e=c.o||c.options,h=d.o||d.options,i=e&&e.sequenceQueue===!1?"begin":"complete",j=h&&h[i],k={};k[i]=function(){var a=d.e||d.elements,b=a.nodeType?[a]:a;j&&j.call(b,b),f(c)},d.o?d.o=g.extend({},h,k):d.options=g.extend({},h,k)}}),b.reverse()),f(b[0])}}(window.jQuery||window.Zepto||window,window,document)})},,,,function(a,b,c){var d=c(4);a.exports=d("index/tpl/dragger",function(a){"use strict";var b=this,c=(b.$helpers,a.tooldragbar),d="";return d+=c?'\n<div class="tooldragbar tooldragup"></div>\n<div class="tooldragbar tooldragdown"></div>\n<div class="tooldragbar tooldragleft"></div>\n<div class="tooldragbar tooldragright"></div>\n':'\n<div class="dtrigger dragtop"></div>\n<div class="dtrigger dragbottom"></div>\n<div class="dtrigger dragleft"></div>\n<div class="dtrigger dragright"></div>\n',new String(d)})},function(a,b,c){var d=c(83),e=function(){c(84),c(85)};e(),a.exports=d},,function(a,b,c){(function(b){var c={elem:b(document),name:"queue",queueArr:[]},d=function(a,d){var e=this;e.ctx=d||window,e.opts=b.extend({},c,a);var a=e.opts;e.elem=b(a.elem?a.elem:document),e.name=a.name,e.queueArr=a.queueArr,e.init()};d.fn=d.prototype,d.fn.pushQueue=function(){var a=this;a.elem.queue(a.name,a.queueArr)},d.fn.dequeue=function(){var a=this;a.elem.queue(a.name,[]),a.pushQueue(),a.elem.dequeue(a.name)},d.fn.endFunc=function(){},d.fn.bindEvent=function(){},d.fn.generateNewArr=function(){for(var a=this,b=a.ctx,c=a.queueArr,d=(c.length,0);d<c.length;d++)c[d]=c[d].bind(b)},d.fn.init=function(){var a=this;a.generateNewArr()},a.exports=function(a,b){var c=new d(a,b);return c}}).call(b,c(1))},,,,function(a,b,c){var d=c(4);c(33),a.exports=d("index/tpl/amap.maptoolbox",function(a,b){"use strict";var c=this,d=(c.$helpers,function(d,f){f=f||a;var g=c.$include(d,f,b);return e+=g}),e="";return d("./dragger"),e+='\n<div id="locbox" class="zdeps-1 usel">\n    <img src="/assets/img/loc_ing.png" class="fa-spin locating">\n    <img src="/assets/img/loc_ok.png" class="locicon locok">\n    <img src="/assets/img/loc_fail.png"  class="locicon locfail">\n</div>\n<div id="scalebox" class="zdeps-1 usel">\n    <div class="zoom_map zoom_in_map" type="in"></div>\n    <div class="zoom_map zoom_out_map" type="out"></div>\n</div>',new String(e)})},,,function(a,b,c){(function(a){!function(a){a.fn.extend({slimScroll:function(b){var c={width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"1px",start:"top",opacity:.4,alwaysVisible:!1,disableFadeOut:!1,railVisible:!1,railColor:"#333",railOpacity:.2,railDraggable:!0,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200,borderRadius:"7px",railBorderRadius:"7px"},d=a.extend(c,b);return this.each(function(){function c(b){var b=b||window.event,c=0;b.wheelDelta&&(c=-b.wheelDelta/120),b.detail&&(c=b.detail/3);var f=b.target||b.srcTarget||b.srcElement;a(f).closest("."+d.wrapperClass).is(v.parent())&&e(c,!0),b.preventDefault&&!u&&b.preventDefault(),u||(b.returnValue=!1)}function e(a,b,c){u=!1;var e=a,f=v.outerHeight()-A.outerHeight();if(b&&(e=parseInt(A.css("top"))+a*parseInt(d.wheelStep)/100*A.outerHeight(),e=Math.min(Math.max(e,0),f),e=a>0?Math.ceil(e):Math.floor(e),A.css({top:e+"px"})),p=parseInt(A.css("top"))/(v.outerHeight()-A.outerHeight()),e=p*(v[0].scrollHeight-v.outerHeight()),c){e=a;var g=e/v[0].scrollHeight*v.outerHeight();g=Math.min(Math.max(g,0),f),A.css({top:g+"px"})}v.scrollTop(e),v.trigger("slimscrolling",~~e),h(),i()}function f(a){window.addEventListener?(a.addEventListener("DOMMouseScroll",c,!1),a.addEventListener("mousewheel",c,!1)):document.attachEvent("onmousewheel",c)}function g(){o=Math.max(v.outerHeight()/v[0].scrollHeight*v.outerHeight(),s),A.css({height:o+"px"});var a=o==v.outerHeight()?"none":"block";A.css({display:a})}function h(){if(g(),clearTimeout(m),p==~~p){if(u=d.allowPageScroll,q!=p){var a=0==~~p?"top":"bottom";v.trigger("slimscroll",a)}}else u=!1;return q=p,o>=v.outerHeight()?void(u=!0):(A.stop(!0,!0).fadeIn("fast"),void(d.railVisible&&z.stop(!0,!0).fadeIn("fast")))}function i(){d.alwaysVisible||(m=setTimeout(function(){d.disableFadeOut&&j||k||l||(A.fadeOut("slow"),z.fadeOut("slow"))},1e3))}var j,k,l,m,n,o,p,q,r="<div></div>",s=30,u=!1,v=a(this);if(v.parent().hasClass(d.wrapperClass)){var w=v.scrollTop();if(A=v.closest("."+d.barClass),z=v.closest("."+d.railClass),g(),a.isPlainObject(b)){if("height"in b&&"auto"==b.height){v.parent().css("height","auto"),v.css("height","auto");var x=v.parent().parent().height();v.parent().css("height",x),v.css("height",x)}if("scrollTo"in b)w=parseInt(d.scrollTo);else if("scrollBy"in b)w+=parseInt(d.scrollBy);else if("destroy"in b)return A.remove(),z.remove(),void v.unwrap();e(w,!1,!0)}}else if(!(a.isPlainObject(b)&&"destroy"in b)){d.height="auto"==d.height?v.parent().height():d.height;var y=a(r).addClass(d.wrapperClass).css({position:"relative",overflow:"hidden",width:d.width,height:d.height});v.css({overflow:"hidden",width:d.width,height:d.height});var z=a(r).addClass(d.railClass).css({width:d.size,height:"100%",position:"absolute",top:0,display:d.alwaysVisible&&d.railVisible?"block":"none","border-radius":d.railBorderRadius,background:d.railColor,opacity:d.railOpacity,zIndex:90}),A=a(r).addClass(d.barClass).css({background:d.color,width:d.size,position:"absolute",top:0,opacity:d.opacity,display:d.alwaysVisible?"block":"none","border-radius":d.borderRadius,BorderRadius:d.borderRadius,MozBorderRadius:d.borderRadius,WebkitBorderRadius:d.borderRadius,zIndex:99}),B="right"==d.position?{right:d.distance}:{left:d.distance};z.css(B),A.css(B),v.wrap(y),v.parent().append(A),v.parent().append(z),d.railDraggable&&A.bind("mousedown",function(b){var c=a(document);return l=!0,t=parseFloat(A.css("top")),pageY=b.pageY,c.bind("mousemove.slimscroll",function(a){currTop=t+a.pageY-pageY,A.css("top",currTop),e(0,A.position().top,!1)}),c.bind("mouseup.slimscroll",function(a){l=!1,i(),c.unbind(".slimscroll")}),!1}).bind("selectstart.slimscroll",function(a){return a.stopPropagation(),a.preventDefault(),!1}),z.hover(function(){h()},function(){i()}),A.hover(function(){k=!0},function(){k=!1}),v.hover(function(){j=!0,h(),i()},function(){j=!1,i()}),v.bind("touchstart",function(a,b){a.originalEvent.touches.length&&(n=a.originalEvent.touches[0].pageY)}),v.bind("touchmove",function(a){if(u||a.originalEvent.preventDefault(),a.originalEvent.touches.length){var b=(n-a.originalEvent.touches[0].pageY)/d.touchScrollStep;e(b,!0),n=a.originalEvent.touches[0].pageY}}),g(),"bottom"===d.start?(A.css({top:v.outerHeight()-A.outerHeight()}),e(0,!0)):"top"!==d.start&&(e(a(d.start).position().top,null,!0),d.alwaysVisible||A.hide()),f(this)}}),this}}),a.fn.extend({slimscroll:a.fn.slimScroll})}(a)}).call(b,c(1))},,,,,,,,,function(a,b,c){(function(b,d,e){c(112),c(28),c(29);var f=c(11),g=(c(14),c(53)),h={bindEvent:function(){var a=b("#themap");a.on("click","#deep_srharound",function(){h.showSrhRound()}),a.on("click",".back_shortcut",function(){h.hideSrhRound()})},getDeep:function(a){var c=a;if(c){var e={id:c};d.get(d.service.getDetail+b.param(e),function(a){if("1"==a.status){var b=a.data;h.filterDeep(b),h.creatDeepInfo(b)}else f.warning("抱歉，此地暂无详细信息！")})}else f.warning("抱歉，此地暂无详细信息！")},filterDeep:function(a){if(a){var c=null,d=!1,e=a.base.business;c=a.deep,c&&c.src_star&&(c.star_width=13*Number(c.src_star),c.src_star=Number(c.src_star)),a.deep=c,"scenic"==e?(c&&c.price&&""!=c.price&&(a.score["票价"]=c.price),c&&c.level&&""!=c.level&&(a.score["景区"]=c.level),a.score&&(delete a.score["星级"],delete a.score["总分"])):"hotel"==e?a.score&&(delete a.score["总分"],delete a.score["评分"],delete a.score["设施"]):"dining"==e&&a.score&&(delete a.score["星级"],delete a.score["总分"]),a.score||c&&c.src_star&&""!=c.src_star?a.base.nograde="":a.base.nograde="nograde";var f=a.review;if(f){var g=f.tab;if(g.length>0){var h=f.comment;h?b.each(h,function(c,e){var f=e.review_list,g=0,h=[];return b.each(f,function(a,b){b.score&&(b.score_width=12*Number(b.score)),b.review?(b.review=b.review.replace(/&nbsp;/g,""),b.review.length>80?b.shortReview=b.review.substr(0,80)+"...":b.shortReview=b.review,h.push(b)):g+=1}),2>g?(a.review=h,!1):void(d=!0)}):a.review=null}}var i=a.pic,j=[];i?(i.length>4?b.each(i,function(a,b){4>a&&j.push(b)}):j=i,a.piclist=j,a.base.noimg="",d=!0):a.base.noimg="noimg",a.base.deepflag=d}},creatDeepInfo:function(a,c){var i=a;if(e.trace({type:"view",pid:"place"}),!i)return f.warning("抱歉，此地暂无详细信息！"),!1;var j=b("#"+i).find(".poi-more").length>0?!0:!1,k={id:i};d.get(d.service.getDetail+b.param(k),function(a){if("1"!=a.status)return f.warning("抱歉，此地暂无详细信息！"),!1;var e=a.data,i=b(".iw_tmp");h.filterDeep(e),e.base.hasdetail=j,e.base.adcode=d.adcode,e.base.name&&e.base.name.length>=23&&(e.base.name=e.base.name.slice(0,20)+"...");var k=g(e);i.html(k);var l=i.height();i.html(""),c&&c(k,l)})},initTitle:function(){b(".tooltip").jBox("Tooltip",{theme:"TooltipDark",closeOnClick:!0})},initScroll:function(){var a=446,c=b(".deep_content").height();c>a&&d.slimscroll(b(".deep_content"),{height:a,allowPageScrol:!1,staticHeight:!0});var e=document.getElementById("infowindow_deep");e&&e.addEventListener("DOMMouseScroll",function(a){a.stopPropagation()})},initImg:function(){var a=["moveLT","moveLB","moveRT","moveRB"];new Swiper(".deep_img",{autoplay:4e3,effect:"fade",fade:{crossFade:!0},onInit:function(c){var d=c.activeIndex;b(".deep_img_item").eq(d).find(".deep_img_real").velocity("callout."+a[d%4],{easing:"easeOutQuart"})},onTransitionEnd:function(c){var d=c.activeIndex,e=c.previousIndex;b(".deep_img_item").eq(e).find(".deep_img_real").velocity("callout.moveReset"),b(".deep_img_item").eq(d).find(".deep_img_real").velocity("callout."+a[d%4],{easing:"easeOutQuart"})}})},initDeep:function(){h.initTitle(),h.initScroll(),h.initImg(),h.bindEvent()},panDeep:function(){},addFav:function(){},addShare:function(){},addDir:function(){},showSrhRound:function(){b(".deep_shortcut_wrap").hide(),b(".deep_srharound_wrap").show()},hideSrhRound:function(){b(".deep_srharound_wrap").hide(),b(".deep_shortcut_wrap").show()},addSend2Phone:function(){},addSend2Car:function(){},addFeedback:function(){}};a.exports=h}).call(b,c(1),c(2),c(6))},function(a,b,c){var d=c(4);a.exports=d("deepinfo/tpl/amap.deepinfo.window",function(a){"use strict";var b=this,c=(b.$helpers,b.$each),d=a.pic,e=(a.$value,a.$index,b.$escape),f=a.base,g=a.deep,h=a.score,i=a.piclist,j=a.review,k=b.$string,l="";return l+='<div class="infowindow_deep iw_fadeout" id="infowindow_deep" onmousewheel="event.stopPropagation()">\n    <div class="infowindow-body infowindow_deep_body" id="" pos="" name="" address="" tel="">\n        <div class="deep_wrap">\n            <div class="deep_header">\n                <div class="deep_shortcut">\n                    <a href="javascript:void(0)" class="shortcut_item tooltip favit" id="deep_fav" title="收藏">收藏</a>\n                    <a href="javascript:void(0)" class="shortcut_item tooltip poi-share" id="deep_share" title="分享">分享</a>\n                    <a href="javascript:void(0)" class="shortcut_item tooltip poibtn-planto" id="deep_dir" title="到这里去">路线规划</a>\n                </div>\n                <div class="infowindow-close"></div>\n            </div>\n            <div class="deep_footer">\n                <div class="deep_shortcut_wrap">\n                    <div class="deep_shortcut_other">\n                        <a href="javascript:void(0)" class="shortcut_item" id="deep_srharound">搜周边</a><b>|</b>\n                        <a href="javascript:void(0)" class="shortcut_item smsit" id="deep_sendphone">发送到手机</a><b>|</b>\n                        <a href="javascript:void(0)" class="shortcut_item poi-sendcar" id="deep_sendcar">发送到汽车</a><b>|</b>\n                        <a href="javascript:void(0)" class="shortcut_item poi-feedback" id="deep_feedback">纠错</a>\n                    </div>\n                </div>\n                <div class="deep_srharound_wrap">\n                    <a class="back_shortcut" href="javascript:void(0)">返回</a>\n                    <input class="srharound-ipt" type="text" placeholder="搜索周边美食、酒店、公交" autocomplete="off">\n                    <div class="srharound-srhbtn" id="around_btn"><img class="searchlogo" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NTc3MiwgMjAxNC8wMS8xMy0xOTo0NDowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QTcxQkM1RUY5QjEyMTFFNUFCNzlBQjJGQkMyNThFRTkiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QTcxQkM1RjA5QjEyMTFFNUFCNzlBQjJGQkMyNThFRTkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpBNzFCQzVFRDlCMTIxMUU1QUI3OUFCMkZCQzI1OEVFOSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpBNzFCQzVFRTlCMTIxMUU1QUI3OUFCMkZCQzI1OEVFOSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PkJWQgoAAAE+SURBVHjaYvz//z8DDsAMxGJA/BuI3zAQAExYxMyBeDUQfwDiZ0D8GkpPBmI5nCaBXATFzEDcAcT//iPASyD+iMT/CsThSHrgGJnTCVX8C4ibgVgKSU4XiFdA5f8AsR8ug8yhLvkJxK7YbITiaqhhr4GYD5tBa6EKGvEYAsMHoGoL0Q0Chc1nqIukiDAoDGrQTmRxUKxJADEPUuwQAhehtAp69H+BstkZiAMcUPo3ukEfoS7hB2ItIgyyRnMZSjqaCvX3CgLhwwXE16FqI7DFmiw0sYFAFQ5DOIF4A1TNZWgkYU2Q4Uipej80djSAWB+Is4D4NlIKvwLEorgMAuFgaGLDBUAGXMVmGDYvgFJsMTSdXAPiS0C8BoijoN4RgxqCYhgDEQkQG0Y3TJBcg9AN86HEIBAWBBkC8jJAgAEAc8QSXTAfgzIAAAAASUVORK5CYII=" draggable="false" style="display: inline;"></div>\n                </div>\n            </div>\n            <div class="deep_content_wrap">\n                <div class="deep_content">\n                    <div class="deep_base">\n                        <div class="deep_img swiper-container" id="deep_slider">\n                            <div class="deep_img_list swiper-wrapper">\n                                ',c(d,function(a){l+='\n                                    <div class="deep_img_item swiper-slide">\n                                        <div class="deep_img_real"  style="background: #fafafa url(',l+=e(a.url),l+=') no-repeat center center;background-size: cover;"></div>\n                                    </div>\n                                '}),l+='\n                            </div>\n                        </div>\n                        <div class="img_no_click"></div>\n                        <div class="deep_base_info ',l+=e(f.nograde),l+='"> \n                            <h1 class="deep_name">',l+=e(f.name),l+="</h1>\n                            ",g&&(l+='\n                            <div class="deep_grade">\n                                ',g.star_width&&(l+='\n                                <div class="deep_rate">\n                                    <div class="deep_rate_item" style="width:',l+=e(g.star_width),l+='px"></div>\n                                </div>\n                                '),l+="\n                                ",g.src_star&&(l+='\n                                <div class="deep_rate_num">',l+=e(g.src_star),l+="</div>\n                                "),l+='\n                                <ul class="deep_grade_list">\n                                    ',c(h,function(a,b){l+='\n                                        <li class="deep_grade_item">',l+=e(b),l+="&nbsp;&nbsp;",l+=e(a),l+="</li>\n                                    "}),l+="\n                                </ul>\n                            </div>\n                            "),l+='\n                        </div>\n                    </div>\n                    <div class="deep_info">\n                        <!-- <p class="deep_prefer">最低折扣8.5折，共3条超值团购</p> -->\n                        ',f.address&&(l+='\n                        <p class="deep_addr deep_info_item">\n                            <span class="deep_lbl">地&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;址</span>\n                            <span class="deep_info_txt">',l+=e(f.address),l+="</span>\n                        </p>\n                        "),l+="\n                        ",f.telephone&&(l+='\n                        <p class="deep_tele deep_info_item">\n                            <span class="deep_lbl">电&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;话</span>\n                            <span class="deep_info_txt">',l+=e(f.telephone),l+="</span>\n                        </p>\n                        "),l+="\n                        ",g&&(l+="\n                            ",g.opentime2&&(l+='\n                            <p class="deep_office_hour deep_info_item">\n                                <span class="deep_lbl">营业时间</span>\n                                <span class="deep_info_txt">\n                                    ',l+=e(g.opentime2),l+="\n                                    <!-- ",c(g.opentime2,function(a){l+="\n                                        <b>",l+=e(a),l+="</b>\n                                    "}),l+=" -->\n                                </span>\n                            </p>\n                            "),l+="\n                        "),l+="\n                        \n                        ",f.tag&&(l+='\n                        <p class="deep_tag deep_info_item">\n                            <span class="deep_lbl">标&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;签</span>\n                            <span class="deep_info_txt">',l+=e(f.tag),l+="</span>\n                        </p>\n                        "),l+='\n                    </div>\n                    <!-- <div class="deep_status">\n                        该地点可能已关闭\n                    </div> -->\n                    ',i&&(l+='\n                    <ul class="deep_imglist">\n                        ',c(i,function(a,b){l+='\n                            <li class="deep_imglist_item" style="background: #fafafa url(',l+=e(a.url),l+=') no-repeat center center;background-size: cover;">\n                                <a class="img_link" href="/detail/',l+=e(f.poiid),l+="?citycode=",l+=e(f.adcode),l+="&img=",l+=e(b),l+='" target="_blank"></a>\n                                <!-- <img src="/assets/img/img.jpg"> -->\n                            </li>\n                        '}),l+="\n                    </ul>\n                    "),l+="\n                    ",j&&(l+='\n                    <div class="deep_comment">\n                        <h1 class="deep_comment_title">评论</h1>\n                        <ul class="deep_comment_list">\n                            ',c(j,function(a){l+='\n                            <li class="deep_comment_item">\n                                <div class="deep_comment_up">\n                                    ',a.score_width&&(l+='\n                                    <div class="deep_comment_rate">\n                                        <div class="deep_comment_rate_item" style="width:',l+=e(a.score_width),l+='px;"></div>\n                                    </div>\n                                    '),l+='\n                                    <div class="deep_comment_time">',l+=e(a.time),l+='</div>\n                                </div>\n                                <div class="deep_comment_down deep_comment_detail">\n                                    ',l+=k(a.shortReview),l+='\n                                    <a href="/detail/',l+=e(f.poiid),l+="?citycode=",l+=e(f.adcode),l+='#detail_comment" target="_blank">>></a>\n                                </div>\n                            </li>\n                            '}),l+="\n                        </ul>\n                    </div>\n                    "),l+="\n                    ",(f.hasdetail||f.deepflag)&&(l+='\n                    <a class="deep_more" href="/detail/',l+=e(f.poiid),l+="?citycode=",l+=e(f.adcode),l+='" target="_blank">查看更多详情>></a>\n                    '),l+='\n                </div>\n            </div> \n            \n        </div>\n    </div>\n    <div class="infowindow_deep_foot"></div>\n</div>\n',new String(l)})},,,,,,,,,,,,,,,,function(a,b,c){(function(b,d,e,f){c(109),c(28),c(29);var g=(new Date).getTime(),h=864e5,i="smogClear",j=.2,k="transition.shrinkOut",l=b.Time,m={beginDate:g,lastDate:g+h},n={checkShowSmog:function(){var a=this,b=(new Date).getTime(),c=a.conf.beginDate.getTime(),e=a.conf.lastDate.getTime();return!a.conf.enable||c>b||b>e?void 0:a.hasShowed?0:(a.hasShowed=1,a.checkUrl()?(d.set(i,(new Date).getTime()),1):a.checkLocalSmog()?1:0)},checkUrl:function(){var a=location.search,b=location.pathname;return"/events/smog"==b&&a.match(/show=1/g)},checkLocalSmog:function(){var a=this,b=new Date,c=b.getTime(),e=d.get(i),f=l.getZeroTime(b),g=a.conf,h=g.beginDate.getTime(),j=g.lastDate.getTime();return c>=h&&j>=c?e?f>e?(d.set(i,c),1):0:(d.set(i,c),1):0},setDom:function(){var a=this,b=a.smogCon=e("#smogClear").show();b.addClass("defer-bg")},resizeCanvas:function(){var a=this,b=new Image;b.id="smogCover",b["class"]="smog-cover",b.src="/assets/img/events/smog/smog-cover.jpg",a.smogCon.prepend(b),a.smogCon.find("canvas").remove(),a.initEraser()},bindEvents:function(){var a=this,b=a.smogCon;b&&b.on("click",".jump",function(){e(window).off("resize"),b.velocity(k,function(){b.remove()})});var c=f.throttle(a.resizeCanvas,1e3);e(window).on("resize",function(){c.apply(a)})},initEraser:function(){var a=this,b=1;e("#smogCover").eraser({size:50,completeRatio:j,completeFunction:function(){b&&(b=0,a.completeErase())}})},completeErase:function(){var a=this,b=a.smogCon;e("#smogCover").fadeOut("slow"),a.smogCon.find(".slogan .blue").addClass("dark-blue").end().find(".jump").addClass("dark-blue"),e(window).off("resize"),setTimeout(function(){b.velocity(k,function(){b.remove()})},1500)},init:function(a){var b,c=this;c.conf=e.extend({},m,a),b=c.checkShowSmog(),b&&(c.setDom(),c.bindEvents(),c.initEraser())}};a.exports=function(a){n.init(a)}}).call(b,c(2),c(10),c(1),c(3))},,,,,,function(a,b,c){(function(a,b,d,e,f){c(28),c(29),c(108);var g=c(25).hide(),h={tooldragbar:1,showList:[{category:"layer",type:"satellite",name:"卫星"},{category:"layer",type:"traffic",name:"路况"},{category:"more",type:"more",name:"更多"},{category:"tool",type:"fullscreen",name:"全屏"}],hideList:[{category:"layer",type:"smog",name:"空气"},{category:"tool",type:"ranging",name:"测距"},{category:"layer",type:"subway",name:"地铁"},{category:"tool",type:"faves",name:"收藏"}]},i=(c(40)({}),c(80)(h)),j={resetPoz:function(b,c,d){var e=a(window),f=e.width(),g=e.height(),h=Math.abs(c.x-d.x),i=Math.abs(c.y-d.y);if(150>h&&150>i)b.animate({left:d.x,top:d.y});else if(g-c.y<200){var j;j=b.hasClass("loginbox")?5:b.hasClass("layerbox")?25:15;var k=g-b.height()-j;b.animate({top:k})}else if(f-c.x<200){var l=f-b.width()-15;b.animate({left:l})}},getCurBox:function(){var a=this,c=b.state;return c==b.SEARCH?a.serpBox:a.amapBox},openBoxAnim:function(a,b){b?a.show(0,function(){a.find(".translate-box").css({transform:"translateY(0)"}),a.css({overflow:"visible"}).data("slide-d",1),a.find(".amap-panctrl").show()}):a.show().find(".translate-box").velocity({translateY:[0,"-100%"]},{duration:500,easing:"easeOutQuart",begin:function(){a.css({overflow:"hidden"})},complete:function(){a.css({overflow:"visible"}).data("slide-d",1),a.find(".amap-panctrl").show()}})},stuffTpl:function(){var b=this,c=(b.cityBox=a("#citybox"),b.mapToolBox=a("#maptoolbox"),b.layerBox=a("#layerbox"));b.dirQrElem=a("#dir_qr"),c.append(i)},calculatePanelHeight:function(){var c=this,d=b.panel||{},e=d.panelMaxHeight||688,f=d.panelMinHeight||544,g=a(window).height(),h=g-120,i=h>e?e:f>h?f:h;b.panel.height=c.amapBoxHeight=i-20},initPanelHeight:function(){var c=this;c.amapBox=a("#amapBox"),c.serpBox=a(".serp-box-con"),b.panel.height},initPanelToggle:function(){var c=this,d=a(".fs-box"),e=[a("#search"),a("#loginbox"),a("#layerbox"),a("#citybox"),a("#maptoolbox"),a(".dir_qr")],f=c.amapBox,h=c.serpBox;watch(b,"realfullscreen",function(c,d,g,i){var j,k=!!g,l=k?"hide":"show";a.each(e,function(){this[l]()}),j=b.state.match(/search/)?h:f,1==j.data("slide-d")&&j[l](),k?a("#exitFullscreen").velocity("transition.slideDownBigIn"):a("#exitFullscreen").hide()}),watch(b,"fullscreen",function(e){var i,j,k,l=b.fullscreen;if(l){if(l.match(/^serp[\d]*$/)?(i=h,j=f):(i=f,j=h),i.is(":visible"))return;k=b.panel.firstShow?1:j.is(":visible")&&"search"!==b.state?1:0,b.panel.firstShow=0,i.hasClass("amap-box")&&b.state!=b.AROUND&&b.state!=b.DIR&&b.state!=b.FAVES&&g.select(1),j.hide(0,function(){j.css({overflow:"hidden"}).data("slide-d",0)}),c.openBoxAnim(i,k)}else{var m=0;d.each(function(){var b=a(this);b.is(":visible")&&(b.css({overflow:"hidden"}),b.hide().data("slide-d",0),m=1)})}})},initCityPicker:function(){var a=this,c=a.cityBox.find(".city-panel"),d=c.city(".city-title");c.on("select.city",function(a,c){b.changecity=!0,b.adcode=c}),watch(b,"adcode",function(a,c,e,f){if(b.adcode){var g=d.setTitle(b.adcode);b.changecity&&g.x&&g.y&&(b.changecity=!1,b.city=[g.x,g.y])}})},searchDrag:function(){var c=this,d=a(".search"),e=d.position(),f=e.left,g=e.top,h=45,i=d.draggabilly({handle:".dtrigger",containment:"body"}),j={x:f,y:g+h},k={x:f,y:g+h};c.initFlag&&(i.on("dragMove",function(b,d,e){var f=a(this).data("draggabilly").position,g=f.x-k.x,i=f.y-k.y+h,j=c.getCurBox();j.css("transform","translate3d("+g+"px, "+i+"px, 0px)")}),i.on("dragEnd",function(b,e){c.hasDragged.search=1;var f=a(this).data("draggabilly").position,g=c.getCurBox();g.css("transform",""),g.css({left:f.x,top:f.y+h}),k.x=f.x,k.y=f.y+h,f.x<200&&f.y<300&&(k.x=j.x,k.y=j.y,d.animate({left:j.x,top:j.y-h}),g.animate({left:j.x,top:j.y}))}),i.on("click",function(c,d){var e=a(c.originalEvent.target);return e.hasClass("logo")?void b.fwd("/"):void 0}))},loginDrag:function(){var c=this,e=a("#loginbox"),f={x:a(window).width()-70,y:12};e.css({left:f.x,top:f.y});var g=e.draggabilly({containment:"body"});c.initFlag&&(g.on("staticClick",function(c){var e=a(this),f=e,g=f.find(".ctrlbox");b.userinfo&&(f.toggleClass("active"),f.hasClass("active")?g.show():g.hide()),d.trace({type:"event",category:"login",action:"click",label:"avatar"})}),g.on("dragEnd",function(b,d){c.hasDragged.loginBox=1;var g=a(this).data("draggabilly").position;c.resetPoz(e,g,f)}))},cityBoxDrag:function(){var b=a("#citybox"),c=b.position(),d=c.left,e=c.top,f={x:d,y:e},g=this,h=g.cityBox,i=h.draggabilly({handle:".tooldragbar",containment:"body"});g.initFlag&&i.on("dragEnd",function(b,c){g.hasDragged.cityBox=1;var d=a(this).data("draggabilly").position;g.resetPoz(h,d,f)})},toolBoxDrag:function(){var b=this,c=b.layerBox,d={x:a(window).width()-350,y:15},e=c.draggabilly({handle:".tooldragbar",containment:"body"});c.css({left:d.x,top:d.y}),b.initFlag&&e.on("dragEnd",function(e,f){b.hasDragged.toolBox=1;var g=a(this).data("draggabilly").position;b.resetPoz(c,g,d)})},mapToolBoxDrag:function(){var b=this,c=b.mapToolBox,d={x:a(window).width()-48,y:a(window).height()-128};c.draggabilly({handle:".dtrigger",containment:"body"}),c.css({left:d.x,top:d.y}),b.initFlag&&c.on("dragEnd",function(e,f){b.hasDragged.mapToolBox=1;var g=a(this).data("draggabilly").position;b.resetPoz(c,g,d)})},initDrag:function(){var a=this,b=a.hasDragged;!b.search&&a.searchDrag(),!b.loginBox&&a.loginDrag(),!b.cityBox&&a.cityBoxDrag(),!b.toolBox&&a.toolBoxDrag(),!b.mapToolBox&&a.mapToolBoxDrag()},initMobil:function(){var b=a(document);b.on("click",".android",function(){a(this).find("iframe").remove();var b='<iframe style="display:none" src="http://m.amap.com/callAPP?mo=http%3A%2F%2Fwap.amap.com%2F%3Ftype%3Dpc%26from%3Dbanner%26os%3Da&src=pc_ba"></iframe>';a(this).append(b),d.trace({type:"event",category:"button",action:"click",label:"android下载"})}),b.on("click",".ios",function(){d.trace({type:"event",category:"button",action:"click",label:"ios下载"})})},bindEvents:function(){var b=this,c=e.throttle(function(){b.initDrag()},500);a(window).on("resize",function(){c.apply(b)})},removeDuplicatePOI:function(){for(var a=b.poiHistory,c=a[0],d=1;d<a.length;d++)if(c.query==a[d].query){b.poiHistory.splice(d--,1);break}},setHistoryStorage:function(a){f.set("poiHistory",JSON.stringify(a))},initPoiHistory:function(){var c=this,d=f.get("poiHistory"),e=6;d&&(d=b.poiHistory=JSON.parse(d)),watch(b,"poiHistory",function(f,g,h,i){d=b.poiHistory,h&&c.removeDuplicatePOI(),b.poiHistory.length>e&&(b.poiHistory=d=d.slice(0,e)),a(document).trigger("changed.poiHistory"),c.setHistoryStorage(b.poiHistory)})},init:function(){var a=this;a.initFlag=1,a.hasDragged={search:0,loginBox:0,cityBox:0,toolBox:0,mapToolBox:0},a.stuffTpl(),a.calculatePanelHeight(),a.initPanelHeight(),a.initCityPicker(),a.initPanelToggle(),a.initDrag(),a.initMobil(),a.bindEvents(),a.initPoiHistory(),a.initFlag=0}};j.init()}).call(b,c(1),c(2),c(6),c(3),c(10))},function(a,b,c){(function(a,b,d,e){a.fn.city=function(f){function g(b){var c=['<header class="city-header">','<span class="city-current"></span>','<span class="city-default">设置为默认城市</span>','<span class="city-panel-close"><i class="fa fa-close"></i></span>',"</header>",'<ul class="city-hotlist"></ul>',"<section>",'<div class="city-pc-title">','<span class="city-province-title">按省份</span>','<span class="city-city-title">按城市</span>',"</div>",'<div class="city-search">','<span class="city-search-logo"></span>','<input type="text" class="city-search-suggestion" placeholder="请输入城市"></input>',"</div>","</section>",'<section class="city-list">',"</section>","</div>"];a(c.join("")).appendTo(a(b))}function h(){var b=a(".city-hotlist"),c="";s.hotCitys.forEach(function(a){c+='<li adcode="'+a.adcode+'">'+a.name+"</li>"}),b.html(c)}function i(){var b=a(".city-list"),c='<ul class="city-province-letter">',d='<dl class="city-province">';for(var e in r){c+="<li>"+e+"</li>";for(var f in r[e]){r[e][f];
for(var g in r[e][f]){d+='<dt class="index-'+e+'">'+g+"：</a></dt><dd>";var h=r[e][f][g];for(var i in h)d+='<li adcode="'+h[i].adcode+'">'+h[i].name+"</li>";d+="</dd>"}}}c+="</ul>",d+="</dl>",u=c+d;var k=(a(".city-city-list"),'<ul class="city-city-letter">'),l='<dl class="city-city">';for(var e in q){k+="<li>"+e+"</li>",l+='<dt class="index-'+e+'">'+e+"：</dt><dd>";for(var m in q[e])l+='<li adcode="'+q[e][m].adcode+'">'+q[e][m].name+"</li>";l+="</dd>"}k+="</ul>",l+="</dl>",v=k+l,b.html(u),j(),a(".city-province-title").addClass("city-select")}function j(){a(".city-province").slimScroll({height:"140px",size:"3px"}),a(".city-city").slimScroll({height:"115px",size:"3px"})}function k(){var b;for(b in s.provinces){var c=s.provinces[b];t=c.cities.length>0?t.concat(c.cities):t.concat(c)}var d=t.map(function(a){return{value:a.name+"("+a.spell+")",data:a}});a(".city-search-suggestion").autocomplete({lookupLimit:10,lookup:d,maxHeight:350,onSelect:function(a){l(a.data.adcode,a.data.name)},containerClass:"autocomplete-suggestions city-sug"})}function l(b,c){a(".city-search-suggestion").val(""),w.trigger("select.city",b,c),p()}function m(){var b=amapcity.provinces;a.each(b,function(b,c){var d=c.cities;0==d.length?amapcity.cities[c.adcode]=c:a.each(d,function(a,b){amapcity.cities[b.adcode]=b})})}function n(b){a.extend(amapcity,b.cityData),s=b.cityData,q=b.cityByLetter,r=b.provinceByLetter,m(),g(w),h(),i(),k()}function o(){var c=window.localStorage.getItem("localCityData"),d={},e="";c&&(d=JSON.parse(c),e=d.version),a.get(b.service.cityList+"version="+e,function(a){a&&1==a.status&&1==a.update?(window.localStorage.setItem("localCityData",JSON.stringify(a.data)),n(a.data)):n(d)})}function p(){w.hide(),a(f).removeClass("active")}c(43),c(111),window.amapcity={};var q={},r={},s="",t=[],u="",v="",w=this;return o(),w.setTitle=function(a){function c(){if("000000"===a)e={name:"其它地区"};else if("100000"===a)e=s.hotCitys[0];else if("0000"===a.substr(2))e=s.provinces[a];else{var b=a.substr(0,2)+"0000",c=s.provinces[b];e=d.findWhere(c.cities,{adcode:a})}e&&w.parent().find(".city-title b").text(e.name)}a=a.toString();var e;return s.hotCitys&&s.hotCitys.length?c():setTimeout(function(){w.setTitle(b.adcode)},100),e},amapcity.getname=function(a){a=a.toString();var b;if("000000"===a)b={name:"其它地区"};else if("100000"===a)b=s.hotCitys[0];else if("0000"===a.substr(2))b=s.provinces[a];else{var c=a.substr(0,2)+"0000",e=s.provinces[c];b=e?d.findWhere(e.cities,{adcode:a}):amapcity.hotCitys[1],b=b||e}return b.name},amapcity.getZipcode=function(a){a=a.toString();var b=s.cities[a],c=null;return c=b?b.zipcode:a},w.css({padding:"6px 15px 15px",whiteSpace:"nowrap",overflow:"hidden",zoom:1,width:"420px",height:"300px",lineHeight:"26px",background:"#fff",position:"absolute","z-index":"9999",display:"none"}),a(window).width()-a(f).offset().left+5,w.on("click","li[adcode],span[adcode]",function(){l(a(this).attr("adcode"),a(this).text())}),a(f).click(function(b){a(".city-current").text("当前城市："+a(".city-title b").text()),e.trace({type:"event",category:"tool",action:"click",label:"citypicker"}),b.stopPropagation(),a(this).toggleClass("active"),w.toggle()}),w.on("click",".city-panel-close",function(){w.is(":visible")&&p()}),w.on("keyup",".city-search-suggestion",function(b){if(13==b.keyCode){var c=a(".city-search-suggestion").val(),e=d.find(t,function(a){return a.name==c||a.label==c||a.spell.toLowerCase()==c.toLowerCase()});e&&l(e.adcode,e.name)}}),w.on("click",".city-province-title",function(){a(".city-pc-title span").removeClass("city-select"),a(".city-province-title").addClass("city-select"),a(".city-list").html(u),j()}),w.on("click",".city-city-title",function(){a(".city-pc-title span").removeClass("city-select"),a(".city-city-title").addClass("city-select"),a(".city-list").html(v),j()}),w.on("click",".city-list>ul li",function(){a(".city-list dl").scrollTo(".index-"+a(this).text(),500),a(".city-list>ul li").removeClass("city-letter-select"),a(this).addClass("city-letter-select");var b=a(".city-list .index-A").offset().top,c=a(".city-list .index-"+a(this).text()).offset().top-b,d=30,e=a(".city-list dl")[0]&&parseInt(a(".city-list dl")[0].offsetHeight)-d,f=a(".city-list .index-Z").offset().top-b-e,g=parseInt(c/f*e);g=g>e?e:g,a(".city-list .slimScrollBar").animate({top:g+"px"},480)}),a(document.body).on("click",function(b){a(b.target).closest(w.selector).length||w.is(":visible")&&p()}),w}}).call(b,c(1),c(2),c(3),c(6))},function(a,b,c){(function(b,c,d,e,f,g){function h(a){b.get(l,function(b){a.origin=location.origin;var e=d.template(b),f=d.clone(a);f.nickname=d.escape(f.nickname),f.username=d.escape(f.username);var g=e(f);k.hide().html(g),c.realfullscreen||k.show()})}function i(){b.get(m,function(a){var c=d.template(a),e=c({origin:location.origin});k.html(e);var f="ActiveXObject"in window;if(f){var g=b(".defuser a").eq(0),h=g.attr("href").replace("type=spa&","");g.attr("href",h),g.attr("target","_self")}})}function j(){c.userinfo=!1,b.get(c.service.logout,function(){}),c.setAnotherDomainCookie(c.service.logout,{}),e.tplLoad({filename:"user.logout",data:{origin:location.origin},callback:function(a){k.html(a)}})}var k=b("#loginbox"),l="/assets/tpl/user.login.html",m="/assets/tpl/user.logout.html";b.extend(c,{checkLogin:function(a){return b.post(c.service.checkLogin,function(b){a&&a(b)})}}),b(window).on("message",function(a){var b=a.originalEvent.data;try{var d=JSON.parse(b);c.userinfo=d,h(d)}catch(a){console.error(a)}}),k.on("click",".userlogout",function(){j(),f.trace({type:"event",category:"login",action:"click",label:"logout"})}).on("click",".user-faves",function(){c.state==c.FAVES?g("/"):(c.panel.firstShow=0,g("/faves"))}),watch(c,"userinfo",function(){var a=c.userinfo;a?h(a):i()}),c.checkLogin(function(a){a.info&&1==a.status?c.userinfo=a.info:c.userinfo=!1}),a.exports=function(){}}).call(b,c(1),c(2),c(3),c(7),c(6),c(5))},function(a,b,c){(function(b,d,e){function f(a){}var g=c(79)({tooldragbar:1}),h=b("body");h.append(g);var i=b("#citybox .weatherinfo");e.watch(d,"adcode",function(a,b,c,d){if(d||f(),d&&c){var e=d.toString().substr(0,4),g=c.toString().substr(0,4);e!==g&&f()}}),setTimeout(function(){i.attr("init")||f()},5e3),a.exports=function(){}}).call(b,c(1),c(2),c(16))},function(a,b,c){var d=c(4);c(33),a.exports=d("index/tpl/amap.city",function(a,b){"use strict";var c=this,d=(c.$helpers,function(d,f){f=f||a;var g=c.$include(d,f,b);return e+=g}),e="";return e+='<div id="citybox">\n	',d("./dragger"),e+='\n	<div class="city-title usel">\n	    <b>北京</b>\n	    <i class="fa fa-caret-down transit"></i>\n	</div>\n	<!-- <div class="weatherinfo usel">\n	    <img src="/assets/img/loc_ing.png" class="fa-spin" width="16" height="16" alt="查询中...">\n	</div> -->\n	<div class="city-panel zdeps-2 usel"></div>\n</div>',new String(e)})},function(a,b,c){var d=c(4);c(33),a.exports=d("index/tpl/amap.layerbox",function(a,b){"use strict";var c=this,d=(c.$helpers,function(d,e){e=e||a;var f=c.$include(d,e,b);return i+=f}),e=c.$each,f=a.showList,g=(a.showItem,a.$index,c.$escape),h=a.hideList,i=(a.hideItem,"");return d("./dragger"),i+='\n<div id="layerbox_item">\n\n    <div class="show-list">\n        ',e(f,function(a){i+='\n        <div class="',i+=g(a.category),i+="_item ",i+=g(a.type),i+=" item ","fullscreen"==a.type&&(i+="full"),i+='" data-type="',i+=g(a.type),i+='">\n            <span class="icon"></span><span class="name">',i+=g(a.name),i+="</span>\n        </div>\n        "}),i+='\n    </div>\n\n    <div class="hide-list clearfix">\n        ',e(h,function(a){i+='\n        <div class="',i+=g(a.category),i+="_item ",i+=g(a.type),i+=" item ","fullscreen"==a.type&&(i+="full"),i+='" data-type="',i+=g(a.type),i+='">\n            <span class="icon-c"><span class="icon"></span></span><span class="name">',i+=g(a.name),i+="</span>\n        </div>\n        "}),i+='\n    </div>\n    <!-- 路网 -->\n    <div class="roadnet usel" id="roadnet">\n        <div class="raod_item">\n            <span class="roadnet_select_icon icon checked"></span>\n            <span class="name">路网</span>\n        </div>\n    </div>\n    <!--交通panel-->\n    <div class="boxpanel traffic_panel zdeps-2">\n        <div class="panel_header">\n            <ul class="panel_tab">\n                <li class="traffic_item active" id="traffic_current" type="current">实时</li>\n                <li class="traffic_item" id="traffic_forecast" type="forecast">预测</li>\n            </ul>\n            <div class="traffic_tag">\n                <span>畅通</span>\n                <ul class="traffic_level">\n                    <li class="level_1"></li>\n                    <li class="level_2"></li>\n                    <li class="level_3"></li>\n                    <li class="level_4"></li>\n                </ul>\n                <span>拥堵</span>\n            </div>\n        </div>\n        <div class="panel_body">\n        </div>\n    </div>\n</div>\n',new String(i)})},function(a,b,c){(function(a,b,d,e,f,g){function h(a){var b="/assets/img/loc.png",c=new AMap.LngLat(a.lng,a.lat),e=new AMap.Marker({map:themap,position:c,offset:new AMap.Pixel(-13,-13),icon:b}),f=new AMap.Circle({id:"circle",map:themap,center:c,radius:100,bubble:!0,strokeColor:"#72ccff",strokeOpacity:.7,strokeWeight:1,fillColor:"#d0e7f8",fillOpacity:.5});AMap.event.addListener(e,"click",function(a){j(d.loc)}),p=e,q=f}function i(a){var b=['<div id="locInfoWindow" class="infowindow-wrap-s usel">','<div class="infowindow-body-s">','<div class="loctip">我的位置 <i class="fa fa-chevron-right"></i></div>',"</div>",'<div class="infowindow-foot"></div>',"</div>"],c=new AMap.InfoWindow({isCustom:!0,content:b.join(""),offset:new AMap.Pixel(0,-13)});c.open(themap,new AMap.LngLat(a.lng,a.lat)),posinfoWindow=c}function j(a){l.getRegeoData(a,function(b){var c=b.poi_list[0]||{},f={id:c.poiid,pos:new AMap.LngLat(c.longitude,c.latitude),name:c.name||"未知地点",addr:c.address||"未知地点",tType:"todo"};e.tplLoad({filename:"canvas-mylocInfowindow",data:f,callback:function(b){d.iwdata=f;var c=new AMap.InfoWindow({isCustom:!0,content:b,offset:new AMap.Pixel(0,-13)});c.open(themap,new AMap.LngLat(a.lng,a.lat)),o=c,d.posOpen=o,d.hotspotOpen=!0}})})}function k(){if(u.find(".locating").hide(),d.loc&&"1"==d.loc.code){var a=d.loc;if(f.parse(location.search),u.find(".locok").fadeIn(),u.find(".locfail").hide(),d.pos.success){var b=new AMap.LngLat(a.lng,a.lat);d.pos.marker.setPosition(b),d.pos.marker.setMap(themap),d.pos.circle.setCenter(b),d.pos.circle.setMap(themap),d.pos.iw.open(themap,b)}else mc=h(a),i(a),d.pos={success:!0,iw:posinfoWindow,circle:q,marker:p}}else u.find(".locok").hide(),u.find(".locating").hide(),u.find(".locfail").fadeIn(),d.pos.success?(d.pos.marker.setMap(null),d.pos.circle.setMap(null),d.pos.iw.close(),d.posOpen&&d.posOpen.close()):d.pos={success:!1,iw:!1,circle:!1,marker:!1}}var l,m=a.watch;c.e(0,function(){l=c(9)});var n=c(40)({});b("#maptoolbox").append(n);var o,p,q,r=c(14),s=new r("Tooltip",{id:"locTip",position:{x:"left",y:"center"},outside:"x"}),t=!1,u=b("#locbox"),v=b("#themap");null===d.loc&&k(),m(d,"loc",function(a,b,c,d){k()}),u.on("click",".locok",function(){var a=d.loc;themap.panTo(new AMap.LngLat(a.lng,a.lat)),g.trace({type:"event",category:"location",action:"click",label:"定位"}),l.getRegeoData(a,function(a){if(a&&a.cityadcode)var c=a.cityadcode||"110000";b("#citybox .city-panel").trigger("select.city",c)})}),u.hover(function(){var a=b(this),c="";c="editpos"==d.state?'<div class="loc_tip"><div class="loc_tip_title">正在编辑我的位置！</div></div>':d.pos.success?'<div class="loc_tip"><div class="loc_tip_title">我的位置</div><div class="loc_tip_ctrl"><a class="loc_edit" href="javascript:void(0)">不准？我来反馈！</a></div></div>':'<div class="loc_tip"><div class="loc_tip_title">找不到我在哪?</div><div class="loc_tip_ctrl"><a class="loc_edit" href="javascript:void(0)">报告！我在这里！</a></div></div>',s.setContent(c).position({target:a}).open()},function(){setTimeout(function(){t||s.close()},150)}),b(document).on("mouseenter","#locTip",function(){t=!0}).on("mouseleave","#locTip",function(){t=!1,setTimeout(function(){s.close()},150)}),b(document).on("click",".loc_edit",function(){d.fwd("/editpos")}),v.on("click","#locInfoWindow",function(a){posinfoWindow.close(),j(d.loc)}),v.on("click","#mylociw .infowindow-close, #mylociw .poibtn-plandir",function(a){o.close()}),v.on("click",".editpos_entry",function(a){d.fwd("/editpos")})}).call(b,c(16),c(1),c(2),c(7),c(8),c(6))},function(a,b,c){var d=c(4);a.exports=d("panel/amap.panel.tpl",'<!--左侧面板框架-->\n<div class="translate-box" data-slide-d="0">\n    <section class="tab-c">\n        <ul class="tab-list clearfix">\n            <li class="index-tab tab" data-type="/dir" fwd="/dir">\n                <span class="dirico"></span>\n                <span class="nav-txt">路线</span>\n            </li>\n            <li class="around-tab tab" data-type="/around" fwd="around">\n                <i class="fa fa-search"></i>\n                <span class="nav-txt">热搜</span>\n            </li>\n            <li class="faves-tab tab" data-type="/faves" fwd="faves">\n                <span class="starico"></span>\n                <span class="nav-txt">收藏</span>\n            </li>\n        </ul>\n        <div class="panel-list">\n            <div class="index-panel panel"></div>\n            <div class="around-panel panel"></div>\n            <div class="faves-panel panel">\n                <!-- <em class="panelLoading"></em> -->\n            </div>\n        </div>\n    </section>\n\n    <!--<div id="amap-banner-entry">\n        <div id="amap-banner">\n            <div id="mobileenterance" data-spm-protocol="i" class="amapbanner">\n                <img class="bannerQrcode" src="/assets/img/bannerQrcode.png" />\n                <a class="android">Android版</a>\n                <a class="ios" href="http://m.amap.com/callAPP?mo=http%3A%2F%2Fwap.amap.com%2F%3Ftype%3Dpc%26from%3Dbanner%26os%3Di&src=pc_bi" target="_blank">iPhone版</a>\n            </div>\n        </div>\n    </div>\n\n    <footer id="amap-links">\n        <a href="http://lbs.amap.com/" target="_blank" trace="api">地图API</a>\n        <i class="sep"></i>\n        <a href="http://map.amap.com/help/index.html?type=addpoi" target="_blank" trace="addpoi">商户标注</a>\n        <i class="sep"></i>\n        <a href="http://map.amap.com/about/index.html" target="_blank" trace="about">关于我们</a>\n        <i class="sep"></i>\n        <a href="http://map.amap.com/help/index.html" target="_blank" trace="feedback">意见反馈</a>\n    </footer>\n\n    <div class="amap-panctrl amap-panctrl-up usel" data-type="amapBox">\n        <i class="fa fa-chevron-up"></i>\n    </div>-->\n    \n</div>\n<div id="amap_panel_model"></div>\n<!-- <img class="loading" src="/assets/img/loading.gif"> -->\n')},function(a,b,c){(function(b,d,e,f,g){var h,i,j=c(36),k=c(11),l=c(9),m="search",n={doPrepare:function(a){var c=this;c.ctx=i,b("#amap-links").hide(),a()},parse:function(a){var c=this,e=c.ctx;b("#amap-panels").children().hide(),e.query=d.parse(e.querystring),"/search/busline"==e.pathname&&(e.curStatus="busline"),a()},check:function(a){var b=this,c=b.ctx,d=c.query;if(e.isEmpty(d.query))return void f.redirect("/around");if("RQBXY"!==d.query_type&&"IDQ"!==d.query_type&&"100000"!=f.adcode&&(d.query_type="TQUERY",e.isEmpty(d.geoobj))){var g=themap.getBounds(),h=[g.southwest.lng,g.southwest.lat,g.northeast.lng,g.northeast.lat].join("|");d.geoobj=h}"RQBXY"===d.query_type&&(d.range=d.range||1e3),"IDQ"===d.query_type,e.isEmpty(d.city)&&(d.city=f.adcode||themap.getAdcode&&themap.getAdcode()||"110000"),a()},search:function(a){var b=this,c=b.ctx;f.state=f.SEARCH,f.realfullscreen=!1,b._doSearch(c.query,c),a()},exitPath:function(){var a=this;g.exit("/search",a.searchExit),g.exit("/search/busline",a.searchExit)},pushInQueue:function(){var a=this,c=[a.doPrepare,a.parse,a.check,a.search],d={elem:b(document),name:m,queueArr:c};h=j(d,a)},searchExit:function(a,c){f.markerState.active.poiid=!1,f.markerState.active.hover=!1,f.madian=!1,f.search="exit",f.state="",l.clearAllOverlays();var d=b(".serp-box-con");d.hide(),d.find("#serp").remove(),c()},_doSearch:function(a,c){var d=this,g="busline"==c.curStatus?f.service.poiBus:f.service.poiInfo;if("start"==f.search)return!1;f.keyword=a.query;var h={query_type:"TQUERY",city:a.city||a.adcode||"110000",keywords:a.query,pagesize:20,pagenum:1,qii:!0,cluster_state:5,need_utd:!0,utd_sceneid:1e3,div:"PC1000",addr_poi_merge:!0,is_classify:!0},i=b.extend(h,a);delete i.query,c.state.data?(f.search="start",f.madian=!1,setTimeout(function(){var a=this,b=c.state.data;return f.serp.html=b.html+a._timestamp(),f.serp.data=b.data,f.serp.classify=b.classifyFlag,f.serp.SPQ=b.SPQ,b.classifyFlag&&(f.classify.value=a._timestamp()),e.isEmpty(b.routing)?(b.busData&&(f.serp.busdata=b.busData),b.classifyFlag&&(f.madian=i.keywords),void(f.search="end")):void(f.searchrouting=b.routing)},60)):(f.search="start",f.madian=!1,f.get(g+b.param(i),function(a){if(f.search="end","1"==a.status){if(a.classifyFlag&&(f.classify.value=d._timestamp()),!e.isEmpty(a.routing))return void(f.searchrouting=a.routing);f.serp.html=a.html+d._timestamp(),f.serp.data=a.data,f.serp.classify=a.classifyFlag,f.serp.SPQ=a.SPQ,a.busData&&(f.serp.busdata=a.busData),a.classifyFlag&&(f.madian=i.keywords),a.classifyFlag&&(f.classify.value=new Date),c.state.data=a}else"7"==a.status?(window.open(f.service.verify+encodeURIComponent(location.href)+"&channel=newpc"),f.search="end"):(k.warning("搜索服务去火星了，一会回来。"),console.error(a),f.redirect("/"))}))},_timestamp:function(){return'<input type="hidden" value='+Date.now()+Math.random()+" />"},init:function(){var a=this;a.exitPath(),a.pushInQueue()}};n.init(),a.exports=function(a,c){f.realfullscreen=!1,b(".serp-box-con").hide(0,function(){b(this).css("overflow","hidden")}),i=a,h&&h.dequeue()}}).call(b,c(1),c(8),c(3),c(2),c(5))},function(a,b,c){(function(a,b,d,e,f){c(106);var g=(c(14),a("#searchipt")),h=a(".iptbox"),i=b.watch,j=a("#amap-banner"),k=function(b,c){var f=(a.trim(b),c||d.adcode||"110000"),g=e.parse(location.search);if(""!==b&&"start"!==d.search){var h={query:b,city:f};g.geoobj&&(h.geoobj=g.geoobj),d.fwd("/search?"+a.param(h))}};g.on("focus",function(){var b=a(this);b.addClass("active"),h.addClass("active"),""!==b.val()||(f("/"),d.panel.firstShow=0,function(){var a=2,b=function(){--a<1&&function(){var a=c(17);a({})}(c)};c.e(0,b),c.e(2,b)}())}).on("keyup",function(){var b=a(this);""==b.val()?!function(){var a=2,b=function(){--a<1&&function(){var a=c(17);a({})}(c)};c.e(0,b),c.e(2,b)}():d.state==d.AROUND&&(d.state="",d.fullscreen="")}),a(document).on("click",function(b){var c=a(b.target);c.closest("#search").length||c.closest("#aroundbox").length||d.state!=d.AROUND||(d.state="",d.fullscreen=d.state),b.stopPropagation()}),a("#searchbtn").click(function(){var b=a.trim(a("#searchipt").val());k(b)}),a("#searchipt").keyup(function(b){var c=b.keyCode,d=a.trim(a(b.target).val());if(a(".iptbox"),13==c&&""!==d&&"searchipt"==document.activeElement.id){var e=a(".theonlysug").find(".autocomplete-selected .district").attr("adcode");k(d,e)}13==c&&""==d&&g.blur(),27==c&&""==d&&g.blur()}),a(document).on("click",".theonlysug .autocomplete-suggestion",function(){var b=a(this).clone(),c=b.find(".district").attr("adcode")||d.adcode||"110000";b.find(".district").remove();var e=b.text();k(e,c)});var l=a("#searchipt").autocomplete({appendTo:a(".searchbox"),serviceUrl:d.service.poiTips,paramName:"words",params:{city:d.adcode||"110000"},dataType:"json",minWidth:360,maxHeight:350,zIndex:3999,containerClass:"theonlysug main-sug autocomplete-suggestions",transformResult:function(a){var b={suggestions:[]};if("1"!=a.status)return b;for(var c=a.data&&a.data.tip_list||[],d=0;d<c.length;d++)b.suggestions.push({value:c[d].tip.name,data:c[d].tip.name,district:c[d].tip.district,adcode:c[d].tip.adcode});return b}}),m=a("#search .direntry");m.on("click",function(){f("dir"!==d.state?"/dir":"/")});var n=function(){var a=e.parse(location.search||"");a.search=location.search,d.poiHistory.unshift(a)};i(d,"state",function(){var a="in-dir";d.state==d.DIR?m.addClass(a):m.removeClass(a)}),i(d,"adcode",function(){l.autocomplete("setOptions",{params:{city:d.adcode||"110000"}})}),i(d,"search",function(){var b=a("#searchloading"),c=(a("#amap-links"),a("#searchbtn .searchlogo")),e=a(".amap-panctrl-up"),f=a(".amap-panctrl-down");switch(d.search){case"start":b.show(),g.addClass("active"),h.addClass("active"),g.val(d.keyword),b.show(),c.hide(),a(".main-sug").hide();break;case"end":d.fullscreen="serp"+(new Date).getTime(),b.fadeOut(100),c.fadeIn(100),a(".main-sug").hide(),j.hide(),e.show(),f.hide(),n();break;case"exit":g.val(""),g.blur(),g.removeClass("active"),h.removeClass("active"),c.show();break;default:console.info(d.search)}})}).call(b,c(1),c(16),c(2),c(8),c(5))},function(a,b,c){(function(a,b,d,e,f){function g(a){a.preventDefault(),a.stopPropagation()}function h(){b.classify.area=a(".cl-area").attr("data-val")||void 0,i("area",b.classify.area),b.classify.type=a(".cl-type").attr("data-val")||void 0,i("type",b.classify.type),b.classify.type2=a(".cl-type2").attr("data-val")||void 0,i("type2",b.classify.type2),b.classify.sort=a(".cl-sort").attr("data-val")||void 0,i("sort",b.classify.sort),b.classify.more=a(".cl-more").attr("data-val")||void 0,i("more",b.classify.more)}function i(b,c){if(c)switch(b){case"area":var d=a(".classify-area li[data-val='"+c+"']");d.addClass("area-level2-select");var f=d.parent().attr("d-ind");a(".classify-area-level1 li[id=cl-"+f+"]").addClass("area-level1-select");var g=d.html();"全部"==g&&(g=a(".classify-area-level1 li[id=cl-"+f+"] .cl-area-name").html()),a(".cl-"+b+" span").html(g),a(".classify-area-level2").attr("cl_num",f),a(".classify-area-level2").html(d.parent().html()),a(".classify-area").find(".cl-level2-"+f).remove();break;case"type":var d=a(".classify-type li[data-val='"+c+"']");d.addClass("type-select");var g=d.html();"全部"==g&&(g=d.parent().parent().prev().html()),a(".cl-"+b+" span").html(g);break;case"type2":var d=a(".classify-type2 li[data-val='"+c+"']");d.addClass("type2-select");var g=d.html();a(".cl-"+b+" span").html(g);break;case"sort":var d=a(".classify-sort li[data-val='"+c+"']");d.addClass("sort-select");var g=d.html();a(".cl-"+b+" span").html(g);break;case"more":var h=c.split(";"),i=[];e.each(h,function(b){var c=a(".classify-more li[data-val='"+b+"']");c.addClass("more-select"),c.find(".cl-more-circle").addClass("circle-select"),i.push(c.find(".cl-more-name").text())}),a(".cl-"+b+" span").html(i.join(";"))}}function j(b){var c=a(".classify .cl-"+b).hasClass("cl-selected");c?(a(".classify .cl-head").css({"border-radius":"4px"}),a(".classify .cl-"+b).removeClass("cl-selected"),a(".classify-"+b).slideUp("fast"),a(".classify .cl-"+b+" i").removeClass("fa-caret-up").addClass("fa-caret-down")):(a(".classify .cl-head").css({"border-radius":"4px 4px 0px 0px"}),a(".classify >div").hide(),a(".classify em").removeClass("cl-selected"),a(".classify .cl-"+b).addClass("cl-selected"),("type2"==b||"sort"==b||"more"==b)&&a(".cl-"+b).css({"border-bottom":"1px solid #e0e0e0"}),a(".classify-"+b).slideDown("fast"),a(".classify-"+b).css({display:"flex",display:"-webkit-flex"}),"block"==a(".classify-"+b).css("display")&&a(".classify-"+b).css({display:"flex"}),a(".classify i").removeClass("fa-caret-up").addClass("fa-caret-down"),a(".classify .cl-"+b+" i").removeClass("fa-caret-down").addClass("fa-caret-up"))}function k(c,e){a(".classify .cl-head .cl-"+c).attr("data-val",e);var f=a(".classify .cl-area").attr("data-val"),c=a(".classify .cl-type").attr("data-val"),g=a(".classify .cl-type2").attr("data-val"),h=a(".classify .cl-sort").attr("data-val"),i=a(".classify .cl-more").attr("data-val"),j=[];f&&j.push(f),c&&j.push(c),g&&j.push(g),h&&j.push(h),i&&j.push(i);var k=j.join("+"),l=d.parse(location.search);l.classify_data=k,l.user_loc=themap.getCenter().lng+","+themap.getCenter().lat,l.pagenum=1,b.fwd("/search?"+a.param(l))}c(43);var l=a("#serpBox"),m=(a("#serp-list"),"#serp"),n=c(24);l.on("click",".serp-return",function(c){a("#search").find("input")[0].focus(),b.fwd("/")}),l.on("click",".poibox-normal",function(){b.markerState.active.poiid=this.id,b.markerState.active.parentid=""}),l.on("click",".poi-more",function(a){a.stopPropagation()}),l.on("mouseenter",".poibox-normal",function(){b.markerState.hover.poiid=this.id}),l.on("mouseleave",".poibox-normal",function(){b.markerState.hover.poiid=void 0}),l.on("mouseenter",".rel-sons span",function(a){b.markerState.hover.poiid=this.id}),l.on("mouseleave",".rel-sons span",function(a){b.markerState.hover.poiid=void 0}),l.on("click",".rel-sons span",function(c){b.markerState.active.poiid=this.id,b.markerState.active.parentid=a(this).parents(".poibox-normal").attr("id")||"",g(c)});var o=function(){var c=d.parse(location.search);c.pagenum=a(this).attr("pageno")||1,b.fwd(window.location.pathname+"?"+a.param(c))};l.on("click",".serp-paging .paging-index",o),l.on("click",".serp-paging .paging-prev",o),l.on("click",".serp-paging .paging-next",o),l.on("click",".poi-focuscase .focuscase-more",function(){var c=d.parse(location.search);c.rf=0,b.fwd("/search?"+a.param(c))}),l.on("click",".poi-focuscase .focuscase-busline-more",function(){var c=d.parse(location.search);b.fwd("/search/busline?"+a.param(c))}),l.on("click",".showstops",function(b){var c=a(this);c.toggleClass("opening"),c.closest(".poi-lines").find(".via-stops").toggleClass("opening")}),l.on("click",".poibox-transport",function(){b.lineState.active.lineid=this.id}),l.on("click",".poi-dirctrl .doublearrow",function(c){var d=a(this),e=d.closest(".poibox-transport"),f=d.closest(".poi-dirctrl"),h=d.closest(".poi-info").find(".poi-lines"),i=f.find(".dir-from"),j=f.find(".dir-to"),k=h.find(".line-info:hidden"),l=h.find(".shown"),m=k.attr("from_name")||"未知起点站",n=k.attr("terminal_name")||"未知终点站";i.text(m),j.text(n),k.addClass("shown"),l.removeClass("shown");var o=e.attr("id"),p=e.attr("aid"),q=e.attr("bid");o===p?e.attr("id",q):e.attr("id",p),b.lineState.active.lineid=e.attr("id"),g(c)}),l.on("click",".poibox-transport .via-stops span",function(c){c.stopPropagation(),c.preventDefault();var d=a(this),e=d.attr("poiid");e&&(b.markerState.active.poiid=e)}),l.on("click",".filter-ctrl span",function(b){var c="active",d=(this.className,a(".serp-filter")),e=a(this),f=d.find("."+e.attr("data-target")+"-ctnt"),g=d.find(".filter-ctrl > span"),h=d.find(".filter-box").children();e.hasClass(c)?(e.removeClass(c),f.removeClass(c)):(g.removeClass(c),h.removeClass(c),e.addClass(c),f.addClass(c))}),l.on("click",".poi-empty-sug span",function(c){var d=a.trim(a(this).text());b.fwd("/search?"+a.param({query:d,adcode:b.adcode}))}),l.on("click",".classify .cl-area",function(){j("area")}),l.on("click",".classify-area-level2 li",function(){k("area",a(this).attr("data-val"))}),l.on("click",".classify .cl-type",function(){j("type")}),l.on("click",".classify-type ul li",function(){k("type",a(this).attr("data-val"))}),l.on("click",".classify .cl-type2",function(){j("type2")}),l.on("click",".classify-type2-type li",function(){k("type2",a(this).attr("data-val"))}),l.on("click",".classify .cl-sort",function(){j("sort")}),l.on("click",".classify-sort-type li",function(){k("sort",a(this).attr("data-val"))}),l.on("click",".classify .cl-more",function(){j("more")}),l.on("click",".classify-more-type .cl-mf",function(){var b=a(this).hasClass("more-select");b?(a(this).removeClass("more-select"),a(this).find(".cl-more-circle").removeClass("circle-select")):(a(this).addClass("more-select"),a(this).find(".cl-more-circle").addClass("circle-select"))}),l.on("click",".classify-more-type .cl-more-submit",function(){var b=[];a(".classify-more-type .more-select").each(function(c,d){b.push(a(".classify-more-type .more-select").eq(c).attr("data-val"))});var c=b.join(";");k("more",c)}),l.on("click",".poibtn-srharound",function(b){a(this).closest(".poibox").find(".poi-srharound").show(),g(b)}),l.on("click",".srharound-srhcancel",function(b){a(this).closest(".poibox").find(".poi-srharound").hide(),g(b)}),l.on("click",".srharound-srhbtn",function(d){var e=a.trim(a(this).prev().val()),f=b.iwdata.pos;if(""!=e){var g=c(13);g.nearbyKeyword=e,b.fwd("/search?"+a.param({query:e,query_type:"RQBXY",longitude:f.lng,latitude:f.lat,city:b.adcode}))}}),l.on("keyup",".srharound-ipt",function(b){var c=b.keyCode,d=a(this).val();13==c&&""!==d&&"srharound-ipt"==document.activeElement.className&&a(this).next(".srharound-srhbtn").trigger("click")}),l.on("click",".poibtn-planto, .poibtn-planfrom",function(c){var d=b.iwdata,f=d.name,g=d.id,h=[d.pos.lng,d.pos.lat].join(),i=b.adcode,j={name:f,lnglat:h,id:g,adcode:i,modxy:void 0},k=a(this).hasClass("poibtn-planto"),l={type:b.dir.type||"car"};k?(l.from=b.dir.from,l.to=j):(l.from=j,l.to=b.dir.to),e.delay(function(){b.fwd("/dir?"+a.param(l))},0)}),l.on("click",".poi-empty .sug-provinces .province-name",function(b){var c=a(this),d=c.closest(".sug-province");d.hasClass("active")?d.removeClass("active"):(c.closest(".sug-provinces").find(".active").removeClass("active"),d.addClass("active"))}),l.on("click",".poi-empty .open_suggestion",function(b){var c=a(this);c.closest(".sug-province").removeClass("active"),g(b)}),l.on("click",".poi-empty .citycode",function(c){b.changecity=!0,b.adcode=a(this).attr("adcode");var e=d.parse(location.search);e.city=b.adcode,e.utd_sceneid=400002,b.fwd("/search?"+a.param(e)),g(c)}),l.on("click",".empty-feedback",function(b){var c={name:a(".empty-keywords").html()},d=n.poi(c);window.open("http://map.amap.com"+d)}),watch(b,"markerState",function(){var a=b.markerState.active.poiid,c=a&&l.find("#"+a);l.find(m).find(".active").removeClass("active"),c&&c.addClass("active")}),watch(b.markerState,"hover",function(a){var c=b.markerState.hover.poiid,d=c&&l.find("#"+c);l.find(m).find(".hover").removeClass("hover"),c&&d.addClass("hover")}),watch(b,"serp",function(d){"html"===d&&(l.html(b.serp.html),b.slimscroll(l.find(m)),!e.isEmpty(b.serp.busdata)&&e.isEmpty(b.serp.data)&&a(".poibox").eq(0).trigger("click"),function(){var a=2,b=function(){--a<1&&function(){c(22),c(21),c(18),c(19),c(20),c(23)}(c)};c.e(0,b),c.e(1,b)}())}),watch(b.classify,"value",function(){h(),a(".serp-head").css({"border-bottom":"none"}),a(".poibox:first").css({"border-top":"1px solid #eaeaea"});var b=a(".classify").attr("count");a(".classify .classify-area-level2").css({flex:b}),l.on("mouseover",".classify .classify-area-level1 li",function(){var b=a(this).attr("id").split("-")[1],c=a(".classify-area-level2").attr("cl_num");a(this).parent().find("li").removeClass("area-level1-select-hover"),a(this).addClass("area-level1-select-hover"),c!=b&&(a(".classify-area").append("<ul class='cl-level2 cl-level2-"+c+"' d-ind='"+c+"'>"+a(".classify .classify-area-level2").html()+"</ul>"),a(".classify-area-level2").html(l.find(".cl-level2-"+b).html()),a(".classify-area").find(".cl-level2-"+b).remove(),a(".classify-area-level2").attr("cl_num",b))})}),watch(b,"searchrouting",function(){if(!e.isEmpty(b.searchrouting)){var a={from:{name:b.searchrouting.start.keyword},to:{name:b.searchrouting.end.keyword}};f("/dir?"+d.stringify(a))}})}).call(b,c(1),c(2),c(8),c(3),c(5))},,,,,,,,,,,,,,,,function(a,b,c){var d=(c(69),"2015-12-09 00:00:00"),e="2015-12-29 00:00:00",f=1;({enable:f,beginDate:new Date(d),lastDate:new Date(e)})},function(a,b,c){(function(a){var b=a.loopCheck;b.addValid({name:"amap.map",valid:function(){return a.map},cb:function(){!function(){var a=2,b=function(){--a<1&&function(){c(46)}(c)};c.e(0,b),c.e(6,b)}()}}),b.start(),c(34),c(81),c(78),c(77),c(76),c(75)}).call(b,c(2))},,function(a,b,c){(function(a){c(101),c(102),c(114),watch(a,"loc",function(){}),a.loc&&callWatchers(a,"loc"),watch(a,"userinfo",function(){}),watch(a,"adcode",function(){}),watch(a,"map",function(){}),watch(a,"direction",function(){}),watch(a,"dirp",function(){})}).call(b,c(2))},function(a,b,c){(function(b,c,d){function e(){var a,e,f=url("?"),g=b.parse(f),h=f.slice(2).split(","),i={};if(h=h.map(function(a){return decodeURIComponent(a)}),g.p)a=h[0],i={lat:h[1],lng:h[2]},e=h[3],address=h[4],adcode=h[5],c.redirect("/search?"+d.param({
query:e||address,city:adcode||c.adcode}));else if(g.q)i={lat:h[0],lng:h[1]},e=h[2],address=h[3],c.redirect("/search?"+d.param({query:e||address||g.q,adcode:adcode||c.adcode}));else if(g.r){var j=h,k={y:j[0],x:j[1],name:j[2]},l={y:j[3],x:j[4],name:j[5]},m=j[6]||"0",n=j[7]||"0",o=(j[8],j[9],j[10],j[11],{from:{name:k.name,lnglat:[k.x,k.y].join()},to:{name:l.name,lnglat:[l.x,l.y].join()},policy:m,type:c.dirtype[n]});c.fwd("/dir?"+d.param(o),!1)}}a.exports=e}).call(b,c(8),c(2),c(1))},function(a,b,c){var d,e,f;(function(g){!function(g){"use strict";e=[c(1)],d=g,f="function"==typeof d?d.apply(b,e):d,!(void 0!==f&&(a.exports=f))}(function(a){"use strict";function b(c,d){var e=function(){},f=this,g={ajaxSettings:{},autoSelectFirst:!1,appendTo:document.body,serviceUrl:null,lookup:null,onSelect:null,width:"auto",minChars:1,maxHeight:300,deferRequestBy:0,params:{},formatResult:b.formatResult,delimiter:null,zIndex:9999,type:"GET",noCache:!1,onSearchStart:e,onSearchComplete:e,onSearchError:e,preserveInput:!1,containerClass:"autocomplete-suggestions",tabDisabled:!1,dataType:"text",currentRequest:null,triggerSelectOnValidInput:!0,preventBadQueries:!0,lookupFilter:function(a,b,c){return-1!==a.value.toLowerCase().indexOf(c)},paramName:"query",transformResult:function(b){return"string"==typeof b?a.parseJSON(b):b},showNoSuggestionNotice:!1,noSuggestionNotice:"No results",orientation:"bottom",forceFixPosition:!1};f.element=c,f.el=a(c),f.suggestions=[],f.badQueries=[],f.selectedIndex=-1,f.currentValue=f.element.value,f.intervalId=0,f.cachedResponse={},f.onChangeInterval=null,f.onChange=null,f.isLocal=!1,f.suggestionsContainer=null,f.noSuggestionsContainer=null,f.options=a.extend({},g,d),f.classes={selected:"autocomplete-selected",suggestion:"autocomplete-suggestion"},f.hint=null,f.hintValue="",f.selection=null,f.initialize(),f.setOptions(d)}var c=function(){return{escapeRegExChars:function(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},createNode:function(a){var b=document.createElement("div");return b.className=a,b.style.position="absolute",b.style.display="none",b}}}(),d={ESC:27,TAB:9,RETURN:13,LEFT:37,UP:38,RIGHT:39,DOWN:40},e=0,f="",h="";void 0!=typeof document.hidden?(f="visibilitychange",h="hidden"):void 0!=typeof document.mozHidden?(f="mozvisibilitychange",h="mozHidden"):void 0!=typeof document.webkitHidden&&(f="webkitvisibilitychange",h="webkitHidden"),a(document).on(f,function(a){return document[h]?!1:(e=1,void setTimeout(function(){e=0},200))}),b.utils=c,a.Autocomplete=b,b.formatResult=function(a,b){var d=a.value,e="("+c.escapeRegExChars(b)+")";return d.replace(new RegExp(e,"gi"),"<strong>$1</strong>")},b.prototype={killerFn:null,initialize:function(){var c,d=this,e="."+d.classes.suggestion,f=d.classes.selected,g=d.options;d.element.setAttribute("autocomplete","off"),d.killerFn=function(b){0===a(b.target).closest("."+d.options.containerClass).length&&(d.killSuggestions(),d.disableKillerFn())},d.noSuggestionsContainer=a('<div class="autocomplete-no-suggestion"></div>').html(this.options.noSuggestionNotice).get(0),d.suggestionsContainer=b.utils.createNode(g.containerClass),c=a(d.suggestionsContainer),c.appendTo(g.appendTo),"auto"!==g.width&&void 0===g.minWidth?c.width(g.width):c.css("min-width",g.minWidth),c.on("mouseover.autocomplete",e,function(){d.activate(a(this).data("index"))}),c.on("mouseout.autocomplete",function(){d.selectedIndex=-1,c.children("."+f).removeClass(f)}),c.on("click.autocomplete",e,function(){d.select(a(this).data("index"))}),d.fixPositionCapture=function(){d.visible&&d.fixPosition()},a(window).on("resize.autocomplete",d.fixPositionCapture),d.el.on("keydown.autocomplete",function(a){d.onKeyPress(a)}),d.el.on("keyup.autocomplete",function(a){d.onKeyUp(a)}),d.el.on("blur.autocomplete",function(){d.onBlur()}),d.el.on("focus.autocomplete, click.autocomplete",function(){setTimeout(function(){d.onFocus()},100)}),d.el.on("change.autocomplete",function(a){d.onKeyUp(a)}),d.el.on("input.autocomplete",function(a){d.onKeyUp(a)})},onFocus:function(){if(1!=e){var a=this;a.fixPosition(),a.options.minChars<=a.el.val().length}},onBlur:function(){this.enableKillerFn(),this.abortAjax()},abortAjax:function(){var a=this;a.currentRequest&&(a.currentRequest.abort(),a.currentRequest=null)},setOptions:function(b){var c=this,d=c.options;a.extend(d,b),c.isLocal=a.isArray(d.lookup),c.isLocal&&(d.lookup=c.verifySuggestionsFormat(d.lookup)),d.orientation=c.validateOrientation(d.orientation,"bottom"),void 0===d.minWidth?a(c.suggestionsContainer).css({"max-height":d.maxHeight+"px",width:d.width+"px","z-index":d.zIndex}):a(c.suggestionsContainer).css({"max-height":d.maxHeight+"px","min-width":d.minWidth+"px","z-index":d.zIndex})},clearCache:function(){this.cachedResponse={},this.badQueries=[]},clear:function(){this.clearCache(),this.currentValue="",this.suggestions=[]},disable:function(){var a=this;a.disabled=!0,clearInterval(a.onChangeInterval),a.abortAjax()},enable:function(){this.disabled=!1},fixPosition:function(){var b=this,c=a(b.suggestionsContainer),d=c.parent().get(0);if(d===document.body||b.options.forceFixPosition){var e=b.options.orientation,f=c.outerHeight(),g=b.el.outerHeight(),h=b.el.offset(),i={top:h.top+1,left:h.left,borderTop:"none"};if("auto"===e){var j=a(window).height(),k=a(window).scrollTop(),l=-k+h.top-f,m=k+j-(h.top+g+f);e=Math.max(l,m)===l?"top":"bottom"}if("top"===e?i.top+=-f:i.top+=g,d!==document.body){var n,o=c.css("opacity");b.visible||c.css("opacity",0).show(),n=c.offsetParent().offset(),i.top-=n.top,i.left-=n.left,b.visible||c.css("opacity",o).hide()}"auto"===b.options.width&&void 0===b.options.minWidth&&(i.width=b.el.outerWidth()-2+"px"),c.css(i)}},enableKillerFn:function(){var b=this;a(document).on("click.autocomplete",b.killerFn)},disableKillerFn:function(){var b=this;a(document).off("click.autocomplete",b.killerFn)},killSuggestions:function(){var a=this;a.stopKillSuggestions(),a.intervalId=window.setInterval(function(){a.hide(),a.stopKillSuggestions()},50)},stopKillSuggestions:function(){window.clearInterval(this.intervalId)},isCursorAtEnd:function(){var a,b=this,c=b.el.val().length,d=b.element.selectionStart;return"number"==typeof d?d===c:document.selection?(a=document.selection.createRange(),a.moveStart("character",-c),c===a.text.length):!0},onKeyPress:function(a){var b=this;if(!b.disabled&&!b.visible&&a.which===d.DOWN&&b.currentValue)return void b.suggest();if(!b.disabled&&b.visible){switch(a.which){case d.ESC:b.el.val(b.currentValue),b.hide();break;case d.RIGHT:if(b.hint&&b.options.onHint&&b.isCursorAtEnd()){b.selectHint();break}return;case d.TAB:if(b.hint&&b.options.onHint)return void b.selectHint();if(-1===b.selectedIndex)return void b.hide();if(b.select(b.selectedIndex),b.options.tabDisabled===!1)return;break;case d.RETURN:if(-1===b.selectedIndex)return void b.hide();b.select(b.selectedIndex);break;case d.UP:b.moveUp();break;case d.DOWN:b.moveDown();break;default:return}a.stopImmediatePropagation(),a.preventDefault()}},onKeyUp:function(a){var b=this;if(!b.disabled){switch(a.which){case d.UP:case d.DOWN:return}clearInterval(b.onChangeInterval),b.currentValue!==b.el.val()&&(b.findBestHint(),b.options.deferRequestBy>0?b.onChangeInterval=setInterval(function(){b.onValueChange()},b.options.deferRequestBy):b.onValueChange())}},onValueChange:function(){var b=this,c=b.options,d=b.el.val(),e=b.getQuery(d);return b.selection&&b.currentValue!==e&&(b.selection=null,(c.onInvalidateSelection||a.noop).call(b.element)),clearInterval(b.onChangeInterval),b.currentValue=d,b.selectedIndex=-1,c.triggerSelectOnValidInput&&b.isExactMatch(e)?void b.select(0):void(e.length<c.minChars?b.hide():b.getSuggestions(e))},isExactMatch:function(a){var b=this.suggestions;return 1===b.length&&b[0].value.toLowerCase()===a.toLowerCase()},getQuery:function(b){var c,d=this.options.delimiter;return d?(c=b.split(d),a.trim(c[c.length-1])):b},getSuggestionsLocal:function(b){var c,d=this,e=d.options,f=b.toLowerCase(),g=e.lookupFilter,h=parseInt(e.lookupLimit,10);return c={suggestions:a.grep(e.lookup,function(a){return g(a,b,f)})},h&&c.suggestions.length>h&&(c.suggestions=c.suggestions.slice(0,h)),c},getSuggestions:function(b){var c,d,e,f,h=this,i=h.options,j=i.serviceUrl;if(i.params[i.paramName]=b,d=i.ignoreParams?null:i.params,i.onSearchStart.call(h.element,i.params)!==!1){if(a.isFunction(i.lookup))return void i.lookup(b,function(a){h.suggestions=a.suggestions,h.suggest(),i.onSearchComplete.call(h.element,b,a.suggestions)});h.isLocal?c=h.getSuggestionsLocal(b):(a.isFunction(j)&&(j=j.call(h.element,b)),e=j+"?"+a.param(d||{}),c=h.cachedResponse[e]),c&&a.isArray(c.suggestions)?(h.suggestions=c.suggestions,h.suggest(),i.onSearchComplete.call(h.element,b,c.suggestions)):h.isBadQuery(b)?i.onSearchComplete.call(h.element,b,[]):(h.abortAjax(),f={url:j,data:d,type:i.type,dataType:i.dataType},a.extend(f,i.ajaxSettings),h.currentRequest=a.ajax(f).done(function(a){var c;h.currentRequest=null,"6"==a.status&&(location.href=g.service.verify+encodeURIComponent(location.href)+"&channel="+a.channel+"&uuid="+encodeURIComponent(a.uuid)+"&url="+encodeURIComponent(a.url)),c=i.transformResult(a),h.processResponse(c,b,e),i.onSearchComplete.call(h.element,b,c.suggestions)}).fail(function(a,c,d){i.onSearchError.call(h.element,b,a,c,d)}))}},isBadQuery:function(a){if(!this.options.preventBadQueries)return!1;for(var b=this.badQueries,c=b.length;c--;)if(0===a.indexOf(b[c]))return!0;return!1},hide:function(){var b=this,c=a(b.suggestionsContainer);a.isFunction(b.options.onHide)&&b.visible&&b.options.onHide.call(b.element,c),b.visible=!1,b.selectedIndex=-1,clearInterval(b.onChangeInterval),a(b.suggestionsContainer).hide(),b.signalHint(null)},suggest:function(){if(0===this.suggestions.length)return void(this.options.showNoSuggestionNotice?this.noSuggestions():this.hide());var b,c=this,d=c.options,e=d.groupBy,f=d.formatResult,g=c.getQuery(c.currentValue),h=c.classes.suggestion,i=c.classes.selected,j=a(c.suggestionsContainer),k=a(c.noSuggestionsContainer),l=d.beforeRender,m="",n=function(a,c){var d=a.data[e];return b===d?"":(b=d,'<div class="autocomplete-group"><strong>'+b+"</strong></div>")};return d.triggerSelectOnValidInput&&c.isExactMatch(g)?void c.select(0):(a.each(c.suggestions,function(a,b){e&&(m+=n(b,g,a)),m+='<div class="'+h+'" data-index="'+a+'"><p>'+f(b,g)+'<span class="district" adcode="'+(b.adcode||"")+'">'+(b.district||"")+" </span></p></div>"}),this.adjustContainerWidth(),k.detach(),j.html(m),a.isFunction(l)&&l.call(c.element,j),c.fixPosition(),j.show(),d.autoSelectFirst&&(c.selectedIndex=0,j.scrollTop(0),j.children("."+h).first().addClass(i)),c.visible=!0,void c.findBestHint())},noSuggestions:function(){var b=this,c=a(b.suggestionsContainer),d=a(b.noSuggestionsContainer);this.adjustContainerWidth(),d.detach(),c.empty(),c.append(d),b.fixPosition(),c.show(),b.visible=!0},adjustContainerWidth:function(){var b,c=this,d=c.options,e=a(c.suggestionsContainer);"auto"===d.width&&void 0===d.minWidth&&(b=c.el.outerWidth()-2,e.width(b>0?b:300))},findBestHint:function(){var b=this,c=b.el.val().toLowerCase(),d=null;c&&(a.each(b.suggestions,function(a,b){var e=0===b.value.toLowerCase().indexOf(c);return e&&(d=b),!e}),b.signalHint(d))},signalHint:function(b){var c="",d=this;b&&(c=d.currentValue+b.value.substr(d.currentValue.length)),d.hintValue!==c&&(d.hintValue=c,d.hint=b,(this.options.onHint||a.noop)(c))},verifySuggestionsFormat:function(b){return b.length&&"string"==typeof b[0]?a.map(b,function(a){return{value:a,data:null}}):b},validateOrientation:function(b,c){return b=a.trim(b||"").toLowerCase(),-1===a.inArray(b,["auto","bottom","top"])&&(b=c),b},processResponse:function(a,b,c){var d=this,e=d.options;a.suggestions=d.verifySuggestionsFormat(a.suggestions),e.noCache||(d.cachedResponse[c]=a,e.preventBadQueries&&0===a.suggestions.length&&d.badQueries.push(b)),b===d.getQuery(d.currentValue)&&(d.suggestions=a.suggestions,d.suggest())},activate:function(b){var c,d=this,e=d.classes.selected,f=a(d.suggestionsContainer),g=f.find("."+d.classes.suggestion);return f.find("."+e).removeClass(e),d.selectedIndex=b,-1!==d.selectedIndex&&g.length>d.selectedIndex?(c=g.get(d.selectedIndex),a(c).addClass(e),c):null},selectHint:function(){var b=this,c=a.inArray(b.hint,b.suggestions);b.select(c)},select:function(a){var b=this;b.hide(),b.onSelect(a)},moveUp:function(){var b=this;return-1!==b.selectedIndex?0===b.selectedIndex?(a(b.suggestionsContainer).children().first().removeClass(b.classes.selected),b.selectedIndex=-1,b.el.val(b.currentValue),void b.findBestHint()):void b.adjustScroll(b.selectedIndex-1):void 0},moveDown:function(){var a=this;a.selectedIndex!==a.suggestions.length-1&&a.adjustScroll(a.selectedIndex+1)},adjustScroll:function(b){var c=this,d=c.activate(b);if(d){var e,f,g,h=a(d).outerHeight();e=d.offsetTop,f=a(c.suggestionsContainer).scrollTop(),g=f+c.options.maxHeight-h,f>e?a(c.suggestionsContainer).scrollTop(e):e>g&&a(c.suggestionsContainer).scrollTop(e-c.options.maxHeight+h),c.options.preserveInput||c.el.val(c.getValue(c.suggestions[b].value)),c.signalHint(null)}},onSelect:function(b){var c=this,d=c.options.onSelect,e=c.suggestions[b];c.currentValue=c.getValue(e.value),c.currentValue===c.el.val()||c.options.preserveInput||c.el.val(c.currentValue),c.signalHint(null),c.suggestions=[],c.selection=e,a.isFunction(d)&&d.call(c.element,e)},getValue:function(a){var b,c,d=this,e=d.options.delimiter;return e?(b=d.currentValue,c=b.split(e),1===c.length?a:b.substr(0,b.length-c[c.length-1].length)+a):a},dispose:function(){var b=this;b.el.off(".autocomplete").removeData("autocomplete"),b.disableKillerFn(),a(window).off("resize.autocomplete",b.fixPositionCapture),a(b.suggestionsContainer).remove()}},a.fn.autocomplete=a.fn.devbridgeAutocomplete=function(c,d){var e="autocomplete";return 0===arguments.length?this.first().data(e):this.each(function(){var f=a(this),g=f.data(e);"string"==typeof c?g&&"function"==typeof g[c]&&g[c](d):(g&&g.dispose&&g.dispose(),g=new b(this,c),f.data(e,g))})}})}).call(b,c(2))},,function(a,b,c){var d,e,f,d,g,e,h,e,d,i,d,j,e,k,e,l,e,m,e,f;(function(n){!function(g){function h(){}function i(a){function b(b){b.prototype.option||(b.prototype.option=function(b){a.isPlainObject(b)&&(this.options=a.extend(!0,this.options,b))})}function c(b,c){a.fn[b]=function(e){if("string"==typeof e){for(var f=j.call(arguments,1),g=0,h=this.length;h>g;g++){var i=this[g],k=a.data(i,b);if(k)if(a.isFunction(k[e])&&"_"!==e.charAt(0)){var l=k[e].apply(k,f);if(void 0!==l)return l}else d("no such method '"+e+"' for "+b+" instance");else d("cannot call methods on "+b+" prior to initialization; attempted to call '"+e+"'")}return this}return this.each(function(){var d=a.data(this,b);d?(d.option(e),d._init()):(d=new c(this,e),a.data(this,b,d))})}}if(a){var d="undefined"==typeof console?h:function(a){console.error(a)};return a.bridget=function(a,d){b(d),c(a,d)},a.bridget}}var j=Array.prototype.slice;e=[c(1)],d=i,f="function"==typeof d?d.apply(b,e):d,!(void 0!==f&&(a.exports=f))}(window),function(e){function f(a){return new RegExp("(^|\\s+)"+a+"(\\s+|$)")}function h(a,b){var c=i(a,b)?k:j;c(a,b)}var i,j,k;"classList"in document.documentElement?(i=function(a,b){return a.classList.contains(b)},j=function(a,b){a.classList.add(b)},k=function(a,b){a.classList.remove(b)}):(i=function(a,b){return f(b).test(a.className)},j=function(a,b){i(a,b)||(a.className=a.className+" "+b)},k=function(a,b){a.className=a.className.replace(f(b)," ")});var l={hasClass:i,addClass:j,removeClass:k,toggleClass:h,has:i,add:j,remove:k,toggle:h};d=l,!(g="function"==typeof d?d.call(b,c,b,a):d)}(window),function(a){function c(a){if(a){if("string"==typeof f[a])return a;a=a.charAt(0).toUpperCase()+a.slice(1);for(var b,c=0,e=d.length;e>c;c++)if(b=d[c]+a,"string"==typeof f[b])return b}}var d="Webkit Moz ms Ms O".split(" "),f=document.documentElement.style;e=[],!(h=function(){return c}.apply(b,e))}(window),function(a,c){function f(a){var b=parseFloat(a),c=-1===a.indexOf("%")&&!isNaN(b);return c&&b}function g(){}function j(){for(var a={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},b=0,c=m.length;c>b;b++){var d=m[b];a[d]=0}return a}function k(b){function c(){if(!k){k=!0;var c=a.getComputedStyle;if(g=function(){var a=c?function(a){return c(a,null)}:function(a){return a.currentStyle};return function(b){var c=a(b);return c||l("Style returned "+c+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),c}}(),h=b("boxSizing")){var d=document.createElement("div");d.style.width="200px",d.style.padding="1px 2px 3px 4px",d.style.borderStyle="solid",d.style.borderWidth="1px 2px 3px 4px",d.style[h]="border-box";var e=document.body||document.documentElement;e.appendChild(d);var j=g(d);i=200===f(j.width),e.removeChild(d)}}}function d(a){if(c(),"string"==typeof a&&(a=document.querySelector(a)),a&&"object"==typeof a&&a.nodeType){var b=g(a);if("none"===b.display)return j();var d={};d.width=a.offsetWidth,d.height=a.offsetHeight;for(var k=d.isBorderBox=!(!h||!b[h]||"border-box"!==b[h]),l=0,n=m.length;n>l;l++){var o=m[l],p=b[o];p=e(a,p);var q=parseFloat(p);d[o]=isNaN(q)?0:q}var r=d.paddingLeft+d.paddingRight,s=d.paddingTop+d.paddingBottom,t=d.marginLeft+d.marginRight,u=d.marginTop+d.marginBottom,v=d.borderLeftWidth+d.borderRightWidth,w=d.borderTopWidth+d.borderBottomWidth,x=k&&i,y=f(b.width);y!==!1&&(d.width=y+(x?0:r+v));var z=f(b.height);return z!==!1&&(d.height=z+(x?0:s+w)),d.innerWidth=d.width-(r+v),d.innerHeight=d.height-(s+w),d.outerWidth=d.width+t,d.outerHeight=d.height+u,d}}function e(b,c){if(a.getComputedStyle||-1===c.indexOf("%"))return c;var d=b.style,e=d.left,f=b.runtimeStyle,g=f&&f.left;return g&&(f.left=b.currentStyle.left),d.left=c,c=d.pixelLeft,d.left=e,g&&(f.left=g),c}var g,h,i,k=!1;return d}var l="undefined"==typeof console?g:function(a){console.error(a)},m=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];e=[h],d=k,!(i="function"==typeof d?d.apply(b,e):d)}(window),function(e){function f(a){var b=e.event;return b.target=b.target||b.srcElement||a,b}var g=document.documentElement,h=function(){};g.addEventListener?h=function(a,b,c){a.addEventListener(b,c,!1)}:g.attachEvent&&(h=function(a,b,c){a[b+c]=c.handleEvent?function(){var b=f(a);c.handleEvent.call(c,b)}:function(){var b=f(a);c.call(a,b)},a.attachEvent("on"+b,a[b+c])});var i=function(){};g.removeEventListener?i=function(a,b,c){a.removeEventListener(b,c,!1)}:g.detachEvent&&(i=function(a,b,c){a.detachEvent("on"+b,a[b+c]);try{delete a[b+c]}catch(d){a[b+c]=void 0}});var k={bind:h,unbind:i};d=k,!(j="function"==typeof d?d.call(b,c,b,a):d)}(window),function(){function a(){}function b(a,b){for(var c=a.length;c--;)if(a[c].listener===b)return c;return-1}function c(a){return function(){return this[a].apply(this,arguments)}}var d=a.prototype,f=this,g=f.EventEmitter;d.getListeners=function(a){var b,c,d=this._getEvents();if(a instanceof RegExp){b={};for(c in d)d.hasOwnProperty(c)&&a.test(c)&&(b[c]=d[c])}else b=d[a]||(d[a]=[]);return b},d.flattenListeners=function(a){var b,c=[];for(b=0;b<a.length;b+=1)c.push(a[b].listener);return c},d.getListenersAsObject=function(a){var b,c=this.getListeners(a);return c instanceof Array&&(b={},b[a]=c),b||c},d.addListener=function(a,c){var d,e=this.getListenersAsObject(a),f="object"==typeof c;for(d in e)e.hasOwnProperty(d)&&-1===b(e[d],c)&&e[d].push(f?c:{listener:c,once:!1});return this},d.on=c("addListener"),d.addOnceListener=function(a,b){return this.addListener(a,{listener:b,once:!0})},d.once=c("addOnceListener"),d.defineEvent=function(a){return this.getListeners(a),this},d.defineEvents=function(a){for(var b=0;b<a.length;b+=1)this.defineEvent(a[b]);return this},d.removeListener=function(a,c){var d,e,f=this.getListenersAsObject(a);for(e in f)f.hasOwnProperty(e)&&(d=b(f[e],c),-1!==d&&f[e].splice(d,1));return this},d.off=c("removeListener"),d.addListeners=function(a,b){return this.manipulateListeners(!1,a,b)},d.removeListeners=function(a,b){return this.manipulateListeners(!0,a,b)},d.manipulateListeners=function(a,b,c){var d,e,f=a?this.removeListener:this.addListener,g=a?this.removeListeners:this.addListeners;if("object"!=typeof b||b instanceof RegExp)for(d=c.length;d--;)f.call(this,b,c[d]);else for(d in b)b.hasOwnProperty(d)&&(e=b[d])&&("function"==typeof e?f.call(this,d,e):g.call(this,d,e));return this},d.removeEvent=function(a){var b,c=typeof a,d=this._getEvents();if("string"===c)delete d[a];else if(a instanceof RegExp)for(b in d)d.hasOwnProperty(b)&&a.test(b)&&delete d[b];else delete this._events;return this},d.removeAllListeners=c("removeEvent"),d.emitEvent=function(a,b){var c,d,e,f,g=this.getListenersAsObject(a);for(e in g)if(g.hasOwnProperty(e))for(d=g[e].length;d--;)c=g[e][d],c.once===!0&&this.removeListener(a,c.listener),f=c.listener.apply(this,b||[]),f===this._getOnceReturnValue()&&this.removeListener(a,c.listener);return this},d.trigger=c("emitEvent"),d.emit=function(a){var b=Array.prototype.slice.call(arguments,1);return this.emitEvent(a,b)},d.setOnceReturnValue=function(a){return this._onceReturnValue=a,this},d._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},d._getEvents=function(){return this._events||(this._events={})},a.noConflict=function(){return f.EventEmitter=g,a},e=[],!(k=function(){return a}.apply(f,e))}.call(this),function(a,c){e=[k,j],!(l=function(b,d){return c(a,b,d)}.apply(b,e))}(window,function(a,b,c){function d(){}function e(){}e.prototype=new b,e.prototype.bindStartEvent=function(a){this._bindStartEvent(a,!0)},e.prototype.unbindStartEvent=function(a){this._bindStartEvent(a,!1)},e.prototype._bindStartEvent=function(b,d){d=void 0===d?!0:!!d;var e=d?"bind":"unbind";a.navigator.pointerEnabled?c[e](b,"pointerdown",this):a.navigator.msPointerEnabled?c[e](b,"MSPointerDown",this):(c[e](b,"mousedown",this),c[e](b,"touchstart",this))},e.prototype.handleEvent=function(a){var b="on"+a.type;this[b]&&this[b](a)},e.prototype.getTouch=function(a){for(var b=0,c=a.length;c>b;b++){var d=a[b];if(d.identifier==this.pointerIdentifier)return d}},e.prototype.onmousedown=function(a){var b=a.button;b&&0!==b&&1!==b||this._pointerDown(a,a)},e.prototype.ontouchstart=function(a){this._pointerDown(a,a.changedTouches[0])},e.prototype.onMSPointerDown=e.prototype.onpointerdown=function(a){this._pointerDown(a,a)},e.prototype._pointerDown=function(a,b){this.isPointerDown||(this.isPointerDown=!0,this.pointerIdentifier=void 0!==b.pointerId?b.pointerId:b.identifier,this.pointerDown(a,b))},e.prototype.pointerDown=function(a,b){this._bindPostStartEvents(a),this.emitEvent("pointerDown",[a,b])};var f={mousedown:["mousemove","mouseup"],touchstart:["touchmove","touchend","touchcancel"],pointerdown:["pointermove","pointerup","pointercancel"],MSPointerDown:["MSPointerMove","MSPointerUp","MSPointerCancel"]};return e.prototype._bindPostStartEvents=function(b){if(b){for(var d=f[b.type],e=b.preventDefault?a:document,g=0,h=d.length;h>g;g++){var i=d[g];c.bind(e,i,this)}this._boundPointerEvents={events:d,node:e}}},e.prototype._unbindPostStartEvents=function(){var a=this._boundPointerEvents;if(a&&a.events){for(var b=0,d=a.events.length;d>b;b++){var e=a.events[b];c.unbind(a.node,e,this)}delete this._boundPointerEvents}},e.prototype.onmousemove=function(a){this._pointerMove(a,a)},e.prototype.onMSPointerMove=e.prototype.onpointermove=function(a){a.pointerId==this.pointerIdentifier&&this._pointerMove(a,a)},e.prototype.ontouchmove=function(a){var b=this.getTouch(a.changedTouches);b&&this._pointerMove(a,b)},e.prototype._pointerMove=function(a,b){this.pointerMove(a,b)},e.prototype.pointerMove=function(a,b){this.emitEvent("pointerMove",[a,b])},e.prototype.onmouseup=function(a){this._pointerUp(a,a)},e.prototype.onMSPointerUp=e.prototype.onpointerup=function(a){a.pointerId==this.pointerIdentifier&&this._pointerUp(a,a)},e.prototype.ontouchend=function(a){var b=this.getTouch(a.changedTouches);b&&this._pointerUp(a,b)},e.prototype._pointerUp=function(a,b){this._pointerDone(),this.pointerUp(a,b)},e.prototype.pointerUp=function(a,b){this.emitEvent("pointerUp",[a,b])},e.prototype._pointerDone=function(){this.isPointerDown=!1,delete this.pointerIdentifier,this._unbindPostStartEvents(),this.pointerDone()},e.prototype.pointerDone=d,e.prototype.onMSPointerCancel=e.prototype.onpointercancel=function(a){a.pointerId==this.pointerIdentifier&&this._pointerCancel(a,a)},e.prototype.ontouchcancel=function(a){var b=this.getTouch(a.changedTouches);b&&this._pointerCancel(a,b)},e.prototype._pointerCancel=function(a,b){this._pointerDone(),this.pointerCancel(a,b)},e.prototype.pointerCancel=function(a,b){this.emitEvent("pointerCancel",[a,b])},e.getPointerPoint=function(a){return{x:void 0!==a.pageX?a.pageX:a.clientX,y:void 0!==a.pageY?a.pageY:a.clientY}},e}),function(a,c){e=[j,l],!(m=function(b,d){return c(a,b,d)}.apply(b,e))}(window,function(a,b,c){function d(){}function e(a){a.preventDefault?a.preventDefault():a.returnValue=!1}function f(a){for(;a!=document.body;)if(a=a.parentNode,"A"==a.nodeName)return a}function g(){}function h(){return!1}g.prototype=new c,g.prototype.bindHandles=function(){this._bindHandles(!0)},g.prototype.unbindHandles=function(){this._bindHandles(!1)};var i=a.navigator;g.prototype._bindHandles=function(a){a=void 0===a?!0:!!a;var c;c=i.pointerEnabled?function(b){b.style.touchAction=a?"none":""}:i.msPointerEnabled?function(b){b.style.msTouchAction=a?"none":""}:function(){a&&k(g)};for(var d=a?"bind":"unbind",e=0,f=this.handles.length;f>e;e++){var g=this.handles[e];this._bindStartEvent(g,a),c(g),b[d](g,"click",this)}};var j="attachEvent"in document.documentElement,k=j?function(a){"IMG"==a.nodeName&&(a.ondragstart=h);for(var b=a.querySelectorAll("img"),c=0,d=b.length;d>c;c++){var e=b[c];e.ondragstart=h}}:d,l=g.allowTouchstartNodes={INPUT:!0,A:!0,BUTTON:!0,SELECT:!0};return g.prototype.pointerDown=function(a,b){this._dragPointerDown(a,b);var c=document.activeElement;c&&c.blur&&c.blur(),this._bindPostStartEvents(a),this.emitEvent("pointerDown",[a,b])},g.prototype._dragPointerDown=function(a,b){this.pointerDownPoint=c.getPointerPoint(b);var d=a.target.nodeName,g="touchstart"==a.type&&(l[d]||f(a.target));g||"SELECT"==d||e(a)},g.prototype.pointerMove=function(a,b){var c=this._dragPointerMove(a,b);this.emitEvent("pointerMove",[a,b,c]),this._dragMove(a,b,c)},g.prototype._dragPointerMove=function(a,b){var d=c.getPointerPoint(b),e={x:d.x-this.pointerDownPoint.x,y:d.y-this.pointerDownPoint.y};return!this.isDragging&&this.hasDragStarted(e)&&this._dragStart(a,b),e},g.prototype.hasDragStarted=function(a){return Math.abs(a.x)>3||Math.abs(a.y)>3},g.prototype.pointerUp=function(a,b){this.emitEvent("pointerUp",[a,b]),this._dragPointerUp(a,b)},g.prototype._dragPointerUp=function(a,b){this.isDragging?this._dragEnd(a,b):this._staticClick(a,b)},g.prototype._dragStart=function(a,b){this.isDragging=!0,this.dragStartPoint=g.getPointerPoint(b),this.isPreventingClicks=!0,this.dragStart(a,b)},g.prototype.dragStart=function(a,b){this.emitEvent("dragStart",[a,b])},g.prototype._dragMove=function(a,b,c){this.isDragging&&this.dragMove(a,b,c)},g.prototype.dragMove=function(a,b,c){this.emitEvent("dragMove",[a,b,c])},g.prototype._dragEnd=function(a,b){this.isDragging=!1;var c=this;setTimeout(function(){delete c.isPreventingClicks}),this.dragEnd(a,b)},g.prototype.dragEnd=function(a,b){this.emitEvent("dragEnd",[a,b])},g.prototype.onclick=function(a){this.isPreventingClicks&&e(a)},g.prototype._staticClick=function(a,b){"INPUT"==a.target.nodeName&&"text"==a.target.type&&a.target.focus(),this.staticClick(a,b)},g.prototype.staticClick=function(a,b){this.emitEvent("staticClick",[a,b])},g.getPointerPoint=function(a){return{x:void 0!==a.pageX?a.pageX:a.clientX,y:void 0!==a.pageY?a.pageY:a.clientY}},g.getPointerPoint=c.getPointerPoint,g}),function(c,d){e=[g,h,i,m],f=function(a,b,e,f){return d(c,a,b,e,f)}.apply(b,e),!(void 0!==f&&(a.exports=f))}(window,function(a,b,c,d,e){function f(){}function g(a,b){for(var c in b)a[c]=b[c];return a}function h(a,b){this.element="string"==typeof a?k.querySelector(a):a,w&&(this.$element=w(this.element)),this.options=g({},this.constructor.defaults),this.option(b),this._create()}function i(a,b,c){return c=c||"round",b?Math[c](a/b)*b:a}for(var j,k=a.document,l=k.defaultView,m=l&&l.getComputedStyle?function(a){return l.getComputedStyle(a,null)}:function(a){return a.currentStyle},o="object"==typeof HTMLElement?function(a){return a instanceof HTMLElement}:function(a){return a&&"object"==typeof a&&1==a.nodeType&&"string"==typeof a.nodeName},p=0,q="webkit moz ms o".split(" "),r=a.requestAnimationFrame,s=a.cancelAnimationFrame,t=0;t<q.length&&(!r||!s);t++)j=q[t],r=r||a[j+"RequestAnimationFrame"],s=s||a[j+"CancelAnimationFrame"]||a[j+"CancelRequestAnimationFrame"];r&&s||(r=function(b){var c=(new Date).getTime(),d=Math.max(0,16-(c-p)),e=a.setTimeout(function(){b(c+d)},d);return p=c+d,e},s=function(b){a.clearTimeout(b)});var u=c("transform"),v=!!c("perspective"),w=n||a.jQuery;g(h.prototype,e.prototype),h.defaults={},h.prototype.option=function(a){g(this.options,a)},h.prototype._create=function(){this.position={},this._getPosition(),this.startPoint={x:0,y:0},this.dragPoint={x:0,y:0},this.startPosition=g({},this.position);var a=m(this.element);"relative"!=a.position&&"absolute"!=a.position&&(this.element.style.position="relative"),this.enable(),this.setHandles()},h.prototype.setHandles=function(){this.handles=this.options.handle?this.element.querySelectorAll(this.options.handle):[this.element],this.bindHandles()},h.prototype.dispatchEvent=function(b,c,d){var e=[c].concat(d);this.emitEvent(b,e);var f=a.jQuery;if(f&&this.$element)if(c){var g=f.Event(c);g.type=b,this.$element.trigger(g,d)}else this.$element.trigger(b,d)},h.prototype._getPosition=function(){var a=m(this.element),b=parseInt(a.left,10),c=parseInt(a.top,10);this.position.x=isNaN(b)?0:b,this.position.y=isNaN(c)?0:c,this._addTransformPosition(a)},h.prototype._addTransformPosition=function(a){if(u){var b=a[u];if(0===b.indexOf("matrix")){var c=b.split(","),d=0===b.indexOf("matrix3d")?12:4,e=parseInt(c[d],10),f=parseInt(c[d+1],10);this.position.x+=e,this.position.y+=f}}},h.prototype.pointerDown=function(a,c){this._dragPointerDown(a,c);var d=k.activeElement;d&&d.blur&&d.blur(),this._bindPostStartEvents(a),b.add(this.element,"is-pointer-down"),this.dispatchEvent("pointerDown",a,[c])},h.prototype.pointerMove=function(a,b){var c=this._dragPointerMove(a,b);this.dispatchEvent("pointerMove",a,[b,c]),this._dragMove(a,b,c)},h.prototype.dragStart=function(a,c){this.isEnabled&&(this._getPosition(),this.measureContainment(),this.startPosition.x=this.position.x,this.startPosition.y=this.position.y,this.setLeftTop(),this.dragPoint.x=0,this.dragPoint.y=0,this.isDragging=!0,b.add(this.element,"is-dragging"),this.dispatchEvent("dragStart",a,[c]),this.animate())},h.prototype.measureContainment=function(){var a=this.options.containment;if(a){this.size=d(this.element);var b=this.element.getBoundingClientRect(),c=o(a)?a:"string"==typeof a?k.querySelector(a):this.element.parentNode;this.containerSize=d(c);var e=c.getBoundingClientRect();this.relativeStartPosition={x:b.left-e.left,y:b.top-e.top}}},h.prototype.dragMove=function(a,b,c){if(this.isEnabled){var d=c.x,e=c.y,f=this.options.grid,g=f&&f[0],h=f&&f[1];d=i(d,g),e=i(e,h),d=this.containDrag("x",d,g),e=this.containDrag("y",e,h),d="y"==this.options.axis?0:d,e="x"==this.options.axis?0:e,this.position.x=this.startPosition.x+d,this.position.y=this.startPosition.y+e,this.dragPoint.x=d,this.dragPoint.y=e,this.dispatchEvent("dragMove",a,[b,c])}},h.prototype.containDrag=function(a,b,c){if(!this.options.containment)return b;var d="x"==a?"width":"height",e=this.relativeStartPosition[a],f=i(-e,c,"ceil"),g=this.containerSize[d]-e-this.size[d];return g=i(g,c,"floor"),Math.min(g,Math.max(f,b))},h.prototype.pointerUp=function(a,c){b.remove(this.element,"is-pointer-down"),this.dispatchEvent("pointerUp",a,[c]),
this._dragPointerUp(a,c)},h.prototype.dragEnd=function(a,c){this.isEnabled&&(this.isDragging=!1,u&&(this.element.style[u]="",this.setLeftTop()),b.remove(this.element,"is-dragging"),this.dispatchEvent("dragEnd",a,[c]))},h.prototype.animate=function(){if(this.isDragging){this.positionDrag();var a=this;r(function(){a.animate()})}};var x=v?function(a,b){return"translate3d( "+a+"px, "+b+"px, 0)"}:function(a,b){return"translate( "+a+"px, "+b+"px)"};return h.prototype.setLeftTop=function(){this.element.style.left=this.position.x+"px",this.element.style.top=this.position.y+"px"},h.prototype.positionDrag=u?function(){this.element.style[u]=x(this.dragPoint.x,this.dragPoint.y)}:h.prototype.setLeftTop,h.prototype.staticClick=function(a,b){this.dispatchEvent("staticClick",a,[b])},h.prototype.enable=function(){this.isEnabled=!0},h.prototype.disable=function(){this.isEnabled=!1,this.isDragging&&this.dragEnd()},h.prototype.destroy=function(){this.disable(),u&&(this.element.style[u]=""),this.element.style.left="",this.element.style.top="",this.element.style.position="",this.unbindHandles(),this.$element&&this.$element.removeData("draggabilly")},h.prototype._init=f,w&&w.bridget&&w.bridget("draggabilly",h),h})}).call(b,c(1))},function(a,b,c){(function(a){!function(a){var b={init:function(c){return this.each(function(){var d=a(this),e=d.data("eraser");if(!e){var f=function(){var f=a("<canvas/>"),g=f.get(0),h=g.getContext("2d"),i=window.devicePixelRatio||1,j=h.webkitBackingStorePixelRatio||h.mozBackingStorePixelRatio||h.msBackingStorePixelRatio||h.oBackingStorePixelRatio||h.backingStorePixelRatio||1,k=i/j,l=d.width(),m=d.height(),n=l*k,o=m*k,p=d.offset(),q=(c&&c.size?c.size:40)*k,r=c&&c.completeRatio?c.completeRatio:.7,s=c&&c.completeFunction?c.completeFunction:null,t=c&&c.progressFunction?c.progressFunction:null,u="auto"==d.css("z-index")?1:d.css("z-index"),v=[],w=Math.floor(n/q),x=w*Math.floor(o/q),y=x,z=d[0];for(d.after(f),g.id=z.id,g.className=z.className,g.width=n,g.height=o,g.style.width=l.toString()+"px",g.style.height=m.toString()+"px",h.drawImage(z,0,0,n,o),d.remove(),h.globalCompositeOperation="destination-out",h.strokeStyle="rgba(255,0,0,255)",h.lineWidth=q,h.lineCap="round",f.bind("mousedown.eraser",b.mouseDown),f.bind("touchstart.eraser",b.touchStart),f.bind("touchmove.eraser",b.touchMove),f.bind("touchend.eraser",b.touchEnd);y--;)v.push(1);e={posX:p.left,posY:p.top,touchDown:!1,touchID:-999,touchX:0,touchY:0,ptouchX:0,ptouchY:0,canvas:f,ctx:h,w:n,h:o,scaleRatio:k,source:z,size:q,parts:v,colParts:w,numParts:x,ratio:0,complete:!1,completeRatio:r,completeFunction:s,progressFunction:t,zIndex:u},f.data("eraser",e),a(window).resize(function(){var a=f.offset();e.posX=a.left,e.posY=a.top})};this.complete&&this.naturalWidth>0?f():d.load(f)}})},touchStart:function(c){var d=a(this),e=d.data("eraser");if(!e.touchDown){var f=c.originalEvent.changedTouches[0],g=f.pageX-e.posX,h=f.pageY-e.posY;g*=e.scaleRatio,h*=e.scaleRatio,b.evaluatePoint(e,g,h),e.touchDown=!0,e.touchID=f.identifier,e.touchX=g,e.touchY=h,c.preventDefault()}},touchMove:function(c){var d=a(this),e=d.data("eraser");if(e.touchDown)for(var f=c.originalEvent.changedTouches,g=f.length;g--;)if(f[g].identifier==e.touchID){var h=f[g].pageX-e.posX,i=f[g].pageY-e.posY;h*=e.scaleRatio,i*=e.scaleRatio,b.evaluatePoint(e,h,i),e.ctx.beginPath(),e.ctx.moveTo(e.touchX,e.touchY),e.touchX=h,e.touchY=i,e.ctx.lineTo(e.touchX,e.touchY),e.ctx.stroke(),d.css({"z-index":d.css("z-index")==e.zIndex?parseInt(e.zIndex)+1:e.zIndex}),c.preventDefault();break}},touchEnd:function(b){var c=a(this),d=c.data("eraser");if(d.touchDown)for(var e=b.originalEvent.changedTouches,f=e.length;f--;)if(e[f].identifier==d.touchID){d.touchDown=!1,b.preventDefault();break}},evaluatePoint:function(a,b,c){var d=Math.floor(b/a.size)+Math.floor(c/a.size)*a.colParts;d>=0&&d<a.numParts&&(a.ratio+=a.parts[d],a.parts[d]=0,a.complete||(d=a.ratio/a.numParts,d>=a.completeRatio?(a.complete=!0,null!=a.completeFunction&&a.completeFunction()):null!=a.progressFunction&&a.progressFunction(d)))},mouseDown:function(c){var d=a(this),e=d.data("eraser"),f=c.pageX-e.posX,g=c.pageY-e.posY;f*=e.scaleRatio,g*=e.scaleRatio,b.evaluatePoint(e,f,g),e.touchDown=!0,e.touchX=f,e.touchY=g,e.ctx.beginPath(),e.ctx.moveTo(e.touchX-1,e.touchY),e.ctx.lineTo(e.touchX,e.touchY),e.ctx.stroke(),d.bind("mousemove.eraser",b.mouseMove),a(document).bind("mouseup.eraser",e,b.mouseUp),c.preventDefault()},mouseMove:function(c){var d=a(this),e=d.data("eraser"),f=c.pageX-e.posX,g=c.pageY-e.posY;f*=e.scaleRatio,g*=e.scaleRatio,b.evaluatePoint(e,f,g),e.ctx.beginPath(),e.ctx.moveTo(e.touchX,e.touchY),e.touchX=f,e.touchY=g,e.ctx.lineTo(e.touchX,e.touchY),e.ctx.stroke(),d.css({"z-index":d.css("z-index")==e.zIndex?parseInt(e.zIndex)+1:e.zIndex}),c.preventDefault()},mouseUp:function(b){var c=b.data,d=c.canvas;c.touchDown=!1,d.unbind("mousemove.eraser"),a(document).unbind("mouseup.eraser"),b.preventDefault()},clear:function(){var b=a(this),c=b.data("eraser");if(c){c.ctx.clearRect(0,0,c.w,c.h);for(var d=c.numParts;d--;)c.parts[d]=0;c.ratio=c.numParts,c.complete=!0,null!=c.completeFunction&&c.completeFunction()}},size:function(b){var c=a(this),d=c.data("eraser");d&&b&&(d.size=b,d.ctx.lineWidth=b)},reset:function(){var b=a(this),c=b.data("eraser");if(c){c.ctx.globalCompositeOperation="source-over",c.ctx.drawImage(c.source,0,0,c.w,c.h),c.ctx.globalCompositeOperation="destination-out";for(var d=c.numParts;d--;)c.parts[d]=1;c.ratio=0,c.complete=!1,c.touchDown=!1}},progress:function(){var b=a(this),c=b.data("eraser");return c?c.ratio/c.numParts:0}};a.fn.eraser=function(c){return b[c]?b[c].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof c&&c?void a.error("Method "+c+" does not yet exist on jQuery.eraser"):b.init.apply(this,arguments)}}(a)}).call(b,c(1))},,function(a,b,c){var d,e,f;!function(g){"use strict";e=[c(1)],d=g,f="function"==typeof d?d.apply(b,e):d,!(void 0!==f&&(a.exports=f))}(function(a){"use strict";function b(b){return!b.nodeName||-1!==a.inArray(b.nodeName.toLowerCase(),["iframe","#document","html","body"])}function c(b){return a.isFunction(b)||a.isPlainObject(b)?b:{top:b,left:b}}var d=a.scrollTo=function(b,c,d){return a(window).scrollTo(b,c,d)};return d.defaults={axis:"xy",duration:0,limit:!0},a.fn.scrollTo=function(e,f,g){"object"==typeof f&&(g=f,f=0),"function"==typeof g&&(g={onAfter:g}),"max"===e&&(e=9e9),g=a.extend({},d.defaults,g),f=f||g.duration;var h=g.queue&&g.axis.length>1;return h&&(f/=2),g.offset=c(g.offset),g.over=c(g.over),this.each(function(){function i(b){var c=a.extend({},g,{queue:!0,duration:f,complete:b&&function(){b.call(l,n,g)}});m.animate(o,c)}if(null!==e){var j,k=b(this),l=k?this.contentWindow||window:this,m=a(l),n=e,o={};switch(typeof n){case"number":case"string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(n)){n=c(n);break}n=k?a(n):a(n,l);case"object":if(0===n.length)return;(n.is||n.style)&&(j=(n=a(n)).offset())}var p=a.isFunction(g.offset)&&g.offset(l,n)||g.offset;a.each(g.axis.split(""),function(a,b){var c="x"===b?"Left":"Top",e=c.toLowerCase(),f="scroll"+c,q=m[f](),r=d.max(l,b);if(j)o[f]=j[e]+(k?0:q-m.offset()[e]),g.margin&&(o[f]-=parseInt(n.css("margin"+c),10)||0,o[f]-=parseInt(n.css("border"+c+"Width"),10)||0),o[f]+=p[e]||0,g.over[e]&&(o[f]+=n["x"===b?"width":"height"]()*g.over[e]);else{var s=n[e];o[f]=s.slice&&"%"===s.slice(-1)?parseFloat(s)/100*r:s}g.limit&&/^\d+$/.test(o[f])&&(o[f]=o[f]<=0?0:Math.min(o[f],r)),!a&&g.axis.length>1&&(q===o[f]?o={}:h&&(i(g.onAfterFirst),o={}))}),i(g.onAfter)}})},d.max=function(c,d){var e="x"===d?"Width":"Height",f="scroll"+e;if(!b(c))return c[f]-a(c)[e.toLowerCase()]();var g="client"+e,h=c.ownerDocument||c.document,i=h.documentElement,j=h.body;return Math.max(i[f],j[f])-Math.min(i[g],j[g])},a.Tween.propHooks.scrollLeft=a.Tween.propHooks.scrollTop={get:function(b){return a(b.elem)[b.prop]()},set:function(b){var c=this.get(b);if(b.options.interrupt&&b._last&&b._last!==c)return a(b.elem).stop();var d=Math.round(b.now);c!==d&&(a(b.elem)[b.prop](d),b._last=this.get(b))}},d})},function(a,b,c){(function(b){!function(){"use strict";function a(a){a.fn.swiper=function(b){var c;return a(this).each(function(){var a=new d(this,b);c||(c=a)}),c}}var c,d=function(a,f){function g(){return"horizontal"===w.params.direction}function h(a){return Math.floor(a)}function i(){w.autoplayTimeoutId=setTimeout(function(){w.params.loop?(w.fixLoop(),w._slideNext()):w.isEnd?f.autoplayStopOnLast?w.stopAutoplay():w._slideTo(0):w._slideNext()},w.params.autoplay)}function j(a,b){var d=c(a.target);if(!d.is(b))if("string"==typeof b)d=d.parents(b);else if(b.nodeType){var e;return d.parents().each(function(a,c){c===b&&(e=b)}),e?b:void 0}return 0!==d.length?d[0]:void 0}function k(a,b){b=b||{};var c=window.MutationObserver||window.WebkitMutationObserver,d=new c(function(a){a.forEach(function(a){w.onResize(!0),w.emit("onObserverUpdate",w,a)})});d.observe(a,{attributes:"undefined"==typeof b.attributes?!0:b.attributes,childList:"undefined"==typeof b.childList?!0:b.childList,characterData:"undefined"==typeof b.characterData?!0:b.characterData}),w.observers.push(d)}function l(a){a.originalEvent&&(a=a.originalEvent);var b=a.keyCode||a.charCode;if(!w.params.allowSwipeToNext&&(g()&&39===b||!g()&&40===b))return!1;if(!w.params.allowSwipeToPrev&&(g()&&37===b||!g()&&38===b))return!1;if(!(a.shiftKey||a.altKey||a.ctrlKey||a.metaKey||document.activeElement&&document.activeElement.nodeName&&("input"===document.activeElement.nodeName.toLowerCase()||"textarea"===document.activeElement.nodeName.toLowerCase()))){if(37===b||39===b||38===b||40===b){var c=!1;if(w.container.parents(".swiper-slide").length>0&&0===w.container.parents(".swiper-slide-active").length)return;var d={left:window.pageXOffset,top:window.pageYOffset},e=window.innerWidth,f=window.innerHeight,h=w.container.offset();w.rtl&&(h.left=h.left-w.container[0].scrollLeft);for(var i=[[h.left,h.top],[h.left+w.width,h.top],[h.left,h.top+w.height],[h.left+w.width,h.top+w.height]],j=0;j<i.length;j++){var k=i[j];k[0]>=d.left&&k[0]<=d.left+e&&k[1]>=d.top&&k[1]<=d.top+f&&(c=!0)}if(!c)return}g()?((37===b||39===b)&&(a.preventDefault?a.preventDefault():a.returnValue=!1),(39===b&&!w.rtl||37===b&&w.rtl)&&w.slideNext(),(37===b&&!w.rtl||39===b&&w.rtl)&&w.slidePrev()):((38===b||40===b)&&(a.preventDefault?a.preventDefault():a.returnValue=!1),40===b&&w.slideNext(),38===b&&w.slidePrev())}}function m(a){a.originalEvent&&(a=a.originalEvent);var b=w.mousewheel.event,c=0,d=w.rtl?-1:1;if(a.detail)c=-a.detail;else if("mousewheel"===b)if(w.params.mousewheelForceToAxis)if(g()){if(!(Math.abs(a.wheelDeltaX)>Math.abs(a.wheelDeltaY)))return;c=a.wheelDeltaX*d}else{if(!(Math.abs(a.wheelDeltaY)>Math.abs(a.wheelDeltaX)))return;c=a.wheelDeltaY}else c=Math.abs(a.wheelDeltaX)>Math.abs(a.wheelDeltaY)?-a.wheelDeltaX*d:-a.wheelDeltaY;else if("DOMMouseScroll"===b)c=-a.detail;else if("wheel"===b)if(w.params.mousewheelForceToAxis)if(g()){if(!(Math.abs(a.deltaX)>Math.abs(a.deltaY)))return;c=-a.deltaX*d}else{if(!(Math.abs(a.deltaY)>Math.abs(a.deltaX)))return;c=-a.deltaY}else c=Math.abs(a.deltaX)>Math.abs(a.deltaY)?-a.deltaX*d:-a.deltaY;if(0!==c){if(w.params.mousewheelInvert&&(c=-c),w.params.freeMode){var e=w.getWrapperTranslate()+c*w.params.mousewheelSensitivity,f=w.isBeginning,h=w.isEnd;if(e>=w.minTranslate()&&(e=w.minTranslate()),e<=w.maxTranslate()&&(e=w.maxTranslate()),w.setWrapperTransition(0),w.setWrapperTranslate(e),w.updateProgress(),w.updateActiveIndex(),(!f&&w.isBeginning||!h&&w.isEnd)&&w.updateClasses(),w.params.freeModeSticky&&(clearTimeout(w.mousewheel.timeout),w.mousewheel.timeout=setTimeout(function(){w.slideReset()},300)),0===e||e===w.maxTranslate())return}else{if((new window.Date).getTime()-w.mousewheel.lastScrollTime>60)if(0>c)if(w.isEnd&&!w.params.loop||w.animating){if(w.params.mousewheelReleaseOnEdges)return!0}else w.slideNext();else if(w.isBeginning&&!w.params.loop||w.animating){if(w.params.mousewheelReleaseOnEdges)return!0}else w.slidePrev();w.mousewheel.lastScrollTime=(new window.Date).getTime()}return w.params.autoplay&&w.stopAutoplay(),a.preventDefault?a.preventDefault():a.returnValue=!1,!1}}function n(a,b){a=c(a);var d,e,f,h=w.rtl?-1:1;d=a.attr("data-swiper-parallax")||"0",e=a.attr("data-swiper-parallax-x"),f=a.attr("data-swiper-parallax-y"),e||f?(e=e||"0",f=f||"0"):g()?(e=d,f="0"):(f=d,e="0"),e=e.indexOf("%")>=0?parseInt(e,10)*b*h+"%":e*b*h+"px",f=f.indexOf("%")>=0?parseInt(f,10)*b+"%":f*b+"px",a.transform("translate3d("+e+", "+f+",0px)")}function o(a){return 0!==a.indexOf("on")&&(a=a[0]!==a[0].toUpperCase()?"on"+a[0].toUpperCase()+a.substring(1):"on"+a),a}if(!(this instanceof d))return new d(a,f);var p={direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,autoplay:!1,autoplayDisableOnInteraction:!0,iOSEdgeSwipeDetection:!1,iOSEdgeSwipeThreshold:20,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeSticky:!1,freeModeMinimumVelocity:.02,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",coverflow:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0},cube:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94},fade:{crossFade:!1},parallax:!1,scrollbar:null,scrollbarHide:!0,scrollbarDraggable:!1,scrollbarSnapOnRelease:!1,keyboardControl:!1,mousewheelControl:!1,mousewheelReleaseOnEdges:!1,mousewheelInvert:!1,mousewheelForceToAxis:!1,mousewheelSensitivity:1,hashnav:!1,breakpoints:void 0,spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,centeredSlides:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,onlyExternal:!1,threshold:0,touchMoveStopPropagation:!0,pagination:null,paginationElement:"span",paginationClickable:!1,paginationHide:!1,paginationBulletRender:null,resistance:!0,resistanceRatio:.85,nextButton:null,prevButton:null,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,lazyLoading:!1,lazyLoadingInPrevNext:!1,lazyLoadingOnTransitionStart:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,control:void 0,controlInverse:!1,controlBy:"slide",allowSwipeToPrev:!0,allowSwipeToNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",buttonDisabledClass:"swiper-button-disabled",paginationHiddenClass:"swiper-pagination-hidden",observer:!1,observeParents:!1,a11y:!1,prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",runCallbacksOnInit:!0},q=f&&f.virtualTranslate;f=f||{};var r={};for(var s in f)if("object"!=typeof f[s]||f[s].nodeType||f[s]===window||f[s]===document||"undefined"!=typeof e&&f[s]instanceof e||"undefined"!=typeof b&&f[s]instanceof b)r[s]=f[s];else{r[s]={};for(var t in f[s])r[s][t]=f[s][t]}for(var u in p)if("undefined"==typeof f[u])f[u]=p[u];else if("object"==typeof f[u])for(var v in p[u])"undefined"==typeof f[u][v]&&(f[u][v]=p[u][v]);var w=this;if(w.params=f,w.originalParams=r,w.classNames=[],"undefined"!=typeof c&&"undefined"!=typeof e&&(c=e),("undefined"!=typeof c||(c="undefined"==typeof e?window.Dom7||window.Zepto||window.jQuery:e))&&(w.$=c,w.currentBreakpoint=void 0,w.getActiveBreakpoint=function(){if(!w.params.breakpoints)return!1;var a,b=!1,c=[];for(a in w.params.breakpoints)w.params.breakpoints.hasOwnProperty(a)&&c.push(a);c.sort(function(a,b){return parseInt(a,10)>parseInt(b,10)});for(var d=0;d<c.length;d++)a=c[d],a>=window.innerWidth&&!b&&(b=a);return b||"max"},w.setBreakpoint=function(){var a=w.getActiveBreakpoint();if(a&&w.currentBreakpoint!==a){var b=a in w.params.breakpoints?w.params.breakpoints[a]:w.originalParams;for(var c in b)w.params[c]=b[c];w.currentBreakpoint=a}},w.params.breakpoints&&w.setBreakpoint(),w.container=c(a),0!==w.container.length)){if(w.container.length>1)return void w.container.each(function(){new d(this,f)});w.container[0].swiper=w,w.container.data("swiper",w),w.classNames.push("swiper-container-"+w.params.direction),w.params.freeMode&&w.classNames.push("swiper-container-free-mode"),w.support.flexbox||(w.classNames.push("swiper-container-no-flexbox"),w.params.slidesPerColumn=1),w.params.autoHeight&&w.classNames.push("swiper-container-autoheight"),(w.params.parallax||w.params.watchSlidesVisibility)&&(w.params.watchSlidesProgress=!0),["cube","coverflow"].indexOf(w.params.effect)>=0&&(w.support.transforms3d?(w.params.watchSlidesProgress=!0,w.classNames.push("swiper-container-3d")):w.params.effect="slide"),"slide"!==w.params.effect&&w.classNames.push("swiper-container-"+w.params.effect),"cube"===w.params.effect&&(w.params.resistanceRatio=0,w.params.slidesPerView=1,w.params.slidesPerColumn=1,w.params.slidesPerGroup=1,w.params.centeredSlides=!1,w.params.spaceBetween=0,w.params.virtualTranslate=!0,w.params.setWrapperSize=!1),"fade"===w.params.effect&&(w.params.slidesPerView=1,w.params.slidesPerColumn=1,w.params.slidesPerGroup=1,w.params.watchSlidesProgress=!0,w.params.spaceBetween=0,"undefined"==typeof q&&(w.params.virtualTranslate=!0)),w.params.grabCursor&&w.support.touch&&(w.params.grabCursor=!1),w.wrapper=w.container.children("."+w.params.wrapperClass),w.params.pagination&&(w.paginationContainer=c(w.params.pagination),w.params.paginationClickable&&w.paginationContainer.addClass("swiper-pagination-clickable")),w.rtl=g()&&("rtl"===w.container[0].dir.toLowerCase()||"rtl"===w.container.css("direction")),w.rtl&&w.classNames.push("swiper-container-rtl"),w.rtl&&(w.wrongRTL="-webkit-box"===w.wrapper.css("display")),w.params.slidesPerColumn>1&&w.classNames.push("swiper-container-multirow"),w.device.android&&w.classNames.push("swiper-container-android"),w.container.addClass(w.classNames.join(" ")),w.translate=0,w.progress=0,w.velocity=0,w.lockSwipeToNext=function(){w.params.allowSwipeToNext=!1},w.lockSwipeToPrev=function(){w.params.allowSwipeToPrev=!1},w.lockSwipes=function(){w.params.allowSwipeToNext=w.params.allowSwipeToPrev=!1},w.unlockSwipeToNext=function(){w.params.allowSwipeToNext=!0},w.unlockSwipeToPrev=function(){w.params.allowSwipeToPrev=!0},w.unlockSwipes=function(){w.params.allowSwipeToNext=w.params.allowSwipeToPrev=!0},w.params.grabCursor&&(w.container[0].style.cursor="move",w.container[0].style.cursor="-webkit-grab",w.container[0].style.cursor="-moz-grab",w.container[0].style.cursor="grab"),w.imagesToLoad=[],w.imagesLoaded=0,w.loadImage=function(a,b,c,d,e){function f(){e&&e()}var g;a.complete&&d?f():b?(g=new window.Image,g.onload=f,g.onerror=f,c&&(g.srcset=c),b&&(g.src=b)):f()},w.preloadImages=function(){function a(){"undefined"!=typeof w&&null!==w&&(void 0!==w.imagesLoaded&&w.imagesLoaded++,w.imagesLoaded===w.imagesToLoad.length&&(w.params.updateOnImagesReady&&w.update(),w.emit("onImagesReady",w)))}w.imagesToLoad=w.container.find("img");for(var b=0;b<w.imagesToLoad.length;b++)w.loadImage(w.imagesToLoad[b],w.imagesToLoad[b].currentSrc||w.imagesToLoad[b].getAttribute("src"),w.imagesToLoad[b].srcset||w.imagesToLoad[b].getAttribute("srcset"),!0,a)},w.autoplayTimeoutId=void 0,w.autoplaying=!1,w.autoplayPaused=!1,w.startAutoplay=function(){return"undefined"!=typeof w.autoplayTimeoutId?!1:w.params.autoplay?w.autoplaying?!1:(w.autoplaying=!0,w.emit("onAutoplayStart",w),void i()):!1},w.stopAutoplay=function(a){w.autoplayTimeoutId&&(w.autoplayTimeoutId&&clearTimeout(w.autoplayTimeoutId),w.autoplaying=!1,w.autoplayTimeoutId=void 0,w.emit("onAutoplayStop",w))},w.pauseAutoplay=function(a){w.autoplayPaused||(w.autoplayTimeoutId&&clearTimeout(w.autoplayTimeoutId),w.autoplayPaused=!0,0===a?(w.autoplayPaused=!1,i()):w.wrapper.transitionEnd(function(){w&&(w.autoplayPaused=!1,w.autoplaying?i():w.stopAutoplay())}))},w.minTranslate=function(){return-w.snapGrid[0]},w.maxTranslate=function(){return-w.snapGrid[w.snapGrid.length-1]},w.updateAutoHeight=function(){var a=w.slides.eq(w.activeIndex)[0].offsetHeight;a&&w.wrapper.css("height",w.slides.eq(w.activeIndex)[0].offsetHeight+"px")},w.updateContainerSize=function(){var a,b;a="undefined"!=typeof w.params.width?w.params.width:w.container[0].clientWidth,b="undefined"!=typeof w.params.height?w.params.height:w.container[0].clientHeight,0===a&&g()||0===b&&!g()||(a=a-parseInt(w.container.css("padding-left"),10)-parseInt(w.container.css("padding-right"),10),b=b-parseInt(w.container.css("padding-top"),10)-parseInt(w.container.css("padding-bottom"),10),w.width=a,w.height=b,w.size=g()?w.width:w.height)},w.updateSlidesSize=function(){w.slides=w.wrapper.children("."+w.params.slideClass),w.snapGrid=[],w.slidesGrid=[],w.slidesSizesGrid=[];var a,b=w.params.spaceBetween,c=-w.params.slidesOffsetBefore,d=0,e=0;"string"==typeof b&&b.indexOf("%")>=0&&(b=parseFloat(b.replace("%",""))/100*w.size),w.virtualSize=-b,w.rtl?w.slides.css({marginLeft:"",marginTop:""}):w.slides.css({marginRight:"",marginBottom:""});var f;w.params.slidesPerColumn>1&&(f=Math.floor(w.slides.length/w.params.slidesPerColumn)===w.slides.length/w.params.slidesPerColumn?w.slides.length:Math.ceil(w.slides.length/w.params.slidesPerColumn)*w.params.slidesPerColumn,"auto"!==w.params.slidesPerView&&"row"===w.params.slidesPerColumnFill&&(f=Math.max(f,w.params.slidesPerView*w.params.slidesPerColumn)));var i,j=w.params.slidesPerColumn,k=f/j,l=k-(w.params.slidesPerColumn*k-w.slides.length);for(a=0;a<w.slides.length;a++){i=0;var m=w.slides.eq(a);if(w.params.slidesPerColumn>1){var n,o,p;"column"===w.params.slidesPerColumnFill?(o=Math.floor(a/j),p=a-o*j,(o>l||o===l&&p===j-1)&&++p>=j&&(p=0,o++),n=o+p*f/j,m.css({"-webkit-box-ordinal-group":n,"-moz-box-ordinal-group":n,"-ms-flex-order":n,"-webkit-order":n,order:n})):(p=Math.floor(a/k),o=a-p*k),m.css({"margin-top":0!==p&&w.params.spaceBetween&&w.params.spaceBetween+"px"}).attr("data-swiper-column",o).attr("data-swiper-row",p)}"none"!==m.css("display")&&("auto"===w.params.slidesPerView?(i=g()?m.outerWidth(!0):m.outerHeight(!0),w.params.roundLengths&&(i=h(i))):(i=(w.size-(w.params.slidesPerView-1)*b)/w.params.slidesPerView,w.params.roundLengths&&(i=h(i)),g()?w.slides[a].style.width=i+"px":w.slides[a].style.height=i+"px"),w.slides[a].swiperSlideSize=i,w.slidesSizesGrid.push(i),w.params.centeredSlides?(c=c+i/2+d/2+b,0===a&&(c=c-w.size/2-b),Math.abs(c)<.001&&(c=0),e%w.params.slidesPerGroup===0&&w.snapGrid.push(c),w.slidesGrid.push(c)):(e%w.params.slidesPerGroup===0&&w.snapGrid.push(c),w.slidesGrid.push(c),c=c+i+b),w.virtualSize+=i+b,d=i,e++)}w.virtualSize=Math.max(w.virtualSize,w.size)+w.params.slidesOffsetAfter;var q;if(w.rtl&&w.wrongRTL&&("slide"===w.params.effect||"coverflow"===w.params.effect)&&w.wrapper.css({width:w.virtualSize+w.params.spaceBetween+"px"}),(!w.support.flexbox||w.params.setWrapperSize)&&(g()?w.wrapper.css({width:w.virtualSize+w.params.spaceBetween+"px"}):w.wrapper.css({height:w.virtualSize+w.params.spaceBetween+"px"})),w.params.slidesPerColumn>1&&(w.virtualSize=(i+w.params.spaceBetween)*f,w.virtualSize=Math.ceil(w.virtualSize/w.params.slidesPerColumn)-w.params.spaceBetween,w.wrapper.css({width:w.virtualSize+w.params.spaceBetween+"px"}),w.params.centeredSlides)){for(q=[],a=0;a<w.snapGrid.length;a++)w.snapGrid[a]<w.virtualSize+w.snapGrid[0]&&q.push(w.snapGrid[a]);w.snapGrid=q}if(!w.params.centeredSlides){for(q=[],a=0;a<w.snapGrid.length;a++)w.snapGrid[a]<=w.virtualSize-w.size&&q.push(w.snapGrid[a]);w.snapGrid=q,Math.floor(w.virtualSize-w.size)>Math.floor(w.snapGrid[w.snapGrid.length-1])&&w.snapGrid.push(w.virtualSize-w.size)}0===w.snapGrid.length&&(w.snapGrid=[0]),0!==w.params.spaceBetween&&(g()?w.rtl?w.slides.css({marginLeft:b+"px"}):w.slides.css({marginRight:b+"px"}):w.slides.css({marginBottom:b+"px"})),w.params.watchSlidesProgress&&w.updateSlidesOffset()},w.updateSlidesOffset=function(){for(var a=0;a<w.slides.length;a++)w.slides[a].swiperSlideOffset=g()?w.slides[a].offsetLeft:w.slides[a].offsetTop},w.updateSlidesProgress=function(a){if("undefined"==typeof a&&(a=w.translate||0),0!==w.slides.length){"undefined"==typeof w.slides[0].swiperSlideOffset&&w.updateSlidesOffset();var b=-a;w.rtl&&(b=a),w.slides.removeClass(w.params.slideVisibleClass);for(var c=0;c<w.slides.length;c++){var d=w.slides[c],e=(b-d.swiperSlideOffset)/(d.swiperSlideSize+w.params.spaceBetween);if(w.params.watchSlidesVisibility){var f=-(b-d.swiperSlideOffset),g=f+w.slidesSizesGrid[c],h=f>=0&&f<w.size||g>0&&g<=w.size||0>=f&&g>=w.size;h&&w.slides.eq(c).addClass(w.params.slideVisibleClass)}d.progress=w.rtl?-e:e}}},w.updateProgress=function(a){"undefined"==typeof a&&(a=w.translate||0);var b=w.maxTranslate()-w.minTranslate(),c=w.isBeginning,d=w.isEnd;0===b?(w.progress=0,w.isBeginning=w.isEnd=!0):(w.progress=(a-w.minTranslate())/b,w.isBeginning=w.progress<=0,w.isEnd=w.progress>=1),w.isBeginning&&!c&&w.emit("onReachBeginning",w),w.isEnd&&!d&&w.emit("onReachEnd",w),w.params.watchSlidesProgress&&w.updateSlidesProgress(a),w.emit("onProgress",w,w.progress)},w.updateActiveIndex=function(){var a,b,c,d=w.rtl?w.translate:-w.translate;for(b=0;b<w.slidesGrid.length;b++)"undefined"!=typeof w.slidesGrid[b+1]?d>=w.slidesGrid[b]&&d<w.slidesGrid[b+1]-(w.slidesGrid[b+1]-w.slidesGrid[b])/2?a=b:d>=w.slidesGrid[b]&&d<w.slidesGrid[b+1]&&(a=b+1):d>=w.slidesGrid[b]&&(a=b);(0>a||"undefined"==typeof a)&&(a=0),c=Math.floor(a/w.params.slidesPerGroup),c>=w.snapGrid.length&&(c=w.snapGrid.length-1),a!==w.activeIndex&&(w.snapIndex=c,w.previousIndex=w.activeIndex,w.activeIndex=a,w.updateClasses())},w.updateClasses=function(){w.slides.removeClass(w.params.slideActiveClass+" "+w.params.slideNextClass+" "+w.params.slidePrevClass);var a=w.slides.eq(w.activeIndex);if(a.addClass(w.params.slideActiveClass),a.next("."+w.params.slideClass).addClass(w.params.slideNextClass),a.prev("."+w.params.slideClass).addClass(w.params.slidePrevClass),w.bullets&&w.bullets.length>0){w.bullets.removeClass(w.params.bulletActiveClass);var b;w.params.loop?(b=Math.ceil(w.activeIndex-w.loopedSlides)/w.params.slidesPerGroup,b>w.slides.length-1-2*w.loopedSlides&&(b-=w.slides.length-2*w.loopedSlides),b>w.bullets.length-1&&(b-=w.bullets.length)):b="undefined"!=typeof w.snapIndex?w.snapIndex:w.activeIndex||0,w.paginationContainer.length>1?w.bullets.each(function(){c(this).index()===b&&c(this).addClass(w.params.bulletActiveClass)}):w.bullets.eq(b).addClass(w.params.bulletActiveClass)}w.params.loop||(w.params.prevButton&&(w.isBeginning?(c(w.params.prevButton).addClass(w.params.buttonDisabledClass),w.params.a11y&&w.a11y&&w.a11y.disable(c(w.params.prevButton))):(c(w.params.prevButton).removeClass(w.params.buttonDisabledClass),w.params.a11y&&w.a11y&&w.a11y.enable(c(w.params.prevButton)))),w.params.nextButton&&(w.isEnd?(c(w.params.nextButton).addClass(w.params.buttonDisabledClass),w.params.a11y&&w.a11y&&w.a11y.disable(c(w.params.nextButton))):(c(w.params.nextButton).removeClass(w.params.buttonDisabledClass),w.params.a11y&&w.a11y&&w.a11y.enable(c(w.params.nextButton)))))},w.updatePagination=function(){if(w.params.pagination&&w.paginationContainer&&w.paginationContainer.length>0){for(var a="",b=w.params.loop?Math.ceil((w.slides.length-2*w.loopedSlides)/w.params.slidesPerGroup):w.snapGrid.length,c=0;b>c;c++)a+=w.params.paginationBulletRender?w.params.paginationBulletRender(c,w.params.bulletClass):"<"+w.params.paginationElement+' class="'+w.params.bulletClass+'"></'+w.params.paginationElement+">";w.paginationContainer.html(a),w.bullets=w.paginationContainer.find("."+w.params.bulletClass),w.params.paginationClickable&&w.params.a11y&&w.a11y&&w.a11y.initPagination()}},w.update=function(a){function b(){d=Math.min(Math.max(w.translate,w.maxTranslate()),w.minTranslate()),w.setWrapperTranslate(d),w.updateActiveIndex(),w.updateClasses()}if(w.updateContainerSize(),w.updateSlidesSize(),w.updateProgress(),w.updatePagination(),w.updateClasses(),w.params.scrollbar&&w.scrollbar&&w.scrollbar.set(),a){var c,d;w.controller&&w.controller.spline&&(w.controller.spline=void 0),w.params.freeMode?(b(),w.params.autoHeight&&w.updateAutoHeight()):(c=("auto"===w.params.slidesPerView||w.params.slidesPerView>1)&&w.isEnd&&!w.params.centeredSlides?w.slideTo(w.slides.length-1,0,!1,!0):w.slideTo(w.activeIndex,0,!1,!0),c||b())}else w.params.autoHeight&&w.updateAutoHeight()},w.onResize=function(a){w.params.breakpoints&&w.setBreakpoint();var b=w.params.allowSwipeToPrev,c=w.params.allowSwipeToNext;if(w.params.allowSwipeToPrev=w.params.allowSwipeToNext=!0,w.updateContainerSize(),w.updateSlidesSize(),("auto"===w.params.slidesPerView||w.params.freeMode||a)&&w.updatePagination(),w.params.scrollbar&&w.scrollbar&&w.scrollbar.set(),w.controller&&w.controller.spline&&(w.controller.spline=void 0),w.params.freeMode){var d=Math.min(Math.max(w.translate,w.maxTranslate()),w.minTranslate());w.setWrapperTranslate(d),w.updateActiveIndex(),w.updateClasses(),w.params.autoHeight&&w.updateAutoHeight()}else w.updateClasses(),("auto"===w.params.slidesPerView||w.params.slidesPerView>1)&&w.isEnd&&!w.params.centeredSlides?w.slideTo(w.slides.length-1,0,!1,!0):w.slideTo(w.activeIndex,0,!1,!0);w.params.allowSwipeToPrev=b,w.params.allowSwipeToNext=c};var x=["mousedown","mousemove","mouseup"];window.navigator.pointerEnabled?x=["pointerdown","pointermove","pointerup"]:window.navigator.msPointerEnabled&&(x=["MSPointerDown","MSPointerMove","MSPointerUp"]),w.touchEvents={start:w.support.touch||!w.params.simulateTouch?"touchstart":x[0],move:w.support.touch||!w.params.simulateTouch?"touchmove":x[1],end:w.support.touch||!w.params.simulateTouch?"touchend":x[2]},(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&("container"===w.params.touchEventsTarget?w.container:w.wrapper).addClass("swiper-wp8-"+w.params.direction),w.initEvents=function(a){var b=a?"off":"on",d=a?"removeEventListener":"addEventListener",e="container"===w.params.touchEventsTarget?w.container[0]:w.wrapper[0],g=w.support.touch?e:document,h=w.params.nested?!0:!1;w.browser.ie?(e[d](w.touchEvents.start,w.onTouchStart,!1),g[d](w.touchEvents.move,w.onTouchMove,h),g[d](w.touchEvents.end,w.onTouchEnd,!1)):(w.support.touch&&(e[d](w.touchEvents.start,w.onTouchStart,!1),e[d](w.touchEvents.move,w.onTouchMove,h),e[d](w.touchEvents.end,w.onTouchEnd,!1)),!f.simulateTouch||w.device.ios||w.device.android||(e[d]("mousedown",w.onTouchStart,!1),document[d]("mousemove",w.onTouchMove,h),document[d]("mouseup",w.onTouchEnd,!1))),window[d]("resize",w.onResize),w.params.nextButton&&(c(w.params.nextButton)[b]("click",w.onClickNext),w.params.a11y&&w.a11y&&c(w.params.nextButton)[b]("keydown",w.a11y.onEnterKey)),w.params.prevButton&&(c(w.params.prevButton)[b]("click",w.onClickPrev),w.params.a11y&&w.a11y&&c(w.params.prevButton)[b]("keydown",w.a11y.onEnterKey)),w.params.pagination&&w.params.paginationClickable&&(c(w.paginationContainer)[b]("click","."+w.params.bulletClass,w.onClickIndex),w.params.a11y&&w.a11y&&c(w.paginationContainer)[b]("keydown","."+w.params.bulletClass,w.a11y.onEnterKey)),(w.params.preventClicks||w.params.preventClicksPropagation)&&e[d]("click",w.preventClicks,!0)},w.attachEvents=function(a){w.initEvents()},w.detachEvents=function(){w.initEvents(!0)},w.allowClick=!0,w.preventClicks=function(a){w.allowClick||(w.params.preventClicks&&a.preventDefault(),w.params.preventClicksPropagation&&w.animating&&(a.stopPropagation(),a.stopImmediatePropagation()))},w.onClickNext=function(a){a.preventDefault(),(!w.isEnd||w.params.loop)&&w.slideNext()},w.onClickPrev=function(a){a.preventDefault(),(!w.isBeginning||w.params.loop)&&w.slidePrev()},w.onClickIndex=function(a){a.preventDefault();var b=c(this).index()*w.params.slidesPerGroup;w.params.loop&&(b+=w.loopedSlides),
w.slideTo(b)},w.updateClickedSlide=function(a){var b=j(a,"."+w.params.slideClass),d=!1;if(b)for(var e=0;e<w.slides.length;e++)w.slides[e]===b&&(d=!0);if(!b||!d)return w.clickedSlide=void 0,void(w.clickedIndex=void 0);if(w.clickedSlide=b,w.clickedIndex=c(b).index(),w.params.slideToClickedSlide&&void 0!==w.clickedIndex&&w.clickedIndex!==w.activeIndex){var f,g=w.clickedIndex;if(w.params.loop){if(w.animating)return;f=c(w.clickedSlide).attr("data-swiper-slide-index"),w.params.centeredSlides?g<w.loopedSlides-w.params.slidesPerView/2||g>w.slides.length-w.loopedSlides+w.params.slidesPerView/2?(w.fixLoop(),g=w.wrapper.children("."+w.params.slideClass+'[data-swiper-slide-index="'+f+'"]:not(.swiper-slide-duplicate)').eq(0).index(),setTimeout(function(){w.slideTo(g)},0)):w.slideTo(g):g>w.slides.length-w.params.slidesPerView?(w.fixLoop(),g=w.wrapper.children("."+w.params.slideClass+'[data-swiper-slide-index="'+f+'"]:not(.swiper-slide-duplicate)').eq(0).index(),setTimeout(function(){w.slideTo(g)},0)):w.slideTo(g)}else w.slideTo(g)}};var y,z,A,B,C,D,E,F,G,H,I="input, select, textarea, button",J=Date.now(),K=[];w.animating=!1,w.touches={startX:0,startY:0,currentX:0,currentY:0,diff:0};var L,M;if(w.onTouchStart=function(a){if(a.originalEvent&&(a=a.originalEvent),L="touchstart"===a.type,L||!("which"in a)||3!==a.which){if(w.params.noSwiping&&j(a,"."+w.params.noSwipingClass))return void(w.allowClick=!0);if(!w.params.swipeHandler||j(a,w.params.swipeHandler)){var b=w.touches.currentX="touchstart"===a.type?a.targetTouches[0].pageX:a.pageX,d=w.touches.currentY="touchstart"===a.type?a.targetTouches[0].pageY:a.pageY;if(!(w.device.ios&&w.params.iOSEdgeSwipeDetection&&b<=w.params.iOSEdgeSwipeThreshold)){if(y=!0,z=!1,A=!0,C=void 0,M=void 0,w.touches.startX=b,w.touches.startY=d,B=Date.now(),w.allowClick=!0,w.updateContainerSize(),w.swipeDirection=void 0,w.params.threshold>0&&(F=!1),"touchstart"!==a.type){var e=!0;c(a.target).is(I)&&(e=!1),document.activeElement&&c(document.activeElement).is(I)&&document.activeElement.blur(),e&&a.preventDefault()}w.emit("onTouchStart",w,a)}}}},w.onTouchMove=function(a){if(a.originalEvent&&(a=a.originalEvent),!(L&&"mousemove"===a.type||a.preventedByNestedSwiper)){if(w.params.onlyExternal)return w.allowClick=!1,void(y&&(w.touches.startX=w.touches.currentX="touchmove"===a.type?a.targetTouches[0].pageX:a.pageX,w.touches.startY=w.touches.currentY="touchmove"===a.type?a.targetTouches[0].pageY:a.pageY,B=Date.now()));if(L&&document.activeElement&&a.target===document.activeElement&&c(a.target).is(I))return z=!0,void(w.allowClick=!1);if(A&&w.emit("onTouchMove",w,a),!(a.targetTouches&&a.targetTouches.length>1)){if(w.touches.currentX="touchmove"===a.type?a.targetTouches[0].pageX:a.pageX,w.touches.currentY="touchmove"===a.type?a.targetTouches[0].pageY:a.pageY,"undefined"==typeof C){var b=180*Math.atan2(Math.abs(w.touches.currentY-w.touches.startY),Math.abs(w.touches.currentX-w.touches.startX))/Math.PI;C=g()?b>w.params.touchAngle:90-b>w.params.touchAngle}if(C&&w.emit("onTouchMoveOpposite",w,a),"undefined"==typeof M&&w.browser.ieTouch&&(w.touches.currentX!==w.touches.startX||w.touches.currentY!==w.touches.startY)&&(M=!0),y){if(C)return void(y=!1);if(M||!w.browser.ieTouch){w.allowClick=!1,w.emit("onSliderMove",w,a),a.preventDefault(),w.params.touchMoveStopPropagation&&!w.params.nested&&a.stopPropagation(),z||(f.loop&&w.fixLoop(),E=w.getWrapperTranslate(),w.setWrapperTransition(0),w.animating&&w.wrapper.trigger("webkitTransitionEnd transitionend oTransitionEnd MSTransitionEnd msTransitionEnd"),w.params.autoplay&&w.autoplaying&&(w.params.autoplayDisableOnInteraction?w.stopAutoplay():w.pauseAutoplay()),H=!1,w.params.grabCursor&&(w.container[0].style.cursor="move",w.container[0].style.cursor="-webkit-grabbing",w.container[0].style.cursor="-moz-grabbin",w.container[0].style.cursor="grabbing")),z=!0;var d=w.touches.diff=g()?w.touches.currentX-w.touches.startX:w.touches.currentY-w.touches.startY;d*=w.params.touchRatio,w.rtl&&(d=-d),w.swipeDirection=d>0?"prev":"next",D=d+E;var e=!0;if(d>0&&D>w.minTranslate()?(e=!1,w.params.resistance&&(D=w.minTranslate()-1+Math.pow(-w.minTranslate()+E+d,w.params.resistanceRatio))):0>d&&D<w.maxTranslate()&&(e=!1,w.params.resistance&&(D=w.maxTranslate()+1-Math.pow(w.maxTranslate()-E-d,w.params.resistanceRatio))),e&&(a.preventedByNestedSwiper=!0),!w.params.allowSwipeToNext&&"next"===w.swipeDirection&&E>D&&(D=E),!w.params.allowSwipeToPrev&&"prev"===w.swipeDirection&&D>E&&(D=E),w.params.followFinger){if(w.params.threshold>0){if(!(Math.abs(d)>w.params.threshold||F))return void(D=E);if(!F)return F=!0,w.touches.startX=w.touches.currentX,w.touches.startY=w.touches.currentY,D=E,void(w.touches.diff=g()?w.touches.currentX-w.touches.startX:w.touches.currentY-w.touches.startY)}(w.params.freeMode||w.params.watchSlidesProgress)&&w.updateActiveIndex(),w.params.freeMode&&(0===K.length&&K.push({position:w.touches[g()?"startX":"startY"],time:B}),K.push({position:w.touches[g()?"currentX":"currentY"],time:(new window.Date).getTime()})),w.updateProgress(D),w.setWrapperTranslate(D)}}}}}},w.onTouchEnd=function(a){if(a.originalEvent&&(a=a.originalEvent),A&&w.emit("onTouchEnd",w,a),A=!1,y){w.params.grabCursor&&z&&y&&(w.container[0].style.cursor="move",w.container[0].style.cursor="-webkit-grab",w.container[0].style.cursor="-moz-grab",w.container[0].style.cursor="grab");var b=Date.now(),d=b-B;if(w.allowClick&&(w.updateClickedSlide(a),w.emit("onTap",w,a),300>d&&b-J>300&&(G&&clearTimeout(G),G=setTimeout(function(){w&&(w.params.paginationHide&&w.paginationContainer.length>0&&!c(a.target).hasClass(w.params.bulletClass)&&w.paginationContainer.toggleClass(w.params.paginationHiddenClass),w.emit("onClick",w,a))},300)),300>d&&300>b-J&&(G&&clearTimeout(G),w.emit("onDoubleTap",w,a))),J=Date.now(),setTimeout(function(){w&&(w.allowClick=!0)},0),!y||!z||!w.swipeDirection||0===w.touches.diff||D===E)return void(y=z=!1);y=z=!1;var e;if(e=w.params.followFinger?w.rtl?w.translate:-w.translate:-D,w.params.freeMode){if(e<-w.minTranslate())return void w.slideTo(w.activeIndex);if(e>-w.maxTranslate())return void(w.slides.length<w.snapGrid.length?w.slideTo(w.snapGrid.length-1):w.slideTo(w.slides.length-1));if(w.params.freeModeMomentum){if(K.length>1){var f=K.pop(),g=K.pop(),h=f.position-g.position,i=f.time-g.time;w.velocity=h/i,w.velocity=w.velocity/2,Math.abs(w.velocity)<w.params.freeModeMinimumVelocity&&(w.velocity=0),(i>150||(new window.Date).getTime()-f.time>300)&&(w.velocity=0)}else w.velocity=0;K.length=0;var j=1e3*w.params.freeModeMomentumRatio,k=w.velocity*j,l=w.translate+k;w.rtl&&(l=-l);var m,n=!1,o=20*Math.abs(w.velocity)*w.params.freeModeMomentumBounceRatio;if(l<w.maxTranslate())w.params.freeModeMomentumBounce?(l+w.maxTranslate()<-o&&(l=w.maxTranslate()-o),m=w.maxTranslate(),n=!0,H=!0):l=w.maxTranslate();else if(l>w.minTranslate())w.params.freeModeMomentumBounce?(l-w.minTranslate()>o&&(l=w.minTranslate()+o),m=w.minTranslate(),n=!0,H=!0):l=w.minTranslate();else if(w.params.freeModeSticky){var p,q=0;for(q=0;q<w.snapGrid.length;q+=1)if(w.snapGrid[q]>-l){p=q;break}l=Math.abs(w.snapGrid[p]-l)<Math.abs(w.snapGrid[p-1]-l)||"next"===w.swipeDirection?w.snapGrid[p]:w.snapGrid[p-1],w.rtl||(l=-l)}if(0!==w.velocity)j=w.rtl?Math.abs((-l-w.translate)/w.velocity):Math.abs((l-w.translate)/w.velocity);else if(w.params.freeModeSticky)return void w.slideReset();w.params.freeModeMomentumBounce&&n?(w.updateProgress(m),w.setWrapperTransition(j),w.setWrapperTranslate(l),w.onTransitionStart(),w.animating=!0,w.wrapper.transitionEnd(function(){w&&H&&(w.emit("onMomentumBounce",w),w.setWrapperTransition(w.params.speed),w.setWrapperTranslate(m),w.wrapper.transitionEnd(function(){w&&w.onTransitionEnd()}))})):w.velocity?(w.updateProgress(l),w.setWrapperTransition(j),w.setWrapperTranslate(l),w.onTransitionStart(),w.animating||(w.animating=!0,w.wrapper.transitionEnd(function(){w&&w.onTransitionEnd()}))):w.updateProgress(l),w.updateActiveIndex()}return void((!w.params.freeModeMomentum||d>=w.params.longSwipesMs)&&(w.updateProgress(),w.updateActiveIndex()))}var r,s=0,t=w.slidesSizesGrid[0];for(r=0;r<w.slidesGrid.length;r+=w.params.slidesPerGroup)"undefined"!=typeof w.slidesGrid[r+w.params.slidesPerGroup]?e>=w.slidesGrid[r]&&e<w.slidesGrid[r+w.params.slidesPerGroup]&&(s=r,t=w.slidesGrid[r+w.params.slidesPerGroup]-w.slidesGrid[r]):e>=w.slidesGrid[r]&&(s=r,t=w.slidesGrid[w.slidesGrid.length-1]-w.slidesGrid[w.slidesGrid.length-2]);var u=(e-w.slidesGrid[s])/t;if(d>w.params.longSwipesMs){if(!w.params.longSwipes)return void w.slideTo(w.activeIndex);"next"===w.swipeDirection&&(u>=w.params.longSwipesRatio?w.slideTo(s+w.params.slidesPerGroup):w.slideTo(s)),"prev"===w.swipeDirection&&(u>1-w.params.longSwipesRatio?w.slideTo(s+w.params.slidesPerGroup):w.slideTo(s))}else{if(!w.params.shortSwipes)return void w.slideTo(w.activeIndex);"next"===w.swipeDirection&&w.slideTo(s+w.params.slidesPerGroup),"prev"===w.swipeDirection&&w.slideTo(s)}}},w._slideTo=function(a,b){return w.slideTo(a,b,!0,!0)},w.slideTo=function(a,b,c,d){"undefined"==typeof c&&(c=!0),"undefined"==typeof a&&(a=0),0>a&&(a=0),w.snapIndex=Math.floor(a/w.params.slidesPerGroup),w.snapIndex>=w.snapGrid.length&&(w.snapIndex=w.snapGrid.length-1);var e=-w.snapGrid[w.snapIndex];w.params.autoplay&&w.autoplaying&&(d||!w.params.autoplayDisableOnInteraction?w.pauseAutoplay(b):w.stopAutoplay()),w.updateProgress(e);for(var f=0;f<w.slidesGrid.length;f++)-Math.floor(100*e)>=Math.floor(100*w.slidesGrid[f])&&(a=f);return!w.params.allowSwipeToNext&&e<w.translate&&e<w.minTranslate()?!1:!w.params.allowSwipeToPrev&&e>w.translate&&e>w.maxTranslate()&&(w.activeIndex||0)!==a?!1:("undefined"==typeof b&&(b=w.params.speed),w.previousIndex=w.activeIndex||0,w.activeIndex=a,w.rtl&&-e===w.translate||!w.rtl&&e===w.translate?(w.params.autoHeight&&w.updateAutoHeight(),w.updateClasses(),"slide"!==w.params.effect&&w.setWrapperTranslate(e),!1):(w.updateClasses(),w.onTransitionStart(c),0===b?(w.setWrapperTranslate(e),w.setWrapperTransition(0),w.onTransitionEnd(c)):(w.setWrapperTranslate(e),w.setWrapperTransition(b),w.animating||(w.animating=!0,w.wrapper.transitionEnd(function(){w&&w.onTransitionEnd(c)}))),!0))},w.onTransitionStart=function(a){"undefined"==typeof a&&(a=!0),w.params.autoHeight&&w.updateAutoHeight(),w.lazy&&w.lazy.onTransitionStart(),a&&(w.emit("onTransitionStart",w),w.activeIndex!==w.previousIndex&&(w.emit("onSlideChangeStart",w),w.activeIndex>w.previousIndex?w.emit("onSlideNextStart",w):w.emit("onSlidePrevStart",w)))},w.onTransitionEnd=function(a){w.animating=!1,w.setWrapperTransition(0),"undefined"==typeof a&&(a=!0),w.lazy&&w.lazy.onTransitionEnd(),a&&(w.emit("onTransitionEnd",w),w.activeIndex!==w.previousIndex&&(w.emit("onSlideChangeEnd",w),w.activeIndex>w.previousIndex?w.emit("onSlideNextEnd",w):w.emit("onSlidePrevEnd",w))),w.params.hashnav&&w.hashnav&&w.hashnav.setHash()},w.slideNext=function(a,b,c){return w.params.loop?w.animating?!1:(w.fixLoop(),w.container[0].clientLeft,w.slideTo(w.activeIndex+w.params.slidesPerGroup,b,a,c)):w.slideTo(w.activeIndex+w.params.slidesPerGroup,b,a,c)},w._slideNext=function(a){return w.slideNext(!0,a,!0)},w.slidePrev=function(a,b,c){return w.params.loop?w.animating?!1:(w.fixLoop(),w.container[0].clientLeft,w.slideTo(w.activeIndex-1,b,a,c)):w.slideTo(w.activeIndex-1,b,a,c)},w._slidePrev=function(a){return w.slidePrev(!0,a,!0)},w.slideReset=function(a,b,c){return w.slideTo(w.activeIndex,b,a)},w.setWrapperTransition=function(a,b){w.wrapper.transition(a),"slide"!==w.params.effect&&w.effects[w.params.effect]&&w.effects[w.params.effect].setTransition(a),w.params.parallax&&w.parallax&&w.parallax.setTransition(a),w.params.scrollbar&&w.scrollbar&&w.scrollbar.setTransition(a),w.params.control&&w.controller&&w.controller.setTransition(a,b),w.emit("onSetTransition",w,a)},w.setWrapperTranslate=function(a,b,c){var d=0,e=0,f=0;g()?d=w.rtl?-a:a:e=a,w.params.roundLengths&&(d=h(d),e=h(e)),w.params.virtualTranslate||(w.support.transforms3d?w.wrapper.transform("translate3d("+d+"px, "+e+"px, "+f+"px)"):w.wrapper.transform("translate("+d+"px, "+e+"px)")),w.translate=g()?d:e;var i,j=w.maxTranslate()-w.minTranslate();i=0===j?0:(a-w.minTranslate())/j,i!==w.progress&&w.updateProgress(a),b&&w.updateActiveIndex(),"slide"!==w.params.effect&&w.effects[w.params.effect]&&w.effects[w.params.effect].setTranslate(w.translate),w.params.parallax&&w.parallax&&w.parallax.setTranslate(w.translate),w.params.scrollbar&&w.scrollbar&&w.scrollbar.setTranslate(w.translate),w.params.control&&w.controller&&w.controller.setTranslate(w.translate,c),w.emit("onSetTranslate",w,w.translate)},w.getTranslate=function(a,b){var c,d,e,f;return"undefined"==typeof b&&(b="x"),w.params.virtualTranslate?w.rtl?-w.translate:w.translate:(e=window.getComputedStyle(a,null),window.WebKitCSSMatrix?(d=e.transform||e.webkitTransform,d.split(",").length>6&&(d=d.split(", ").map(function(a){return a.replace(",",".")}).join(", ")),f=new window.WebKitCSSMatrix("none"===d?"":d)):(f=e.MozTransform||e.OTransform||e.MsTransform||e.msTransform||e.transform||e.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),c=f.toString().split(",")),"x"===b&&(d=window.WebKitCSSMatrix?f.m41:16===c.length?parseFloat(c[12]):parseFloat(c[4])),"y"===b&&(d=window.WebKitCSSMatrix?f.m42:16===c.length?parseFloat(c[13]):parseFloat(c[5])),w.rtl&&d&&(d=-d),d||0)},w.getWrapperTranslate=function(a){return"undefined"==typeof a&&(a=g()?"x":"y"),w.getTranslate(w.wrapper[0],a)},w.observers=[],w.initObservers=function(){if(w.params.observeParents)for(var a=w.container.parents(),b=0;b<a.length;b++)k(a[b]);k(w.container[0],{childList:!1}),k(w.wrapper[0],{attributes:!1})},w.disconnectObservers=function(){for(var a=0;a<w.observers.length;a++)w.observers[a].disconnect();w.observers=[]},w.createLoop=function(){w.wrapper.children("."+w.params.slideClass+"."+w.params.slideDuplicateClass).remove();var a=w.wrapper.children("."+w.params.slideClass);"auto"!==w.params.slidesPerView||w.params.loopedSlides||(w.params.loopedSlides=a.length),w.loopedSlides=parseInt(w.params.loopedSlides||w.params.slidesPerView,10),w.loopedSlides=w.loopedSlides+w.params.loopAdditionalSlides,w.loopedSlides>a.length&&(w.loopedSlides=a.length);var b,d=[],e=[];for(a.each(function(b,f){var g=c(this);b<w.loopedSlides&&e.push(f),b<a.length&&b>=a.length-w.loopedSlides&&d.push(f),g.attr("data-swiper-slide-index",b)}),b=0;b<e.length;b++)w.wrapper.append(c(e[b].cloneNode(!0)).addClass(w.params.slideDuplicateClass));for(b=d.length-1;b>=0;b--)w.wrapper.prepend(c(d[b].cloneNode(!0)).addClass(w.params.slideDuplicateClass))},w.destroyLoop=function(){w.wrapper.children("."+w.params.slideClass+"."+w.params.slideDuplicateClass).remove(),w.slides.removeAttr("data-swiper-slide-index")},w.fixLoop=function(){var a;w.activeIndex<w.loopedSlides?(a=w.slides.length-3*w.loopedSlides+w.activeIndex,a+=w.loopedSlides,w.slideTo(a,0,!1,!0)):("auto"===w.params.slidesPerView&&w.activeIndex>=2*w.loopedSlides||w.activeIndex>w.slides.length-2*w.params.slidesPerView)&&(a=-w.slides.length+w.activeIndex+w.loopedSlides,a+=w.loopedSlides,w.slideTo(a,0,!1,!0))},w.appendSlide=function(a){if(w.params.loop&&w.destroyLoop(),"object"==typeof a&&a.length)for(var b=0;b<a.length;b++)a[b]&&w.wrapper.append(a[b]);else w.wrapper.append(a);w.params.loop&&w.createLoop(),w.params.observer&&w.support.observer||w.update(!0)},w.prependSlide=function(a){w.params.loop&&w.destroyLoop();var b=w.activeIndex+1;if("object"==typeof a&&a.length){for(var c=0;c<a.length;c++)a[c]&&w.wrapper.prepend(a[c]);b=w.activeIndex+a.length}else w.wrapper.prepend(a);w.params.loop&&w.createLoop(),w.params.observer&&w.support.observer||w.update(!0),w.slideTo(b,0,!1)},w.removeSlide=function(a){w.params.loop&&(w.destroyLoop(),w.slides=w.wrapper.children("."+w.params.slideClass));var b,c=w.activeIndex;if("object"==typeof a&&a.length){for(var d=0;d<a.length;d++)b=a[d],w.slides[b]&&w.slides.eq(b).remove(),c>b&&c--;c=Math.max(c,0)}else b=a,w.slides[b]&&w.slides.eq(b).remove(),c>b&&c--,c=Math.max(c,0);w.params.loop&&w.createLoop(),w.params.observer&&w.support.observer||w.update(!0),w.params.loop?w.slideTo(c+w.loopedSlides,0,!1):w.slideTo(c,0,!1)},w.removeAllSlides=function(){for(var a=[],b=0;b<w.slides.length;b++)a.push(b);w.removeSlide(a)},w.effects={fade:{setTranslate:function(){for(var a=0;a<w.slides.length;a++){var b=w.slides.eq(a),c=b[0].swiperSlideOffset,d=-c;w.params.virtualTranslate||(d-=w.translate);var e=0;g()||(e=d,d=0);var f=w.params.fade.crossFade?Math.max(1-Math.abs(b[0].progress),0):1+Math.min(Math.max(b[0].progress,-1),0);b.css({opacity:f}).transform("translate3d("+d+"px, "+e+"px, 0px)")}},setTransition:function(a){if(w.slides.transition(a),w.params.virtualTranslate&&0!==a){var b=!1;w.slides.transitionEnd(function(){if(!b&&w){b=!0,w.animating=!1;for(var a=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],c=0;c<a.length;c++)w.wrapper.trigger(a[c])}})}}},cube:{setTranslate:function(){var a,b=0;w.params.cube.shadow&&(g()?(a=w.wrapper.find(".swiper-cube-shadow"),0===a.length&&(a=c('<div class="swiper-cube-shadow"></div>'),w.wrapper.append(a)),a.css({height:w.width+"px"})):(a=w.container.find(".swiper-cube-shadow"),0===a.length&&(a=c('<div class="swiper-cube-shadow"></div>'),w.container.append(a))));for(var d=0;d<w.slides.length;d++){var e=w.slides.eq(d),f=90*d,h=Math.floor(f/360);w.rtl&&(f=-f,h=Math.floor(-f/360));var i=Math.max(Math.min(e[0].progress,1),-1),j=0,k=0,l=0;d%4===0?(j=4*-h*w.size,l=0):(d-1)%4===0?(j=0,l=4*-h*w.size):(d-2)%4===0?(j=w.size+4*h*w.size,l=w.size):(d-3)%4===0&&(j=-w.size,l=3*w.size+4*w.size*h),w.rtl&&(j=-j),g()||(k=j,j=0);var m="rotateX("+(g()?0:-f)+"deg) rotateY("+(g()?f:0)+"deg) translate3d("+j+"px, "+k+"px, "+l+"px)";if(1>=i&&i>-1&&(b=90*d+90*i,w.rtl&&(b=90*-d-90*i)),e.transform(m),w.params.cube.slideShadows){var n=g()?e.find(".swiper-slide-shadow-left"):e.find(".swiper-slide-shadow-top"),o=g()?e.find(".swiper-slide-shadow-right"):e.find(".swiper-slide-shadow-bottom");0===n.length&&(n=c('<div class="swiper-slide-shadow-'+(g()?"left":"top")+'"></div>'),e.append(n)),0===o.length&&(o=c('<div class="swiper-slide-shadow-'+(g()?"right":"bottom")+'"></div>'),e.append(o)),e[0].progress,n.length&&(n[0].style.opacity=-e[0].progress),o.length&&(o[0].style.opacity=e[0].progress)}}if(w.wrapper.css({"-webkit-transform-origin":"50% 50% -"+w.size/2+"px","-moz-transform-origin":"50% 50% -"+w.size/2+"px","-ms-transform-origin":"50% 50% -"+w.size/2+"px","transform-origin":"50% 50% -"+w.size/2+"px"}),w.params.cube.shadow)if(g())a.transform("translate3d(0px, "+(w.width/2+w.params.cube.shadowOffset)+"px, "+-w.width/2+"px) rotateX(90deg) rotateZ(0deg) scale("+w.params.cube.shadowScale+")");else{var p=Math.abs(b)-90*Math.floor(Math.abs(b)/90),q=1.5-(Math.sin(2*p*Math.PI/360)/2+Math.cos(2*p*Math.PI/360)/2),r=w.params.cube.shadowScale,s=w.params.cube.shadowScale/q,t=w.params.cube.shadowOffset;a.transform("scale3d("+r+", 1, "+s+") translate3d(0px, "+(w.height/2+t)+"px, "+-w.height/2/s+"px) rotateX(-90deg)")}var u=w.isSafari||w.isUiWebView?-w.size/2:0;w.wrapper.transform("translate3d(0px,0,"+u+"px) rotateX("+(g()?0:b)+"deg) rotateY("+(g()?-b:0)+"deg)")},setTransition:function(a){w.slides.transition(a).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(a),w.params.cube.shadow&&!g()&&w.container.find(".swiper-cube-shadow").transition(a)}},coverflow:{setTranslate:function(){for(var a=w.translate,b=g()?-a+w.width/2:-a+w.height/2,d=g()?w.params.coverflow.rotate:-w.params.coverflow.rotate,e=w.params.coverflow.depth,f=0,h=w.slides.length;h>f;f++){var i=w.slides.eq(f),j=w.slidesSizesGrid[f],k=i[0].swiperSlideOffset,l=(b-k-j/2)/j*w.params.coverflow.modifier,m=g()?d*l:0,n=g()?0:d*l,o=-e*Math.abs(l),p=g()?0:w.params.coverflow.stretch*l,q=g()?w.params.coverflow.stretch*l:0;Math.abs(q)<.001&&(q=0),Math.abs(p)<.001&&(p=0),Math.abs(o)<.001&&(o=0),Math.abs(m)<.001&&(m=0),Math.abs(n)<.001&&(n=0);var r="translate3d("+q+"px,"+p+"px,"+o+"px)  rotateX("+n+"deg) rotateY("+m+"deg)";if(i.transform(r),i[0].style.zIndex=-Math.abs(Math.round(l))+1,w.params.coverflow.slideShadows){var s=g()?i.find(".swiper-slide-shadow-left"):i.find(".swiper-slide-shadow-top"),t=g()?i.find(".swiper-slide-shadow-right"):i.find(".swiper-slide-shadow-bottom");0===s.length&&(s=c('<div class="swiper-slide-shadow-'+(g()?"left":"top")+'"></div>'),i.append(s)),0===t.length&&(t=c('<div class="swiper-slide-shadow-'+(g()?"right":"bottom")+'"></div>'),i.append(t)),s.length&&(s[0].style.opacity=l>0?l:0),t.length&&(t[0].style.opacity=-l>0?-l:0)}}if(w.browser.ie){var u=w.wrapper[0].style;u.perspectiveOrigin=b+"px 50%"}},setTransition:function(a){w.slides.transition(a).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(a)}}},w.lazy={initialImageLoaded:!1,loadImageInSlide:function(a,b){if("undefined"!=typeof a&&("undefined"==typeof b&&(b=!0),0!==w.slides.length)){var d=w.slides.eq(a),e=d.find(".swiper-lazy:not(.swiper-lazy-loaded):not(.swiper-lazy-loading)");!d.hasClass("swiper-lazy")||d.hasClass("swiper-lazy-loaded")||d.hasClass("swiper-lazy-loading")||(e=e.add(d[0])),0!==e.length&&e.each(function(){var a=c(this);a.addClass("swiper-lazy-loading");var e=a.attr("data-background"),f=a.attr("data-src"),g=a.attr("data-srcset");w.loadImage(a[0],f||e,g,!1,function(){if(e?(a.css("background-image","url("+e+")"),a.removeAttr("data-background")):(g&&(a.attr("srcset",g),a.removeAttr("data-srcset")),f&&(a.attr("src",f),a.removeAttr("data-src"))),a.addClass("swiper-lazy-loaded").removeClass("swiper-lazy-loading"),d.find(".swiper-lazy-preloader, .preloader").remove(),w.params.loop&&b){var c=d.attr("data-swiper-slide-index");if(d.hasClass(w.params.slideDuplicateClass)){var h=w.wrapper.children('[data-swiper-slide-index="'+c+'"]:not(.'+w.params.slideDuplicateClass+")");w.lazy.loadImageInSlide(h.index(),!1)}else{var i=w.wrapper.children("."+w.params.slideDuplicateClass+'[data-swiper-slide-index="'+c+'"]');w.lazy.loadImageInSlide(i.index(),!1)}}w.emit("onLazyImageReady",w,d[0],a[0])}),w.emit("onLazyImageLoad",w,d[0],a[0])})}},load:function(){var a;if(w.params.watchSlidesVisibility)w.wrapper.children("."+w.params.slideVisibleClass).each(function(){w.lazy.loadImageInSlide(c(this).index())});else if(w.params.slidesPerView>1)for(a=w.activeIndex;a<w.activeIndex+w.params.slidesPerView;a++)w.slides[a]&&w.lazy.loadImageInSlide(a);else w.lazy.loadImageInSlide(w.activeIndex);if(w.params.lazyLoadingInPrevNext)if(w.params.slidesPerView>1){for(a=w.activeIndex+w.params.slidesPerView;a<w.activeIndex+w.params.slidesPerView+w.params.slidesPerView;a++)w.slides[a]&&w.lazy.loadImageInSlide(a);for(a=w.activeIndex-w.params.slidesPerView;a<w.activeIndex;a++)w.slides[a]&&w.lazy.loadImageInSlide(a)}else{var b=w.wrapper.children("."+w.params.slideNextClass);b.length>0&&w.lazy.loadImageInSlide(b.index());var d=w.wrapper.children("."+w.params.slidePrevClass);d.length>0&&w.lazy.loadImageInSlide(d.index())}},onTransitionStart:function(){w.params.lazyLoading&&(w.params.lazyLoadingOnTransitionStart||!w.params.lazyLoadingOnTransitionStart&&!w.lazy.initialImageLoaded)&&w.lazy.load()},onTransitionEnd:function(){w.params.lazyLoading&&!w.params.lazyLoadingOnTransitionStart&&w.lazy.load()}},w.scrollbar={isTouched:!1,setDragPosition:function(a){var b=w.scrollbar,c=g()?"touchstart"===a.type||"touchmove"===a.type?a.targetTouches[0].pageX:a.pageX||a.clientX:"touchstart"===a.type||"touchmove"===a.type?a.targetTouches[0].pageY:a.pageY||a.clientY,d=c-b.track.offset()[g()?"left":"top"]-b.dragSize/2,e=-w.minTranslate()*b.moveDivider,f=-w.maxTranslate()*b.moveDivider;e>d?d=e:d>f&&(d=f),d=-d/b.moveDivider,w.updateProgress(d),w.setWrapperTranslate(d,!0)},dragStart:function(a){var b=w.scrollbar;b.isTouched=!0,a.preventDefault(),a.stopPropagation(),b.setDragPosition(a),clearTimeout(b.dragTimeout),b.track.transition(0),w.params.scrollbarHide&&b.track.css("opacity",1),w.wrapper.transition(100),b.drag.transition(100),w.emit("onScrollbarDragStart",w)},dragMove:function(a){var b=w.scrollbar;b.isTouched&&(a.preventDefault?a.preventDefault():a.returnValue=!1,b.setDragPosition(a),w.wrapper.transition(0),b.track.transition(0),b.drag.transition(0),w.emit("onScrollbarDragMove",w))},dragEnd:function(a){var b=w.scrollbar;b.isTouched&&(b.isTouched=!1,w.params.scrollbarHide&&(clearTimeout(b.dragTimeout),b.dragTimeout=setTimeout(function(){b.track.css("opacity",0),b.track.transition(400)},1e3)),w.emit("onScrollbarDragEnd",w),w.params.scrollbarSnapOnRelease&&w.slideReset())},enableDraggable:function(){var a=w.scrollbar,b=w.support.touch?a.track:document;c(a.track).on(w.touchEvents.start,a.dragStart),c(b).on(w.touchEvents.move,a.dragMove),c(b).on(w.touchEvents.end,a.dragEnd)},disableDraggable:function(){var a=w.scrollbar,b=w.support.touch?a.track:document;c(a.track).off(w.touchEvents.start,a.dragStart),c(b).off(w.touchEvents.move,a.dragMove),c(b).off(w.touchEvents.end,a.dragEnd)},set:function(){if(w.params.scrollbar){var a=w.scrollbar;a.track=c(w.params.scrollbar),a.drag=a.track.find(".swiper-scrollbar-drag"),0===a.drag.length&&(a.drag=c('<div class="swiper-scrollbar-drag"></div>'),a.track.append(a.drag)),a.drag[0].style.width="",a.drag[0].style.height="",a.trackSize=g()?a.track[0].offsetWidth:a.track[0].offsetHeight,a.divider=w.size/w.virtualSize,a.moveDivider=a.divider*(a.trackSize/w.size),a.dragSize=a.trackSize*a.divider,g()?a.drag[0].style.width=a.dragSize+"px":a.drag[0].style.height=a.dragSize+"px",a.divider>=1?a.track[0].style.display="none":a.track[0].style.display="",w.params.scrollbarHide&&(a.track[0].style.opacity=0)}},setTranslate:function(){if(w.params.scrollbar){var a,b=w.scrollbar,c=(w.translate||0,b.dragSize);a=(b.trackSize-b.dragSize)*w.progress,w.rtl&&g()?(a=-a,a>0?(c=b.dragSize-a,a=0):-a+b.dragSize>b.trackSize&&(c=b.trackSize+a)):0>a?(c=b.dragSize+a,a=0):a+b.dragSize>b.trackSize&&(c=b.trackSize-a),g()?(w.support.transforms3d?b.drag.transform("translate3d("+a+"px, 0, 0)"):b.drag.transform("translateX("+a+"px)"),b.drag[0].style.width=c+"px"):(w.support.transforms3d?b.drag.transform("translate3d(0px, "+a+"px, 0)"):b.drag.transform("translateY("+a+"px)"),b.drag[0].style.height=c+"px"),w.params.scrollbarHide&&(clearTimeout(b.timeout),b.track[0].style.opacity=1,b.timeout=setTimeout(function(){b.track[0].style.opacity=0,b.track.transition(400)},1e3))}},setTransition:function(a){w.params.scrollbar&&w.scrollbar.drag.transition(a)}},w.controller={LinearSpline:function(a,b){this.x=a,this.y=b,this.lastIndex=a.length-1;var c,d;this.x.length,this.interpolate=function(a){return a?(d=e(this.x,a),c=d-1,(a-this.x[c])*(this.y[d]-this.y[c])/(this.x[d]-this.x[c])+this.y[c]):0};var e=function(){var a,b,c;return function(d,e){for(b=-1,a=d.length;a-b>1;)d[c=a+b>>1]<=e?b=c:a=c;return a}}()},getInterpolateFunction:function(a){w.controller.spline||(w.controller.spline=w.params.loop?new w.controller.LinearSpline(w.slidesGrid,a.slidesGrid):new w.controller.LinearSpline(w.snapGrid,a.snapGrid))},setTranslate:function(a,b){function c(b){a=b.rtl&&"horizontal"===b.params.direction?-w.translate:w.translate,"slide"===w.params.controlBy&&(w.controller.getInterpolateFunction(b),f=-w.controller.spline.interpolate(-a)),f&&"container"!==w.params.controlBy||(e=(b.maxTranslate()-b.minTranslate())/(w.maxTranslate()-w.minTranslate()),f=(a-w.minTranslate())*e+b.minTranslate()),w.params.controlInverse&&(f=b.maxTranslate()-f),b.updateProgress(f),b.setWrapperTranslate(f,!1,w),b.updateActiveIndex()}var e,f,g=w.params.control;if(w.isArray(g))for(var h=0;h<g.length;h++)g[h]!==b&&g[h]instanceof d&&c(g[h]);else g instanceof d&&b!==g&&c(g)},setTransition:function(a,b){function c(b){b.setWrapperTransition(a,w),0!==a&&(b.onTransitionStart(),b.wrapper.transitionEnd(function(){f&&(b.params.loop&&"slide"===w.params.controlBy&&b.fixLoop(),b.onTransitionEnd())}))}var e,f=w.params.control;if(w.isArray(f))for(e=0;e<f.length;e++)f[e]!==b&&f[e]instanceof d&&c(f[e]);else f instanceof d&&b!==f&&c(f)}},w.hashnav={init:function(){if(w.params.hashnav){w.hashnav.initialized=!0;var a=document.location.hash.replace("#","");if(a)for(var b=0,c=0,d=w.slides.length;d>c;c++){var e=w.slides.eq(c),f=e.attr("data-hash");if(f===a&&!e.hasClass(w.params.slideDuplicateClass)){var g=e.index();w.slideTo(g,b,w.params.runCallbacksOnInit,!0)}}}},setHash:function(){w.hashnav.initialized&&w.params.hashnav&&(document.location.hash=w.slides.eq(w.activeIndex).attr("data-hash")||"")}},w.disableKeyboardControl=function(){w.params.keyboardControl=!1,c(document).off("keydown",l)},w.enableKeyboardControl=function(){w.params.keyboardControl=!0,c(document).on("keydown",l)},w.mousewheel={event:!1,lastScrollTime:(new window.Date).getTime()},w.params.mousewheelControl){try{new window.WheelEvent("wheel"),w.mousewheel.event="wheel"}catch(N){}w.mousewheel.event||void 0===document.onmousewheel||(w.mousewheel.event="mousewheel"),w.mousewheel.event||(w.mousewheel.event="DOMMouseScroll")}w.disableMousewheelControl=function(){return w.mousewheel.event?(w.container.off(w.mousewheel.event,m),!0):!1},w.enableMousewheelControl=function(){return w.mousewheel.event?(w.container.on(w.mousewheel.event,m),!0):!1},w.parallax={setTranslate:function(){w.container.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){n(this,w.progress)}),w.slides.each(function(){var a=c(this);a.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var b=Math.min(Math.max(a[0].progress,-1),1);n(this,b)})})},setTransition:function(a){"undefined"==typeof a&&(a=w.params.speed),w.container.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var b=c(this),d=parseInt(b.attr("data-swiper-parallax-duration"),10)||a;0===a&&(d=0),b.transition(d)})}},w._plugins=[];for(var O in w.plugins){var P=w.plugins[O](w,w.params[O]);P&&w._plugins.push(P)}return w.callPlugins=function(a){for(var b=0;b<w._plugins.length;b++)a in w._plugins[b]&&w._plugins[b][a](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},w.emitterEventListeners={},w.emit=function(a){w.params[a]&&w.params[a](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);var b;if(w.emitterEventListeners[a])for(b=0;b<w.emitterEventListeners[a].length;b++)w.emitterEventListeners[a][b](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);w.callPlugins&&w.callPlugins(a,arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},w.on=function(a,b){return a=o(a),w.emitterEventListeners[a]||(w.emitterEventListeners[a]=[]),w.emitterEventListeners[a].push(b),w},w.off=function(a,b){var c;if(a=o(a),"undefined"==typeof b)return w.emitterEventListeners[a]=[],w;if(w.emitterEventListeners[a]&&0!==w.emitterEventListeners[a].length){for(c=0;c<w.emitterEventListeners[a].length;c++)w.emitterEventListeners[a][c]===b&&w.emitterEventListeners[a].splice(c,1);return w}},w.once=function(a,b){a=o(a);var c=function(){b(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]),w.off(a,c)};return w.on(a,c),w},w.a11y={makeFocusable:function(a){return a.attr("tabIndex","0"),a},addRole:function(a,b){return a.attr("role",b),a},addLabel:function(a,b){return a.attr("aria-label",b),a},disable:function(a){return a.attr("aria-disabled",!0),a},enable:function(a){return a.attr("aria-disabled",!1),a},onEnterKey:function(a){13===a.keyCode&&(c(a.target).is(w.params.nextButton)?(w.onClickNext(a),w.isEnd?w.a11y.notify(w.params.lastSlideMessage):w.a11y.notify(w.params.nextSlideMessage)):c(a.target).is(w.params.prevButton)&&(w.onClickPrev(a),w.isBeginning?w.a11y.notify(w.params.firstSlideMessage):w.a11y.notify(w.params.prevSlideMessage)),c(a.target).is("."+w.params.bulletClass)&&c(a.target)[0].click())},liveRegion:c('<span class="swiper-notification" aria-live="assertive" aria-atomic="true"></span>'),notify:function(a){var b=w.a11y.liveRegion;0!==b.length&&(b.html(""),b.html(a))},init:function(){
if(w.params.nextButton){var a=c(w.params.nextButton);w.a11y.makeFocusable(a),w.a11y.addRole(a,"button"),w.a11y.addLabel(a,w.params.nextSlideMessage)}if(w.params.prevButton){var b=c(w.params.prevButton);w.a11y.makeFocusable(b),w.a11y.addRole(b,"button"),w.a11y.addLabel(b,w.params.prevSlideMessage)}c(w.container).append(w.a11y.liveRegion)},initPagination:function(){w.params.pagination&&w.params.paginationClickable&&w.bullets&&w.bullets.length&&w.bullets.each(function(){var a=c(this);w.a11y.makeFocusable(a),w.a11y.addRole(a,"button"),w.a11y.addLabel(a,w.params.paginationBulletMessage.replace(/{{index}}/,a.index()+1))})},destroy:function(){w.a11y.liveRegion&&w.a11y.liveRegion.length>0&&w.a11y.liveRegion.remove()}},w.init=function(){w.params.loop&&w.createLoop(),w.updateContainerSize(),w.updateSlidesSize(),w.updatePagination(),w.params.scrollbar&&w.scrollbar&&(w.scrollbar.set(),w.params.scrollbarDraggable&&w.scrollbar.enableDraggable()),"slide"!==w.params.effect&&w.effects[w.params.effect]&&(w.params.loop||w.updateProgress(),w.effects[w.params.effect].setTranslate()),w.params.loop?w.slideTo(w.params.initialSlide+w.loopedSlides,0,w.params.runCallbacksOnInit):(w.slideTo(w.params.initialSlide,0,w.params.runCallbacksOnInit),0===w.params.initialSlide&&(w.parallax&&w.params.parallax&&w.parallax.setTranslate(),w.lazy&&w.params.lazyLoading&&(w.lazy.load(),w.lazy.initialImageLoaded=!0))),w.attachEvents(),w.params.observer&&w.support.observer&&w.initObservers(),w.params.preloadImages&&!w.params.lazyLoading&&w.preloadImages(),w.params.autoplay&&w.startAutoplay(),w.params.keyboardControl&&w.enableKeyboardControl&&w.enableKeyboardControl(),w.params.mousewheelControl&&w.enableMousewheelControl&&w.enableMousewheelControl(),w.params.hashnav&&w.hashnav&&w.hashnav.init(),w.params.a11y&&w.a11y&&w.a11y.init(),w.emit("onInit",w)},w.cleanupStyles=function(){w.container.removeClass(w.classNames.join(" ")).removeAttr("style"),w.wrapper.removeAttr("style"),w.slides&&w.slides.length&&w.slides.removeClass([w.params.slideVisibleClass,w.params.slideActiveClass,w.params.slideNextClass,w.params.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-column").removeAttr("data-swiper-row"),w.paginationContainer&&w.paginationContainer.length&&w.paginationContainer.removeClass(w.params.paginationHiddenClass),w.bullets&&w.bullets.length&&w.bullets.removeClass(w.params.bulletActiveClass),w.params.prevButton&&c(w.params.prevButton).removeClass(w.params.buttonDisabledClass),w.params.nextButton&&c(w.params.nextButton).removeClass(w.params.buttonDisabledClass),w.params.scrollbar&&w.scrollbar&&(w.scrollbar.track&&w.scrollbar.track.length&&w.scrollbar.track.removeAttr("style"),w.scrollbar.drag&&w.scrollbar.drag.length&&w.scrollbar.drag.removeAttr("style"))},w.destroy=function(a,b){w.detachEvents(),w.stopAutoplay(),w.params.scrollbar&&w.scrollbar&&w.params.scrollbarDraggable&&w.scrollbar.disableDraggable(),w.params.loop&&w.destroyLoop(),b&&w.cleanupStyles(),w.disconnectObservers(),w.params.keyboardControl&&w.disableKeyboardControl&&w.disableKeyboardControl(),w.params.mousewheelControl&&w.disableMousewheelControl&&w.disableMousewheelControl(),w.params.a11y&&w.a11y&&w.a11y.destroy(),w.emit("onDestroy"),a!==!1&&(w=null)},w.init(),w}};d.prototype={isSafari:function(){var a=navigator.userAgent.toLowerCase();return a.indexOf("safari")>=0&&a.indexOf("chrome")<0&&a.indexOf("android")<0}(),isUiWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent),isArray:function(a){return"[object Array]"===Object.prototype.toString.apply(a)},browser:{ie:window.navigator.pointerEnabled||window.navigator.msPointerEnabled,ieTouch:window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>1||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>1},device:function(){var a=navigator.userAgent,b=a.match(/(Android);?[\s\/]+([\d.]+)?/),c=a.match(/(iPad).*OS\s([\d_]+)/),d=a.match(/(iPod)(.*OS\s([\d_]+))?/),e=!c&&a.match(/(iPhone\sOS)\s([\d_]+)/);return{ios:c||e||d,android:b}}(),support:{touch:window.Modernizr&&Modernizr.touch===!0||function(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}(),transforms3d:window.Modernizr&&Modernizr.csstransforms3d===!0||function(){var a=document.createElement("div").style;return"webkitPerspective"in a||"MozPerspective"in a||"OPerspective"in a||"MsPerspective"in a||"perspective"in a}(),flexbox:function(){for(var a=document.createElement("div").style,b="alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient".split(" "),c=0;c<b.length;c++)if(b[c]in a)return!0}(),observer:function(){return"MutationObserver"in window||"WebkitMutationObserver"in window}()},plugins:{}};for(var e=(function(){var a=function(a){var b=this,c=0;for(c=0;c<a.length;c++)b[c]=a[c];return b.length=a.length,this},b=function(b,c){var d=[],e=0;if(b&&!c&&b instanceof a)return b;if(b)if("string"==typeof b){var f,g,h=b.trim();if(h.indexOf("<")>=0&&h.indexOf(">")>=0){var i="div";for(0===h.indexOf("<li")&&(i="ul"),0===h.indexOf("<tr")&&(i="tbody"),(0===h.indexOf("<td")||0===h.indexOf("<th"))&&(i="tr"),0===h.indexOf("<tbody")&&(i="table"),0===h.indexOf("<option")&&(i="select"),g=document.createElement(i),g.innerHTML=b,e=0;e<g.childNodes.length;e++)d.push(g.childNodes[e])}else for(f=c||"#"!==b[0]||b.match(/[ .<>:~]/)?(c||document).querySelectorAll(b):[document.getElementById(b.split("#")[1])],e=0;e<f.length;e++)f[e]&&d.push(f[e])}else if(b.nodeType||b===window||b===document)d.push(b);else if(b.length>0&&b[0].nodeType)for(e=0;e<b.length;e++)d.push(b[e]);return new a(d)};return a.prototype={addClass:function(a){if("undefined"==typeof a)return this;for(var b=a.split(" "),c=0;c<b.length;c++)for(var d=0;d<this.length;d++)this[d].classList.add(b[c]);return this},removeClass:function(a){for(var b=a.split(" "),c=0;c<b.length;c++)for(var d=0;d<this.length;d++)this[d].classList.remove(b[c]);return this},hasClass:function(a){return this[0]?this[0].classList.contains(a):!1},toggleClass:function(a){for(var b=a.split(" "),c=0;c<b.length;c++)for(var d=0;d<this.length;d++)this[d].classList.toggle(b[c]);return this},attr:function(a,b){if(1===arguments.length&&"string"==typeof a)return this[0]?this[0].getAttribute(a):void 0;for(var c=0;c<this.length;c++)if(2===arguments.length)this[c].setAttribute(a,b);else for(var d in a)this[c][d]=a[d],this[c].setAttribute(d,a[d]);return this},removeAttr:function(a){for(var b=0;b<this.length;b++)this[b].removeAttribute(a);return this},data:function(a,b){if("undefined"!=typeof b){for(var c=0;c<this.length;c++){var d=this[c];d.dom7ElementDataStorage||(d.dom7ElementDataStorage={}),d.dom7ElementDataStorage[a]=b}return this}if(this[0]){var e=this[0].getAttribute("data-"+a);return e?e:this[0].dom7ElementDataStorage&&a in this[0].dom7ElementDataStorage?this[0].dom7ElementDataStorage[a]:void 0}},transform:function(a){for(var b=0;b<this.length;b++){var c=this[b].style;c.webkitTransform=c.MsTransform=c.msTransform=c.MozTransform=c.OTransform=c.transform=a}return this},transition:function(a){"string"!=typeof a&&(a+="ms");for(var b=0;b<this.length;b++){var c=this[b].style;c.webkitTransitionDuration=c.MsTransitionDuration=c.msTransitionDuration=c.MozTransitionDuration=c.OTransitionDuration=c.transitionDuration=a}return this},on:function(a,c,d,e){function f(a){var e=a.target;if(b(e).is(c))d.call(e,a);else for(var f=b(e).parents(),g=0;g<f.length;g++)b(f[g]).is(c)&&d.call(f[g],a)}var g,h,i=a.split(" ");for(g=0;g<this.length;g++)if("function"==typeof c||c===!1)for("function"==typeof c&&(d=arguments[1],e=arguments[2]||!1),h=0;h<i.length;h++)this[g].addEventListener(i[h],d,e);else for(h=0;h<i.length;h++)this[g].dom7LiveListeners||(this[g].dom7LiveListeners=[]),this[g].dom7LiveListeners.push({listener:d,liveListener:f}),this[g].addEventListener(i[h],f,e);return this},off:function(a,b,c,d){for(var e=a.split(" "),f=0;f<e.length;f++)for(var g=0;g<this.length;g++)if("function"==typeof b||b===!1)"function"==typeof b&&(c=arguments[1],d=arguments[2]||!1),this[g].removeEventListener(e[f],c,d);else if(this[g].dom7LiveListeners)for(var h=0;h<this[g].dom7LiveListeners.length;h++)this[g].dom7LiveListeners[h].listener===c&&this[g].removeEventListener(e[f],this[g].dom7LiveListeners[h].liveListener,d);return this},once:function(a,b,c,d){function e(g){c(g),f.off(a,b,e,d)}var f=this;"function"==typeof b&&(b=!1,c=arguments[1],d=arguments[2]),f.on(a,b,e,d)},trigger:function(a,b){for(var c=0;c<this.length;c++){var d;try{d=new window.CustomEvent(a,{detail:b,bubbles:!0,cancelable:!0})}catch(e){d=document.createEvent("Event"),d.initEvent(a,!0,!0),d.detail=b}this[c].dispatchEvent(d)}return this},transitionEnd:function(a){function b(f){if(f.target===this)for(a.call(this,f),c=0;c<d.length;c++)e.off(d[c],b)}var c,d=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],e=this;if(a)for(c=0;c<d.length;c++)e.on(d[c],b);return this},width:function(){return this[0]===window?window.innerWidth:this.length>0?parseFloat(this.css("width")):null},outerWidth:function(a){return this.length>0?a?this[0].offsetWidth+parseFloat(this.css("margin-right"))+parseFloat(this.css("margin-left")):this[0].offsetWidth:null},height:function(){return this[0]===window?window.innerHeight:this.length>0?parseFloat(this.css("height")):null},outerHeight:function(a){return this.length>0?a?this[0].offsetHeight+parseFloat(this.css("margin-top"))+parseFloat(this.css("margin-bottom")):this[0].offsetHeight:null},offset:function(){if(this.length>0){var a=this[0],b=a.getBoundingClientRect(),c=document.body,d=a.clientTop||c.clientTop||0,e=a.clientLeft||c.clientLeft||0,f=window.pageYOffset||a.scrollTop,g=window.pageXOffset||a.scrollLeft;return{top:b.top+f-d,left:b.left+g-e}}return null},css:function(a,b){var c;if(1===arguments.length){if("string"!=typeof a){for(c=0;c<this.length;c++)for(var d in a)this[c].style[d]=a[d];return this}if(this[0])return window.getComputedStyle(this[0],null).getPropertyValue(a)}if(2===arguments.length&&"string"==typeof a){for(c=0;c<this.length;c++)this[c].style[a]=b;return this}return this},each:function(a){for(var b=0;b<this.length;b++)a.call(this[b],b,this[b]);return this},html:function(a){if("undefined"==typeof a)return this[0]?this[0].innerHTML:void 0;for(var b=0;b<this.length;b++)this[b].innerHTML=a;return this},is:function(c){if(!this[0])return!1;var d,e;if("string"==typeof c){var f=this[0];if(f===document)return c===document;if(f===window)return c===window;if(f.matches)return f.matches(c);if(f.webkitMatchesSelector)return f.webkitMatchesSelector(c);if(f.mozMatchesSelector)return f.mozMatchesSelector(c);if(f.msMatchesSelector)return f.msMatchesSelector(c);for(d=b(c),e=0;e<d.length;e++)if(d[e]===this[0])return!0;return!1}if(c===document)return this[0]===document;if(c===window)return this[0]===window;if(c.nodeType||c instanceof a){for(d=c.nodeType?[c]:c,e=0;e<d.length;e++)if(d[e]===this[0])return!0;return!1}return!1},index:function(){if(this[0]){for(var a=this[0],b=0;null!==(a=a.previousSibling);)1===a.nodeType&&b++;return b}},eq:function(b){if("undefined"==typeof b)return this;var c,d=this.length;return b>d-1?new a([]):0>b?(c=d+b,new a(0>c?[]:[this[c]])):new a([this[b]])},append:function(b){var c,d;for(c=0;c<this.length;c++)if("string"==typeof b){var e=document.createElement("div");for(e.innerHTML=b;e.firstChild;)this[c].appendChild(e.firstChild)}else if(b instanceof a)for(d=0;d<b.length;d++)this[c].appendChild(b[d]);else this[c].appendChild(b);return this},prepend:function(b){var c,d;for(c=0;c<this.length;c++)if("string"==typeof b){var e=document.createElement("div");for(e.innerHTML=b,d=e.childNodes.length-1;d>=0;d--)this[c].insertBefore(e.childNodes[d],this[c].childNodes[0])}else if(b instanceof a)for(d=0;d<b.length;d++)this[c].insertBefore(b[d],this[c].childNodes[0]);else this[c].insertBefore(b,this[c].childNodes[0]);return this},insertBefore:function(a){for(var c=b(a),d=0;d<this.length;d++)if(1===c.length)c[0].parentNode.insertBefore(this[d],c[0]);else if(c.length>1)for(var e=0;e<c.length;e++)c[e].parentNode.insertBefore(this[d].cloneNode(!0),c[e])},insertAfter:function(a){for(var c=b(a),d=0;d<this.length;d++)if(1===c.length)c[0].parentNode.insertBefore(this[d],c[0].nextSibling);else if(c.length>1)for(var e=0;e<c.length;e++)c[e].parentNode.insertBefore(this[d].cloneNode(!0),c[e].nextSibling)},next:function(c){return new a(this.length>0?c?this[0].nextElementSibling&&b(this[0].nextElementSibling).is(c)?[this[0].nextElementSibling]:[]:this[0].nextElementSibling?[this[0].nextElementSibling]:[]:[])},nextAll:function(c){var d=[],e=this[0];if(!e)return new a([]);for(;e.nextElementSibling;){var f=e.nextElementSibling;c?b(f).is(c)&&d.push(f):d.push(f),e=f}return new a(d)},prev:function(c){return new a(this.length>0?c?this[0].previousElementSibling&&b(this[0].previousElementSibling).is(c)?[this[0].previousElementSibling]:[]:this[0].previousElementSibling?[this[0].previousElementSibling]:[]:[])},prevAll:function(c){var d=[],e=this[0];if(!e)return new a([]);for(;e.previousElementSibling;){var f=e.previousElementSibling;c?b(f).is(c)&&d.push(f):d.push(f),e=f}return new a(d)},parent:function(a){for(var c=[],d=0;d<this.length;d++)a?b(this[d].parentNode).is(a)&&c.push(this[d].parentNode):c.push(this[d].parentNode);return b(b.unique(c))},parents:function(a){for(var c=[],d=0;d<this.length;d++)for(var e=this[d].parentNode;e;)a?b(e).is(a)&&c.push(e):c.push(e),e=e.parentNode;return b(b.unique(c))},find:function(b){for(var c=[],d=0;d<this.length;d++)for(var e=this[d].querySelectorAll(b),f=0;f<e.length;f++)c.push(e[f]);return new a(c)},children:function(c){for(var d=[],e=0;e<this.length;e++)for(var f=this[e].childNodes,g=0;g<f.length;g++)c?1===f[g].nodeType&&b(f[g]).is(c)&&d.push(f[g]):1===f[g].nodeType&&d.push(f[g]);return new a(b.unique(d))},remove:function(){for(var a=0;a<this.length;a++)this[a].parentNode&&this[a].parentNode.removeChild(this[a]);return this},add:function(){var a,c,d=this;for(a=0;a<arguments.length;a++){var e=b(arguments[a]);for(c=0;c<e.length;c++)d[d.length]=e[c],d.length++}return d}},b.fn=a.prototype,b.unique=function(a){for(var b=[],c=0;c<a.length;c++)-1===b.indexOf(a[c])&&b.push(a[c]);return b},b}()),f=["jQuery","Zepto","Dom7"],g=0;g<f.length;g++)window[f[g]]&&a(window[f[g]]);var h;h="undefined"==typeof e?window.Dom7||window.Zepto||window.jQuery:e,h&&("transitionEnd"in h.fn||(h.fn.transitionEnd=function(a){function b(f){if(f.target===this)for(a.call(this,f),c=0;c<d.length;c++)e.off(d[c],b)}var c,d=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],e=this;if(a)for(c=0;c<d.length;c++)e.on(d[c],b);return this}),"transform"in h.fn||(h.fn.transform=function(a){for(var b=0;b<this.length;b++){var c=this[b].style;c.webkitTransform=c.MsTransform=c.msTransform=c.MozTransform=c.OTransform=c.transform=a}return this}),"transition"in h.fn||(h.fn.transition=function(a){"string"!=typeof a&&(a+="ms");for(var b=0;b<this.length;b++){var c=this[b].style;c.webkitTransitionDuration=c.MsTransitionDuration=c.msTransitionDuration=c.MozTransitionDuration=c.OTransitionDuration=c.transitionDuration=a}return this})),window.Swiper=d}(),a.exports=window.Swiper}).call(b,c(1))},function(a,b,c){(function(b){var c=function(){},d={curClass:"cur",tabClass:"tab",panelClass:"panel",triggerType:"click",relateType:"index",curTab:0,initCb:c,changeCb:c},e=function(a,c){var e=this;return e.elem=a,e.opts=b.extend(!0,{},d,c),e.initFlag=1,e.init(),e};e.fn=e.prototype,e.fn.getElems=function(){var a=this,b=a.opts;a.tabElems=a.elem.find("."+b.tabClass),a.tabC=a.tabElems.parent(),a.panelElems=a.elem.find("."+b.panelClass),a.panelC=a.panelElems.parent()},e.fn.changeTab=function(a,b){var c=this,d=c.opts;a.tab.removeClass(d.curClass),a.panel.hide(),b.tab.addClass(d.curClass),b.panel.show(),!c.initFlag&&d.changeCb.apply(c,[a,b])},e.fn._findRelateTab=function(a){var b,c,d,e=this,f=e.opts;return b=e.tabC.find("."+f.curClass),"relate"==f.relateType?(c=e.panelC.find("[data-type="+b.data("relate")+"]"),d=e.panelC.find("[data-type="+a.data("relate")+"]")):(c=e.panelC.children().eq(b.index()),d=e.panelC.children().eq(a.index())),{before:{tab:b,panel:c},cur:{tab:a,panel:d}}},e.fn.bindEvents=function(){var a=this,c=a.opts,d=c.curClass;a.tabElems.on(c.triggerType,function(){var c=b(this);if(!c.hasClass(d)){var e=a._findRelateTab.apply(a,[c]);a.changeTab.apply(a,[e.before,e.cur])}})},e.fn._select=function(a){var b=this,c=b._findRelateTab(a);b.changeTab(c.before,c.cur)},e.fn.select=function(a){var b,c=this;return b="number"==typeof a?c.tabElems.eq(a):c.tabElems.filter("[data-type="+a+"]"),b.hasClass(c.opts.curClass)?void 0:(c._select(b),c)},e.fn.init=function(){var a=this;a.getElems(),a.bindEvents(),a.select(0),a.initFlag=0},b.fn.extend({pcTab:function(a){var c=b(this),d=c.data("pctab");return d?d:b.data(c,"pctab",new e(c,a))}}),a.exports=c}).call(b,c(1))},function(a,b,c){(function(a,b,d){function e(){d.map?(f(),a({click:!1,decodeURLComponents:!1})):requestAnimationFrame(e)}var f=c(105);a("/",function(a,c){b.trace({type:"view",pid:"index"}),d.state=d.INDEX}),a("/search",function(a,d){b.trace({type:"view",pid:"search"});var e=c(34);e(a,d)}),a("/search/busline",function(a,d){b.trace({type:"view",pid:"busline"});var e=c(34);e(a,d)}),a("/dir",function(a,d){b.trace({type:"view",pid:"dir"}),function(){var b=2,e=function(){--b<1&&function(){var b=c(56);b(a,d)}(c)};c.e(0,e),c.e(3,e)}()}),a("/around",function(a,d){b.trace({type:"view",pid:"around"}),function(){var b=2,e=function(){--b<1&&function(){var b=c(17);b(a,d)}(c)};c.e(0,e),c.e(2,e)}()}),a("/faves",function(a,d){b.trace({type:"view",pid:"faves"}),function(){var b=2,e=function(){--b<1&&function(){var b=c(73);b(a,d)}(c)};c.e(0,e),c.e(8,e)}()}),a("/events/smog",function(a,e){b.trace({type:"view",pid:"smogevent"});var f=d.loopCheck;f.addValid({name:"amap.map",valid:function(){return d.map},cb:function(){!function(){var b=2,d=function(){--b<1&&function(){var b=c(70);b(a,e)}(c)};c.e(0,d),c.e(7,d)}()}})}),a("/editpos",function(a,d){b.trace({type:"view",pid:"editpos"}),function(){var b=2,e=function(){--b<1&&function(){var b=c(65);b(a,d)}(c)};c.e(0,e),c.e(5,e)}()}),requestAnimationFrame(e)}).call(b,c(5),c(6),c(2))},function(a,b){a.exports=function(){throw new Error("define cannot be used indirect")}}]);